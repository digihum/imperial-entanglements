{"version":3,"sources":["webpack:///external \"React\"","webpack:///./build/common/ApiService.js","webpack:///external \"_\"","webpack:///./build/common/components/AddTabButton.js","webpack:///./build/common/components/ComboDropdown.js","webpack:///./build/common/components/Overlay.js","webpack:///./build/common/components/fields/EditableFieldComponent.js","webpack:///./build/common/components/SearchBar.js","webpack:///./build/common/components/fields/EditableHeader.js","webpack:///./build/common/components/fields/EditableComboDropdown.js","webpack:///./build/common/components/fields/EditableParagraph.js","webpack:///./build/common/components/fields/SameAsEditor.js","webpack:///./build/common/helper/findParentTree.js","webpack:///./build/common/helper/formatDate.js","webpack:///external \"mobx_lib\"","webpack:///./build/common/components/RecursiveTree.js","webpack:///./build/common/components/fields/PredicateDescription.js","webpack:///./build/common/itemTypes.js","webpack:///./build/common/literalTypes.js","webpack:///./build/common/stats/StatsGrid.js","webpack:///external \"react_lib\"","webpack:///external \"utility_lib\"","webpack:///./build/client/ClientApiService.js","webpack:///./build/common/FalconApp.js","webpack:///external \"ReactDOM\"","webpack:///./build/app/AdminApp.js","webpack:///./build/common/Exceptions.js","webpack:///./build/common/components/Loading.js","webpack:///./build/common/components/Sidebar.js","webpack:///./build/common/components/Toast.js","webpack:///./build/common/components/Workspace.js","webpack:///./build/common/components/entity_editor/DateFieldEditor.js","webpack:///./build/common/components/entity_editor/EntityFieldEditor.js","webpack:///./build/common/components/entity_editor/IntegerFieldEditor.js","webpack:///./build/common/components/entity_editor/RecordPredicate.js","webpack:///./build/common/components/entity_editor/RecordRow.js","webpack:///./build/common/components/entity_editor/RecordsEditor.js","webpack:///./build/common/components/entity_editor/StringFieldEditor.js","webpack:///./build/common/components/fields/DatePickerDropdown.js","webpack:///./build/common/components/fields/ScorePicker.js","webpack:///./build/common/components/modal/ConflictResolution.js","webpack:///./build/common/components/modal/CreateEntity.js","webpack:///./build/common/components/modal/CreateEntityType.js","webpack:///./build/common/components/modal/CreatePredicate.js","webpack:///./build/common/components/modal/CreatePresetRecord.js","webpack:///./build/common/components/modal/CreateRecord.js","webpack:///./build/common/components/modal/CreateSource.js","webpack:///./build/common/components/modal/CreateTabSet.js","webpack:///./build/common/components/object_list/EntityList.js","webpack:///./build/common/components/object_list/EntityTypeList.js","webpack:///./build/common/components/object_list/PredicateList.js","webpack:///./build/common/components/object_list/SourceList.js","webpack:///./build/common/components/sidebar/SearchBox.js","webpack:///./build/common/components/workspace/AdvancedSearchWorkspace.js","webpack:///./build/common/components/workspace/EmptyWorkspace.js","webpack:///./build/common/components/workspace/EntityEditorWorkspace.js","webpack:///./build/common/components/workspace/EntityTypeWorkspace.js","webpack:///./build/common/components/workspace/ObjectListWorkspace.js","webpack:///./build/common/components/workspace/PredicateEditorWorkspace.js","webpack:///./build/common/components/workspace/SourceEditorWorkspace.js","webpack:///./build/common/components/workspace/entity/EntityWorkspaceCoreView.js","webpack:///./build/common/components/workspace/entity/EntityWorkspaceReferenceView.js","webpack:///./build/common/components/workspace/workspace.js","webpack:///./build/common/stores/DataController.js","webpack:///./build/common/stores/DataStore.js","webpack:///./build/common/stores/ModalStore.js","webpack:///./build/common/views/Admin.js","webpack:///./build/common/views/AppDownload.js","webpack:///./build/common/views/DatabaseUpload.js","webpack:///./build/common/views/ObjectEditor.js","webpack:///./build/common/views/RouteNotFound.js","webpack:///./build/common/views/User.js","webpack:///./build/common/views/UserManagement.js","webpack:///external \"ui_lib\"","webpack:///./build/client/app.frontend.js"],"names":[],"mappings":";;;;AAAA,uB;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACjBA,mB;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,sHAAsH,cAAc,GAAG,UAAU,IAAI;AAC/L;AACA,sCAAsC,sJAAsJ;AAC5L,CAAC;AACD;AACA;AACA;AACA,wC;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C,aAAa;AACb,sEAAsE,QAAQ,QAAQ;AACtF;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mDAAmD;AAC1E;AACA;AACA;AACA;AACA;AACA,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA,mCAAmC,sEAAsE;AACzG;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,wEAAwE;AACpH;AACA,8CAA8C,kVAAkV;AAChY,gFAAgF,iFAAiF;AACjK,sEAAsE,gCAAgC,0DAA0D,gDAAgD;AAChN;AACA,8GAA8G,oGAAoG;AAClN,kDAAkD,iDAAiD;AACnG;AACA;AACA,2FAA2F,aAAa,QAAQ,GAAG,EAAE,qFAAqF;AAC1M,4GAA4G,yHAAyH;AACrO,kDAAkD,iDAAiD;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,iCAAiC;AAC7E,wCAAwC,iCAAiC;AACzE;AACA;AACA;AACA;AACA,mC;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0EAA0E;AACrG;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,2BAA2B,8CAA8C;AACzE;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA,2BAA2B,+CAA+C;AAC1E;AACA;AACA,qEAAqE,eAAe,gVAAgV;AACpa;AACA;AACA;AACA;AACA,kD;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qCAAqC;AACzE,yCAAyC,gCAAgC;AACzE,0CAA0C,kCAAkC;AAC5E,0CAA0C,uHAAuH;AACjK;AACA,qC;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mGAAmG;AAC7I;AACA;AACA;AACA,0CAA0C,mHAAmH;AAC7J,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F;AACA;AACA,0C;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,wBAAwB,uFAAuF,EAAE,EAAE;AACnM,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mGAAmG;AAC7I;AACA;AACA;AACA;AACA,iD;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,8DAA8D;AAC1G;AACA;AACA;AACA;AACA,8CAA8C,2EAA2E;AACzH;AACA;AACA;AACA,6CAA6C,6HAA6H,+BAA+B,EAAE;AAC3M,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F,2CAA2C,+BAA+B;AAC1E,0CAA0C,kDAAkD;AAC5F;AACA;AACA,6C;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,uBAAuB,gFAAgF;AACvG;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2BAA2B;AACvE,0CAA0C,qBAAqB;AAC/D;AACA;AACA,8CAA8C,wGAAwG;AACtJ,2DAA2D,0BAA0B;AACrF,+CAA+C,oCAAoC;AACnF,8CAA8C,kDAAkD;AAChG,+CAA+C,oCAAoC;AACnF,8CAA8C,kDAAkD;AAChG,4CAA4C,qCAAqC;AACjF,kDAAkD,8HAA8H,iCAAiC,yCAAyC;AAC1P,iDAAiD,qFAAqF;AACtI,kDAAkD,0BAA0B;AAC5E,uCAAuC,4BAA4B,8DAA8D,YAAY,IAAI,GAAG;AACpJ,0CAA0C,8BAA8B;AACxE;AACA,6DAA6D,wFAAwF;AACrJ;AACA;AACA;AACA,wC;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS,GAAG,IAAI,GAAG,MAAM,GAAG,KAAK;AAC/C;AACA,sC;;;;;;;;ACvBA,0B;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qGAAqG,kBAAkB;AACvH,wCAAwC,wDAAwD,mCAAmC,GAAG;AACtI;AACA;AACA;AACA,kEAAkE,6CAA6C;AAC/G,iEAAiE,6BAA6B;AAC9F,oDAAoD,0GAA0G;AAC9J;AACA;AACA;AACA,yC;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA,uBAAuB,uDAAuD;AAC9E;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,uBAAuB,qDAAqD;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,iBAAiB;AAC9E;AACA,4DAA4D,gBAAgB;AAC5E,4CAA4C,8CAA8C;AAC1F,wCAAwC,sBAAsB;AAC9D,4CAA4C,sBAAsB;AAClE,kDAAkD,qBAAqB;AACvE,8EAA8E,qKAAqK;AACnP;AACA,uDAAuD,+CAA+C;AACtG,sDAAsD,kDAAkD;AACxG,uDAAuD,+CAA+C;AACtG,sDAAsD,kDAAkD;AACxG;AACA;AACA,8CAA8C,yGAAyG,sBAAsB,GAAG;AAChL,4CAA4C,qBAAqB;AACjE,8CAA8C,6DAA6D;AAC3G,4CAA4C,qBAAqB;AACjE,kDAAkD,qBAAqB;AACvE,sEAAsE,kKAAkK;AACxO;AACA,uDAAuD,8CAA8C;AACrG,sDAAsD,kDAAkD;AACxG,uDAAuD,8CAA8C;AACrG,sDAAsD,kDAAkD;AACxG;AACA;AACA,8CAA8C,yGAAyG,qBAAqB,GAAG;AAC/K;AACA;AACA;AACA,gD;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qC;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,oEAAoE;AACzE,KAAK,sEAAsE;AAC3E,KAAK,+DAA+D;AACpE,QAAQ,0EAA0E;AAClF,QAAQ,4EAA4E;AACpF,KAAK;AACL;AACA,wC;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,wCAAwC,sBAAsB;AAC9D,6CAA6C,yBAAyB;AACtE,6CAA6C,0BAA0B;AACvE,kDAAkD,0BAA0B;AAC5E,wCAAwC,2BAA2B;AACnE,6CAA6C,yBAAyB;AACtE,6CAA6C,0BAA0B;AACvE,kDAAkD,qBAAqB;AACvE,wCAAwC,sBAAsB;AAC9D,6CAA6C,yBAAyB;AACtE,6CAA6C,0BAA0B;AACvE,kDAAkD,wBAAwB;AAC1E,wCAAwC,yBAAyB;AACjE,6CAA6C,yBAAyB;AACtE,6CAA6C,0BAA0B;AACvE,oCAAoC,sBAAsB;AAC1D,yCAAyC,yBAAyB;AAClE,yCAAyC,0BAA0B;AACnE;AACA,qC;;;;;;;AC9BA,2B;;;;;;ACAA,6B;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ,GAAG,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ,GAAG,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ,GAAG,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ,GAAG,OAAO;AAClD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,6BAA6B;AAC7D;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,6BAA6B;AAC3F;AACA,wDAAwD,6BAA6B;AACrF;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC,aAAa;AACb,SAAS;AACT;AACA;AACA,4CAA4C,qCAAqC;AACjF,8DAA8D,8BAA8B,2oBAAwD;AACpJ,4CAA4C,iCAAiC,0BAA0B,EAAE;AACzG,gDAAgD,sBAAsB;AACtE,kEAAkE,kCAAkC;AACpG,wDAAwD,oBAAoB;AAC5E,kEAAkE,oCAAoC;AACtG,kEAAkE,8FAA8F;AAChK,kEAAkE,8FAA8F;AAChK,kEAAkE,oGAAoG;AACtK,kEAAkE,wGAAwG;AAC1K,4FAA4F,4BAA4B;AACxH,sEAAsE,wCAAwC;AAC9G,6DAA6D,4BAA4B;AACzF,sDAAsD,4CAA4C;AAClG,sDAAsD,sCAAsC;AAC5F,0DAA0D,mCAAmC;AAC7F,uGAAuG,qGAAqG,eAAe,uDAAuD,KAAK,iDAAiD,2GAA2G,eAAe,0BAA0B,KAAK;AACje,+DAA+D,0DAA0D;AACzH,+DAA+D,+EAA+E;AAC9I,+DAA+D,uEAAuE;AACtI,+DAA+D,gFAAgF;AAC/I,+DAA+D,wHAAwH,sBAAsB,eAAe,sBAAsB,KAAK;AACvP,+DAA+D,kHAAkH,sBAAsB,eAAe,oGAAoG,KAAK;AAC/T,8DAA8D,2CAA2C;AACzG;AACA;AACA;AACA,qC;;;;;;ACzFA,0B;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,oBAAoB;AAC/E;AACA;AACA,4EAA4E,qBAAqB;AACjG,oC;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,8BAA8B;AACtE,oCAAoC,sBAAsB;AAC1D;AACA,mC;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,+BAA+B;AAC1H,gCAAgC,sCAAsC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA+G,SAAS,UAAU,GAAG;AACrI,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qBAAqB;AAC9B,qCAAqC,iDAAiD;AACtF,oCAAoC,2BAA2B;AAC/D,sDAAsD,gBAAgB;AACtE,6CAA6C,2BAA2B;AACxE,oLAAoL,aAAa,YAAY,GAAG,EAAE,GAAG;AACrN;AACA;AACA;AACA,wIAAwI,aAAa,YAAY,GAAG,EAAE,GAAG,EAAE,GAAG;AAC9K;AACA;AACA,0GAA0G,2BAA2B;AACrI,qCAAqC,2BAA2B;AAChE,uCAAuC,+EAA+E;AACtH,uCAAuC,0FAA0F;AACjI,0DAA0D,4BAA4B;AACtF,sCAAsC,6GAA6G;AACnJ;AACA,uCAAuC,yBAAyB;AAChE;AACA;AACA;AACA;AACA;AACA,2BAA2B,kCAAkC,GAAG,QAAQ;AACxE;AACA;AACA;AACA;AACA,uCAAuC,kCAAkC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA,2CAA2C,aAAa,YAAY,GAAG,aAAa,GAAG,QAAQ,GAAG,UAAU,mJAAmJ;AAC/P,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE,wDAAwD,yEAAyE;AACjI,wCAAwC,+BAA+B;AACvE,+CAA+C,qDAAqD;AACpG,8CAA8C,2BAA2B;AACzE;AACA,+CAA+C,gDAAgD,mFAAmF,EAAE,GAAG;AACvL,8CAA8C,8BAA8B;AAC5E;AACA,+CAA+C,+BAA+B,uCAAuC,GAAG;AACxH,8CAA8C,8BAA8B;AAC5E;AACA,wCAAwC,mCAAmC;AAC3E,+CAA+C,8IAA8I;AAC7L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sCAAsC;AACrF;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,mHAAmH,eAAe,SAAS,WAAW,6BAA6B,sBAAsB,YAAY,GAAG;AACxN,wCAAwC,qBAAqB;AAC7D,wCAAwC,uBAAuB;AAC/D;AACA;AACA;AACA,iC;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,mEAAmE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,iDAAiD;AAC7F,wCAAwC,iDAAiD,2CAA2C,oBAAoB;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,6BAA6B;AACrE,sEAAsE,+CAA+C;AACrH;AACA,2C;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,oEAAoE;AACzH;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,sEAAsE,6NAA6N;AACnS;AACA,6C;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0EAA0E;AACpH;AACA,8C;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,mCAAmC;AACtI,0DAA0D,kBAAkB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,8BAA8B;AACrE;AACA;AACA,0CAA0C,+HAA+H,2BAA2B,UAAU;AAC9M,kEAAkE,sDAAsD;AACxH,0CAA0C,oCAAoC;AAC9E;AACA,+CAA+C,gCAAgC;AAC/E,mDAAmD,mCAAmC;AACtF,8FAA8F,+BAA+B;AAC7H,mDAAmD,+BAA+B;AAClF,mDAAmD,qCAAqC;AACxF,mDAAmD,qCAAqC;AACxF,mDAAmD,uCAAuC;AAC1F,0IAA0I,aAAa,WAAW,sKAAsK;AACxU;AACA;AACA;AACA,2C;;;;;;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,uFAAuF,QAAQ,IAAI;AACnL;AACA,4EAA4E,uFAAuF,QAAQ,IAAI;AAC/K;AACA,kFAAkF,uFAAuF,QAAQ,IAAI;AACrL;AACA,gFAAgF,uHAAuH,QAAQ,8BAA8B;AAC7O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,qCAAqC;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,0BAA0B;AACrE,uCAAuC,mCAAmC;AAC1E,6EAA6E,+BAA+B;AAC5G,uCAAuC,+BAA+B;AACtE,0EAA0E,0CAA0C,oEAAoE,8GAA8G,+CAA+C,+CAA+C;AACpY,uCAAuC,qCAAqC;AAC5E,gEAAgE,4GAA4G,QAAQ,IAAI;AACxL,uCAAuC,sCAAsC;AAC7E,wEAAwE,mGAAmG,SAAS,IAAI;AACxL,uCAAuC,uCAAuC;AAC9E,+CAA+C,+BAA+B;AAC9E,8CAA8C,kDAAkD;AAChG,+CAA+C,+BAA+B;AAC9E,8CAA8C,kDAAkD;AAChG;AACA;AACA,2CAA2C,0BAA0B;AACrE,uCAAuC,mCAAmC;AAC1E;AACA;AACA,6EAA6E,+BAA+B;AAC5G,uCAAuC,+BAA+B;AACtE;AACA,kIAAkI,8CAA8C;AAChL,uCAAuC,qCAAqC;AAC5E,gEAAgE,2CAA2C;AAC3G,uCAAuC,sCAAsC;AAC7E,uCAAuC,uCAAuC;AAC9E,+CAA+C,yBAAyB;AACxE,8CAA8C,2EAA2E;AACzH,+CAA+C,6CAA6C;AAC5F,8CAA8C,kDAAkD;AAChG;AACA,CAAC;AACD,qC;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,oDAAoD,+BAA+B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,qBAAqB;AACvE,gDAAgD,SAAS,kBAAkB,EAAE;AAC7E,oDAAoD,SAAS,YAAY,EAAE;AAC3E,wEAAwE,yEAAyE,aAAa,GAAG;AACjK,oDAAoD,SAAS,0CAA0C,EAAE;AACzG,sDAAsD,sIAAsI;AAC5L;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,iBAAiB,QAAQ,qNAAqN;AACtU,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oFAAoF;AAC9H;AACA,6C;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,8BAA8B;AAC1E;AACA,8CAA8C,qQAAqQ;AACnT,sEAAsE,wBAAwB;AAC9F,4CAA4C,kFAAkF;AAC9H,oDAAoD,0BAA0B;AAC9E,oDAAoD,kFAAkF;AACtI,oDAAoD,kFAAkF;AACtI,oDAAoD,kFAAkF;AACtI,oDAAoD,2BAA2B;AAC/E,oDAAoD,iCAAiC;AACrF,0DAA0D,qBAAqB;AAC/E,0DAA0D,+EAA+E;AACzI,oDAAoD,mCAAmC;AACvF,0DAA0D,qBAAqB;AAC/E,2DAA2D,uDAAuD;AAClH,+DAA+D,cAAc;AAC7E,kGAAkG,gBAAgB,MAAM,yDAAyD;AACjL,oDAAoD,kCAAkC;AACtF,0DAA0D,qBAAqB;AAC/E,0DAA0D,iFAAiF;AAC3I;AACA;AACA;AACA;AACA,8C;;;;;;;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4BAA4B,iDAAiD,6FAA6F;AACvN;AACA;AACA,6CAA6C,oCAAoC,mEAAmE;AACpJ;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA,uC;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kDAAkD;AAC5F;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,aAAa,WAAW,GAAG;AACtF;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA,2DAA2D,aAAa,WAAW,GAAG;AACtF;AACA,qBAAqB;AACrB;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA,2DAA2D,aAAa,eAAe,GAAG;AAC1F;AACA,qBAAqB;AACrB;AACA;AACA,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA,2DAA2D,aAAa,WAAW,GAAG;AACtF;AACA,qBAAqB;AACrB,wCAAwC,6BAA6B;AACrE,+CAA+C,qCAAqC;AACpF,+CAA+C,uDAAuD;AACtG,8CAA8C,6BAA6B;AAC3E;AACA,+CAA+C,kDAAkD;AACjG,8CAA8C,2BAA2B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA,yGAAyG;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,iBAAiB;AACjB;AACA,2BAA2B,iBAAiB;AAC5C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,0CAA0C,qDAAqD;AAC/F,8BAA8B,EAAE,6EAA6E,wBAAwB,GAAG;AACxI,0CAA0C,qBAAqB;AAC/D,sEAAsE,iDAAiD,6BAA6B,oGAAoG,aAAa,mDAAmD;AACxT,2CAA2C,mFAAmF;AAC9H,2CAA2C,wFAAwF;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,0CAA0C,+GAA+G,gCAAgC,GAAG;AAC5L,2CAA2C,6DAA6D;AACxG,2CAA2C,qEAAqE;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4C;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,uBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uCAAuC;AACpE;AACA,yBAAyB;AACzB;AACA;AACA,gCAAgC;AAChC,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT,0DAA0D,qBAAqB,+CAA+C,EAAE;AAChI,2EAA2E,yBAAyB,uCAAuC,EAAE;AAC7I;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+GAA+G;AAC/G;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,0CAA0C,iDAAiD;AAC3F;AACA,0CAA0C,qBAAqB;AAC/D,0CAA0C;AAC1C;AACA;AACA;AACA,iBAAiB,2DAA2D,wBAAwB,GAAG;AACvG,8EAA8E,0FAA0F,YAAY,uCAAuC,WAAW,oGAAoG;AAC1U,wCAAwC,6BAA6B;AACrE,+CAA+C,qDAAqD;AACpG,+CAA+C,2DAA2D;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sDAAsD;AAC1F,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gPAAgP,iBAAiB,GAAG;AAC7T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yCAAyC;AAChE;AACA;AACA;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,0CAA0C,+GAA+G,gCAAgC,GAAG;AAC5L,2CAA2C,6DAA6D;AACxG,2CAA2C,iEAAiE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,0CAA0C,+GAA+G,gCAAgC,GAAG;AAC5L,2CAA2C,6DAA6D;AACxG,2CAA2C,iEAAiE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,aAAa,GAAG,GAAG;AAC9D,wCAAwC,iCAAiC;AACzE,4CAA4C,6BAA6B;AACzE,8EAA8E,uLAAuL,8CAA8C,mEAAmE;AACtX,4CAA4C,6BAA6B;AACzE,8CAA8C,wEAAwE;AACtH,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uFAAuF;AACxG,iBAAiB,uFAAuF;AACxG,iBAAiB;AACjB;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,oEAAoE,EAAE;AACtE,+DAA+D,EAAE;AACjE,qEAAqE,EAAE;AACvE,sEAAsE,EAAE;AACxE,uEAAuE,EAAE;AACzE;AACA;AACA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,QAAQ,UAAU,EAAE,IAAI,WAAW;AAC3F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa,2IAA2I;AACxJ,aAAa,iDAAiD;AAC9D,aAAa,uDAAuD;AACpE,aAAa,wDAAwD;AACrE,aAAa;AACb;AACA,uBAAuB,OAAO;AAC9B,2BAA2B,oBAAoB;AAC/C,+CAA+C,EAAE,EAAE,eAAe;AAClE,0CAA0C,EAAE;AAC5C,0CAA0C,EAAE;AAC5C;AACA,sCAAsC,EAAE,mEAAmE,EAAE,EAAE,eAAe;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,+CAA+C;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,4CAA4C,gCAAgC;AAC5E,2CAA2C,oCAAoC;AAC/E,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E;AACA;AACA,sDAAsD,6HAA6H;AACnL,gDAAgD,2BAA2B;AAC3E,kDAAkD,+FAA+F;AACjJ,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,+BAA+B;AACnF,4CAA4C,2BAA2B;AACvE,8CAA8C,qBAAqB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,kHAAkH,aAAa,8FAA8F;AACvT,4FAA4F,aAAa,GAAG,GAAG;AAC/G,4DAA4D,yBAAyB;AACrF;AACA,uEAAuE,gHAAgH;AACvL,2EAA2E,eAAe;AAC1F,2EAA2E,kBAAkB;AAC7F,2EAA2E,oBAAoB;AAC/F,2EAA2E,mBAAmB;AAC9F;AACA,sEAAsE,6KAA6K;AACnP,0GAA0G,gBAAgB,QAAQ,GAAG;AACrI;AACA;AACA;AACA;AACA,8EAA8E,kCAAkC;AAChH;AACA,0EAA0E,iBAAiB,GAAG,GAAG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E,2CAA2C,yCAAyC;AACpF,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E;AACA;AACA,sDAAsD,kIAAkI;AACxL,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,2GAA2G,eAAe,GAAG;AACjL,oDAAoD,2GAA2G,eAAe,GAAG;AACjL,4CAA4C,2BAA2B;AACvE,4DAA4D,gEAAgE,gBAAgB,GAAG;AAC/I,4EAA4E,yBAAyB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,oBAAoB,eAAe,GAAG;AACjG;AACA;AACA;AACA,kFAAkF,8CAA8C;AAChI;AACA;AACA;AACA,qBAAqB,oCAAoC,yBAAyB;AAClF,8DAA8D,sIAAsI;AACpM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E,2CAA2C,uCAAuC;AAClF,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E;AACA;AACA,sDAAsD,+HAA+H;AACrL,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,kCAAkC;AACtF,4CAA4C,2BAA2B;AACvE,4DAA4D,gEAAgE,gBAAgB,GAAG;AAC/I,8CAA8C,yBAAyB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,mBAAmB,cAAc,GAAG;AAC/F;AACA;AACA;AACA,kFAAkF,2CAA2C;AAC7H;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E,2CAA2C,oCAAoC;AAC/E,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E;AACA;AACA,sDAAsD,6HAA6H;AACnL,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,sGAAsG,eAAe,GAAG;AAC5K,oDAAoD,sGAAsG,eAAe,GAAG;AAC5K,4CAA4C,2BAA2B;AACvE,4DAA4D,gEAAgE,gBAAgB,GAAG;AAC/I,4EAA4E,yBAAyB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,gBAAgB,WAAW,GAAG;AACzF;AACA;AACA;AACA,kFAAkF,qCAAqC;AACvH;AACA;AACA,qBAAqB,oCAAoC,yBAAyB;AAClF,8DAA8D,4HAA4H;AAC1L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,8BAA8B,4BAA4B,GAAG,WAAW,GAAG;AAC7J,8FAA8F,kCAAkC,iCAAiC,GAAG,eAAe,GAAG;AACtL,0FAA0F,iCAAiC,+BAA+B,GAAG,cAAc,GAAG;AAC9K,iFAAiF,8BAA8B,4BAA4B,GAAG,WAAW,GAAG;AAC5J;AACA;AACA,oCAAoC,qCAAqC;AACzE,yCAAyC,gCAAgC;AACzE,0CAA0C,kCAAkC;AAC5E,sEAAsE,SAAS,uBAAuB;AACtG;AACA,6DAA6D,UAAU;AACvE;AACA,iBAAiB,yEAAyE,EAAE,EAAE;AAC9F;AACA,kCAAkC;AAClC,qC;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,gCAAgC;AAC1G;AACA,mD;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,gCAAgC;AAC5F;AACA,0C;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,oDAAoD,+BAA+B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E,2CAA2C,oCAAoC;AAC/E,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E,kDAAkD,oCAAoC;AACtF,2EAA2E,wDAAwD,iBAAiB,GAAG;AACvJ,gDAAgD,2BAA2B;AAC3E,kDAAkD,8FAA8F;AAChJ,kDAAkD,yFAAyF;AAC3I,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,gGAAgG,SAAS,GAAG;AAChK,oDAAoD,gGAAgG,SAAS,GAAG;AAChK,4GAA4G,qDAAqD,wFAAwF,qDAAqD;AAC9S;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B,qBAAqB;AACzF;AACA;AACA;AACA,0GAA0G,gDAAgD,uCAAuC;AACjM,mHAAmH;AACnH;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,iCAAiC;AACxG,4CAA4C,gCAAgC;AAC5E,2CAA2C,yCAAyC;AACpF,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E,oDAAoD,4BAA4B;AAChF;AACA,iEAAiE,oBAAoB,OAAO,GAAG;AAC/F;AACA;AACA;AACA;AACA,sFAAsF,sCAAsC;AAC5H;AACA,0DAA0D,iCAAiC;AAC3F,yBAAyB;AACzB,kDAAkD,mCAAmC;AACrF,2EAA2E,4DAA4D,iBAAiB,GAAG;AAC3J,gDAAgD,2BAA2B;AAC3E,kDAAkD,mGAAmG;AACrJ,kDAAkD,8FAA8F;AAChJ,kDAAkD,wFAAwF;AAC1I,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,oCAAoC;AACxF,4CAA4C,2BAA2B;AACvE,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,sEAAsE,sCAAsC,uBAAuB,IAAI,4CAA4C,oCAAoC,gDAAgD;AACvQ;AACA;AACA,yBAAyB,EAAE;AAC3B,oGAAoG,iDAAiD;AACrJ,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,0EAA0E,kEAAkE,uBAAuB,GAAG;AACtK,4CAA4C,0BAA0B;AACtE,uEAAuE,6DAA6D,kBAAkB,GAAG;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,YAAY,cAAc,GAAG;AACxF;AACA;AACA,8EAA8E,2CAA2C;AACzH,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+C;;;;;;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,4CAA4C;AAClH;AACA;AACA,kEAAkE,qBAAqB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+C;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wGAAwG,+CAA+C,sCAAsC;AAC7L,+GAA+G;AAC/G;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,uBAAuB;AACvB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT,4EAA4E,uBAAuB,qCAAqC,EAAE;AAC1I,8DAA8D,qBAAqB,+CAA+C,EAAE;AACpI,4CAA4C,gCAAgC;AAC5E,2CAA2C,uCAAuC;AAClF,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E,kDAAkD,gDAAgD;AAClG,2EAA2E,oFAAoF;AAC/J,gDAAgD,2BAA2B;AAC3E,kDAAkD,8FAA8F;AAChJ,kDAAkD,wFAAwF;AAC1I,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,kCAAkC;AACtF,oDAAoD,SAAS,kBAAkB,0BAA0B;AACzG,4CAA4C,2BAA2B;AACvE;AACA,8DAA8D,2BAA2B,cAAc,gBAAgB;AACvH;AACA;AACA,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,0EAA0E,gGAAgG;AAC1K,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,sFAAsF,yTAAyT;AAC/Y;AACA,uEAAuE,sFAAsF;AAC7J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oD;;;;;;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG,iBAAiB;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,gHAAgH,4CAA4C,2DAA2D;AACvN,sGAAsG;AACtG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E,2CAA2C,oCAAoC;AAC/E,4CAA4C,+BAA+B;AAC3E,gDAAgD,4BAA4B;AAC5E,oDAAoD,4BAA4B;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,oBAAoB,WAAW,GAAG;AACnG;AACA;AACA;AACA;AACA,sFAAsF,qCAAqC;AAC3H;AACA,0DAA0D,iCAAiC;AAC3F,yBAAyB;AACzB,kDAAkD,qCAAqC;AACvF,8EAA8E,8EAA8E;AAC5J,gDAAgD,2BAA2B;AAC3E,kDAAkD,mGAAmG;AACrJ,kDAAkD,2FAA2F;AAC7I,kDAAkD,6GAA6G;AAC/J,4CAA4C,iCAAiC;AAC7E,gDAAgD,uBAAuB;AACvE,oDAAoD,+BAA+B;AACnF,oDAAoD,8BAA8B,kBAAkB,EAAE;AACtG,oDAAoD,8BAA8B,kBAAkB,EAAE;AACtG,4CAA4C,2BAA2B;AACvE,4CAA4C,0BAA0B;AACtE,kDAAkD,qBAAqB;AACvE,sEAAsE,SAAS,wCAAwC;AACvH,qEAAqE,iCAAiC;AACtG;AACA,yBAAyB,EAAE;AAC3B,gGAAgG,wCAAwC;AACxI,4CAA4C,0BAA0B;AACtE,uEAAuE,gFAAgF;AACvJ;AACA;AACA,kEAAkE,mCAAmC;AACrG;AACA,wDAAwD,SAAS,cAAc,QAAQ;AACvF,mDAAmD,8BAA8B;AACjF;AACA;AACA;AACA,0DAA0D,oBAAoB;AAC9E,kDAAkD,mCAAmC;AACrF,0IAA0I,SAAS,YAAY,GAAG,aAAa,GAAG;AAClL;AACA;AACA;AACA,8EAA8E,sFAAsF;AACpK,iBAAiB;AACjB;AACA;AACA;AACA;AACA,sEAAsE,YAAY,YAAY,GAAG;AACjG;AACA;AACA,0EAA0E,sCAAsC;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,+CAA+C;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,2BAA2B;AAC3E,wCAAwC,yBAAyB;AACjE,4CAA4C,yBAAyB;AACrE;AACA,sDAAsD,qBAAqB;AAC3E;AACA;AACA,0EAA0E,8CAA8C;AACxH,4CAA4C,SAAS,UAAU,EAAE;AACjE,kDAAkD,qBAAqB;AACvE,sEAAsE,SAAS,wCAAwC,oCAAoC,gDAAgD;AAC3M,qEAAqE,iCAAiC;AACtG;AACA,yBAAyB,EAAE;AAC3B,gGAAgG,wCAAwC;AACxI,wCAAwC,0BAA0B;AAClE,oEAAoE,oGAAoG,EAAE,0EAA0E;AACpP;AACA;AACA;AACA;AACA;AACA;AACA,mD;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,2BAA2B;AAC3E;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA,uDAAuD,gBAAgB,WAAW,GAAG;AACrF;AACA;AACA;AACA,8EAA8E,wCAAwC;AACtH;AACA;AACA;AACA,8EAA8E,8CAA8C;AAC5H,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,wD;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iDAAiD;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,kBAAkB;AACrH,mGAAmG,8CAA8C;AACjJ,uEAAuE,oCAAoC;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kHAAkH,kBAAkB;AACpI,4DAA4D,yBAAyB;AACrF;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB,8BAA8B;AAC7E,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,wBAAwB,4BAA4B;AACpD,aAAa;AACb;AACA;AACA,kGAAkG;AAClG,4FAA4F;AAC5F,4FAA4F;AAC5F,qGAAqG;AACrG;AACA;AACA;AACA;AACA,gCAAgC,0CAA0C;AAC1E,6BAA6B,uCAAuC;AACpE,6BAA6B,wCAAwC;AACrE,kCAAkC,0CAA0C;AAC5E,iCAAiC;AACjC;AACA,aAAa;AACb;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sCAAsC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;AChRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8BAA8B;AAC/C,sBAAsB,8BAA8B;AACpD,oBAAoB,8BAA8B;AAClD,iBAAiB,8BAA8B;AAC/C,qBAAqB;AACrB,KAAK;AACL;AACA;AACA,kBAAkB;AAClB,uBAAuB;AACvB,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA,qC;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,gBAAgB,uHAAuH;AACjO;AACA,oFAAoF,gBAAgB,8JAA8J;AAClQ;AACA,gGAAgG,gBAAgB,gDAAgD;AAChK;AACA,oFAAoF,gBAAgB,2DAA2D;AAC/J;AACA,oFAAoF;AACpF;AACA,4FAA4F;AAC5F;AACA,gGAAgG,gBAAgB,qHAAqH;AACrO;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iEAAiE,oBAAoB;AACrF;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA,0DAA0D,eAAe;AACzE,8CAA8C,2BAA2B;AACzE;AACA;AACA,0DAA0D,aAAa;AACvE,8CAA8C,8BAA8B;AAC5E;AACA;AACA,0CAA0C,oBAAoB;AAC9D,8CAA8C,oCAAoC;AAClF;AACA;AACA,0DAA0D,gBAAgB;AAC1E,8CAA8C,kCAAkC;AAChF;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D,+CAA+C,gBAAgB,WAAW,GAAG;AAC7E,6CAA6C,iBAAiB;AAC9D,iDAAiD,yDAAyD;AAC1G;AACA,kDAAkD,oEAAoE;AACtH,SAAS;AACT,wEAAwE,qBAAqB;AAC7F;AACA;AACA;AACA,iC;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,oBAAoB;AAClF;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA,0CAA0C,0HAA0H;AACpK,8CAA8C,6BAA6B;AAC3E;AACA;AACA,0CAA0C,oHAAoH;AAC9J,8CAA8C,2BAA2B;AACzE;AACA;AACA,0CAA0C,4HAA4H;AACtK,8CAA8C,2BAA2B;AACzE;AACA,uC;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,oBAAoB;AACrF;AACA;AACA,sCAAsC,+CAA+C;AACrF,uCAAuC,iBAAiB,0BAA0B,EAAE,EAAE;AACtF,0C;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB;AAClE,gDAAgD,6DAA6D;AAC7G,oDAAoD,oHAAoH;AACxK,4EAA4E,oHAAoH;AAChM,oCAAoC,SAAS,kBAAkB,sFAAsF,oDAAoD,2CAA2C,gCAAgC,6CAA6C;AACjU,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,4DAA4D,0EAA0E;AACtI,4CAA4C,8CAA8C;AAC1F;AACA,6CAA6C,qDAAqD;AAClG,6CAA6C,yBAAyB;AACtE,2DAA2D,0OAA0O,6CAA6C,+HAA+H;AACjd;AACA;AACA,6CAA6C,qDAAqD;AAClG;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA;AACA,gC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,oBAAoB;AACrF;AACA;AACA,0C;;;;;;;;;;;;;;;;;;;;;ACVA,wB;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;AACL,CAAC;AACD,wC","file":"./main.dist.js","sourcesContent":["module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst itemTypes_1 = require(\"./itemTypes\");\r\nexports.AppUrls = {\r\n    element_set: itemTypes_1.itemTypes.element_set.machineName,\r\n    record: itemTypes_1.itemTypes.record.machineName,\r\n    entity: itemTypes_1.itemTypes.entity.machineName,\r\n    entity_type: itemTypes_1.itemTypes.entity_type.machineName,\r\n    predicate: itemTypes_1.itemTypes.predicate.machineName,\r\n    source: itemTypes_1.itemTypes.source.machineName,\r\n    source_element: itemTypes_1.itemTypes.source_element.machineName,\r\n    element: 'element'\r\n};\r\n//# sourceMappingURL=ApiService.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/ApiService.js\n// module id = 2\n// module chunks = 0","module.exports = _;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 4\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nexports.AddTabButton = mobx_react_1.inject('dataStore')(mobx_react_1.observer((props, context) => {\r\n    if (props.dataStore.dataStore.tabs[props.tabType] !== undefined\r\n        && props.uid in props.dataStore.dataStore.tabs[props.tabType]) {\r\n        return (React.createElement(\"i\", { className: 'fa fa-folder-open-o add button', title: 'Open item', onClick: () => context.router.transitionTo(`/edit/${props.tabType}/${props.uid}`) }, \" \"));\r\n    }\r\n    return (React.createElement(\"i\", { className: 'icon-list-add add button', title: 'Add to list', onClick: () => props.dataStore.createTab(props.tabType, props.uid, 'item', props.data) }));\r\n}));\r\nexports.AddTabButton.wrappedComponent.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\n//# sourceMappingURL=AddTabButton.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/AddTabButton.js\n// module id = 5\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst lunr = require(\"lunr\");\r\nconst lodash_1 = require(\"lodash\");\r\nclass ComboDropdown extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchString: '',\r\n            showingDropDown: false,\r\n            filteredOptions: [],\r\n            highlightedIndex: null,\r\n            dropDownHeight: 0\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.ignoreBlur = false;\r\n        this.ignoreClick = false;\r\n        this.recalculateHeight = true;\r\n        this.dropDownBoxElement = null;\r\n        this.setState({\r\n            filteredOptions: this.props.options,\r\n            searchString: this.props.value === null || this.props.value.key === null ? '' : this.props.value.key\r\n        });\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let filterString = '';\r\n        if (this.props.value === null) {\r\n            if (newProps.value === null) {\r\n                // change nothing\r\n                filterString = this.state.searchString;\r\n            }\r\n            else {\r\n                // set to newProps value\r\n                filterString = newProps.value.key;\r\n            }\r\n        }\r\n        else {\r\n            if (newProps.value === null) {\r\n                // set to ''\r\n                filterString = '';\r\n            }\r\n            else {\r\n                if (newProps.value === this.props.value) {\r\n                    // change nothing\r\n                    filterString = this.state.searchString;\r\n                }\r\n                else {\r\n                    // set to newProps value\r\n                    filterString = newProps.value.key;\r\n                }\r\n            }\r\n        }\r\n        //const filterString = newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString;\r\n        this.updateFilter(filterString, newProps);\r\n        this.setState({\r\n            searchString: filterString\r\n        });\r\n    }\r\n    changeSearchString(event) {\r\n        this.setState({\r\n            searchString: event.target.value,\r\n            showingDropDown: true\r\n        }, () => {\r\n            this.updateFilter(this.state.searchString, this.props);\r\n            if (this.props.updateSearchString !== undefined) {\r\n                this.props.updateSearchString(this.state.searchString);\r\n            }\r\n        });\r\n    }\r\n    updateSearchString(s) {\r\n        if (this.props.updateSearchString !== undefined) {\r\n            this.props.updateSearchString(s);\r\n        }\r\n    }\r\n    updateFilter(filter, props) {\r\n        let filtered = [];\r\n        if (filter.length > 0) {\r\n            const idx = lunr(function () {\r\n                this.field('key', { boost: 10 });\r\n            });\r\n            props.options.forEach((opt, i) => idx.add(Object.assign({}, opt, { id: i })));\r\n            const result = idx.search(filter);\r\n            for (let i = 0; i < result.length; i += 1) {\r\n                filtered.push(props.options[result[i].ref]);\r\n            }\r\n        }\r\n        else {\r\n            filtered = props.options;\r\n        }\r\n        if (this.dropDownBoxElement !== null) {\r\n            this.recalculateHeight = true;\r\n            this.calculateDropdownHeight(this.dropDownBoxElement);\r\n        }\r\n        this.setState({\r\n            filteredOptions: filtered\r\n        });\r\n    }\r\n    addNewAction(option) {\r\n        this.props.createNewValue(option);\r\n    }\r\n    selectOption(option) {\r\n        this.props.setValue(option);\r\n        this.ignoreBlur = false;\r\n        this.recalculateHeight = true;\r\n        this.setState({ showingDropDown: false, searchString: option.key });\r\n        this.updateSearchString(option.key);\r\n    }\r\n    handleInputBlur() {\r\n        if (!this.ignoreBlur) {\r\n            if (this.state.searchString.length === 0) {\r\n                this.setState({ searchString: '' });\r\n            }\r\n            else {\r\n                if (lodash_1.findIndex(this.props.options, (option) => option.key === this.state.searchString) === -1) {\r\n                    this.setState({ searchString: this.props.value === null ? '' : this.props.value.key }, () => {\r\n                        this.updateFilter(this.props.value === null ? '' : this.props.value.key, this.props);\r\n                    });\r\n                }\r\n            }\r\n            this.recalculateHeight = true;\r\n            this.setState({\r\n                showingDropDown: false\r\n            });\r\n        }\r\n    }\r\n    handleInputFocus() {\r\n        if (this.ignoreBlur) {\r\n            this.ignoreBlur = true;\r\n            return;\r\n        }\r\n        // We don't want `selectItemFromMouse` to trigger when\r\n        // the user clicks into the input to focus it, so set this\r\n        // flag to cancel out the logic in `handleInputClick`.\r\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\r\n        this.ignoreClick = true;\r\n        this.setState({ showingDropDown: true });\r\n    }\r\n    handleInputClick() {\r\n        // Input will not be focused if it's disabled\r\n        if (this.isInputFocused() && this.state.showingDropDown === false) {\r\n            this.setState({ showingDropDown: true });\r\n        }\r\n        else {\r\n            if (this.state.highlightedIndex !== null && !this.ignoreClick) {\r\n                this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\r\n            }\r\n            else {\r\n                this.ignoreClick = false;\r\n            }\r\n        }\r\n    }\r\n    selectItemFromMouse(item) {\r\n        this.recalculateHeight = true;\r\n        this.setState({\r\n            showingDropDown: false,\r\n            highlightedIndex: null\r\n        }, () => {\r\n            this.props.setValue(item);\r\n            this.refs[ComboDropdown.comboDropdownInputBoxRef].focus();\r\n        });\r\n    }\r\n    isInputFocused() {\r\n        const el = this.refs[ComboDropdown.comboDropdownInputBoxRef];\r\n        return el.ownerDocument && (el === el.ownerDocument.activeElement);\r\n    }\r\n    clearSearchBox() {\r\n        this.props.setValue(null);\r\n        this.setState({ searchString: '' });\r\n        this.refs[ComboDropdown.comboDropdownInputBoxRef].focus();\r\n    }\r\n    calculateDropdownHeight(val) {\r\n        this.dropDownBoxElement = val;\r\n        if (val === null || !this.recalculateHeight) {\r\n            return;\r\n        }\r\n        else {\r\n            this.setState({\r\n                dropDownHeight: window.document.body.getBoundingClientRect().bottom - val.getBoundingClientRect().top - 32\r\n            });\r\n            this.recalculateHeight = false;\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'combo-dropdown ' + this.props.additionalClasses.join(' ') },\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"input\", { type: 'text', ref: ComboDropdown.comboDropdownInputBoxRef, className: 'search-input', value: this.state.searchString, placeholder: 'Click here and start typing..', onBlur: this.handleInputBlur.bind(this), onFocus: this.handleInputFocus.bind(this), onChange: this.changeSearchString.bind(this), onClick: this.handleInputClick.bind(this) }),\r\n                this.state.searchString.length > 0 ? (React.createElement(\"i\", { className: 'fa fa-times clear-button', onClick: this.clearSearchBox.bind(this) })) : null),\r\n            this.state.showingDropDown ? (React.createElement(\"div\", { className: 'dropdown', style: { maxHeight: this.state.dropDownHeight, overflowY: 'auto' }, ref: this.calculateDropdownHeight.bind(this) },\r\n                React.createElement(\"ul\", null,\r\n                    this.state.searchString.length === 0 && this.props.allowNew ? (React.createElement(\"li\", { className: 'add', onMouseDown: () => this.ignoreBlur = true, onClick: () => this.addNewAction('') },\r\n                        React.createElement(\"i\", { className: 'fa fa-plus', \"aria-hidden\": 'true' }),\r\n                        \"Add new \",\r\n                        this.props.typeName)) : null,\r\n                    this.state.filteredOptions.map((opt, i) => (React.createElement(\"li\", { key: `opt-${opt.key}-${i}`, onMouseDown: () => this.ignoreBlur = true, onClick: () => this.selectOption(opt) }, opt.key))),\r\n                    this.state.searchString.length > 0 && this.props.allowNew ? (React.createElement(\"li\", { className: 'add', onMouseDown: () => this.ignoreBlur = true, onClick: () => this.addNewAction(this.state.searchString) },\r\n                        React.createElement(\"i\", { className: 'fa fa-plus', \"aria-hidden\": 'true' }),\r\n                        \"Add new \",\r\n                        this.props.typeName,\r\n                        \": '\",\r\n                        this.state.searchString,\r\n                        \"'\")) : null))) : null));\r\n    }\r\n}\r\nComboDropdown.defaultProps = {\r\n    allowNew: true,\r\n    additionalClasses: [],\r\n    updateSearchString: lodash_1.noop\r\n};\r\nComboDropdown.comboDropdownInputBoxRef = 'comboDropDownInputBox';\r\nexports.ComboDropdown = ComboDropdown;\r\nclass NumberComboDropdown extends ComboDropdown {\r\n}\r\nexports.NumberComboDropdown = NumberComboDropdown;\r\nclass StringComboDropdown extends ComboDropdown {\r\n}\r\nexports.StringComboDropdown = StringComboDropdown;\r\n//# sourceMappingURL=ComboDropdown.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/ComboDropdown.js\n// module id = 6\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nclass Overlay extends React.Component {\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'full-page-overlay' },\r\n            React.createElement(\"div\", { className: 'overlay-container' }, this.props.children)));\r\n    }\r\n}\r\nexports.Overlay = Overlay;\r\n;\r\n//# sourceMappingURL=Overlay.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/Overlay.js\n// module id = 8\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nconst React = require(\"react\");\r\nfunction EditableFieldHOC(WrappedComponent) {\r\n    return class EditableFieldComponent extends React.Component {\r\n        constructor() {\r\n            super();\r\n            this.state = {\r\n                edit: false,\r\n                internalValue: null\r\n            };\r\n        }\r\n        componentWillMount() {\r\n            this.setState({ internalValue: this.props.value === undefined ? null : this.props.value });\r\n        }\r\n        componentWillReceiveProps(newProps) {\r\n            this.setState({ internalValue: newProps.value });\r\n        }\r\n        switchToEditState() {\r\n            this.setState({ edit: true, internalValue: this.props.value });\r\n        }\r\n        setInternalValue(internalValue) {\r\n            this.setState({ internalValue });\r\n        }\r\n        acceptChanges() {\r\n            this.props.onChange(this.state.internalValue);\r\n            this.setState({ edit: false });\r\n        }\r\n        cancelChanges() {\r\n            this.setState({ edit: false, internalValue: this.props.value });\r\n        }\r\n        render() {\r\n            return (React.createElement(WrappedComponent, __assign({}, this.props, { edit: this.state.edit, value: this.state.internalValue, onChange: this.setInternalValue.bind(this), setEdit: this.switchToEditState.bind(this), acceptChanges: this.acceptChanges.bind(this), cancelChanges: this.cancelChanges.bind(this), onDelete: (e) => this.props.onDelete !== undefined ? this.props.onDelete(this.props.value) : null })));\r\n        }\r\n    };\r\n}\r\nexports.EditableFieldHOC = EditableFieldHOC;\r\n//# sourceMappingURL=EditableFieldComponent.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/EditableFieldComponent.js\n// module id = 9\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.SearchBar = (props) => {\r\n    const filterFunc = (s) => {\r\n        return (a) => {\r\n            if (s.length === 0) {\r\n                return true;\r\n            }\r\n            return props.getValue(a).toLowerCase().indexOf(s.toLowerCase()) !== -1;\r\n        };\r\n    };\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"div\", { className: 'input-addon-formgroup' },\r\n            React.createElement(\"span\", { className: 'input-addon-icon' },\r\n                React.createElement(\"i\", { className: 'fa fa-search fa-fw' })),\r\n            React.createElement(\"input\", { type: 'text', className: 'form-control with-addon', onChange: (e) => props.setFilterFunc(filterFunc(e.target.value)) }))));\r\n};\r\n//# sourceMappingURL=SearchBar.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/SearchBar.js\n// module id = 11\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.EditableHeader = (props) => {\r\n    if (!props.edit || props.value == null) {\r\n        return (React.createElement(\"h2\", null,\r\n            props.value,\r\n            React.createElement(\"sup\", null,\r\n                React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: props.setEdit }))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"span\", null,\r\n            React.createElement(\"input\", { type: 'text', value: props.value, className: 'text-edit-header', onChange: (e) => props.onChange(e.target.value) }),\r\n            React.createElement(\"button\", { onClick: props.acceptChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n            React.createElement(\"button\", { onClick: props.cancelChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' }))));\r\n    }\r\n};\r\n//# sourceMappingURL=EditableHeader.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/EditableHeader.js\n// module id = 12\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nconst React = require(\"react\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nfunction EditableComboDropdown(props) {\r\n    if (props.edit) {\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(ComboDropdown_1.NumberComboDropdown, __assign({}, props.comboSettings, { value: props.value, setValue: props.onChange, allowNew: false, createNewValue: () => { } })),\r\n            React.createElement(\"button\", { onClick: props.acceptChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n            React.createElement(\"button\", { onClick: props.cancelChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' }))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", null,\r\n            props.value !== null && props.value.key.length > 0 ? props.value.key\r\n                : (React.createElement(\"em\", null, \"No value\")),\r\n            React.createElement(\"sup\", null,\r\n                React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: props.setEdit }))));\r\n    }\r\n}\r\nexports.EditableComboDropdown = EditableComboDropdown;\r\n;\r\n//# sourceMappingURL=EditableComboDropdown.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/EditableComboDropdown.js\n// module id = 13\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst mousetrap = require(\"mousetrap\");\r\nexports.EditableParagraph = (props) => {\r\n    let keyBoardShortcuts;\r\n    const bindKeyboard = (val) => {\r\n        if (val !== null) {\r\n            val.focus();\r\n            keyBoardShortcuts = new mousetrap(val);\r\n            keyBoardShortcuts.bind('ctrl+return', props.acceptChanges);\r\n            keyBoardShortcuts.bind('escape', props.cancelChanges);\r\n        }\r\n        else {\r\n            keyBoardShortcuts.unbind('ctrl+return');\r\n        }\r\n    };\r\n    if (!props.edit) {\r\n        return (React.createElement(\"div\", { onClick: props.setEdit, className: 'editable-paragraph-box' },\r\n            React.createElement(\"p\", null,\r\n                props.value === null || props.value.length > 0 ? props.value\r\n                    : (React.createElement(\"em\", null, \"No value\")),\r\n                React.createElement(\"sup\", null,\r\n                    React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true' })))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"textarea\", { value: props.value === null ? '' : props.value, ref: bindKeyboard, onChange: (e) => props.onChange(e.target.value), style: { width: '100%', height: '6em' } }),\r\n            React.createElement(\"button\", { onClick: props.acceptChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n            React.createElement(\"button\", { onClick: props.cancelChanges },\r\n                React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' }))));\r\n    }\r\n};\r\n//# sourceMappingURL=EditableParagraph.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/EditableParagraph.js\n// module id = 14\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst mousetrap = require(\"mousetrap\");\r\nclass SameAsEditor extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            temporaryValue: '',\r\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\r\n        };\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            temporaryValue: '',\r\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\r\n        });\r\n    }\r\n    addItemToList() {\r\n        if (this.state.temporaryValue.length === 0) {\r\n            return;\r\n        }\r\n        this.setState({ urls: this.state.urls.concat([this.state.temporaryValue]), temporaryValue: '' }, () => this.props.onChange(this.state.urls.join(',')));\r\n    }\r\n    removeItemFromList(itemId) {\r\n        this.setState({\r\n            urls: this.state.urls.filter((val, i) => i !== itemId)\r\n        }, () => this.props.onChange(this.state.urls.join(',')));\r\n    }\r\n    setupKeyboardShortcuts(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.addItemToList.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancelChanges);\r\n            this.keyboardShortcuts.bind('ctrl+s', (e) => {\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                }\r\n                else {\r\n                    // internet explorer\r\n                    e.returnValue = false;\r\n                }\r\n                this.props.acceptChanges();\r\n            });\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n            this.keyboardShortcuts.unbind('escape');\r\n            this.keyboardShortcuts.unbind('ctrl+s');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'same-as-box' },\r\n            React.createElement(\"label\", { className: 'small' },\r\n                \"Same As \",\r\n                !this.props.edit ? (React.createElement(\"sup\", null,\r\n                    React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: this.props.setEdit }))) : null),\r\n            this.props.edit ? (React.createElement(\"div\", { className: 'edit-group' },\r\n                React.createElement(\"button\", { onClick: this.props.acceptChanges },\r\n                    React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n                React.createElement(\"button\", { onClick: this.props.cancelChanges },\r\n                    React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' })),\r\n                React.createElement(\"div\", { className: 'input-addon-formgroup' },\r\n                    React.createElement(\"input\", { type: 'text', value: this.state.temporaryValue, ref: this.setupKeyboardShortcuts.bind(this), onChange: (e) => this.setState({ temporaryValue: e.target.value }), className: 'form-control with-addon' }),\r\n                    React.createElement(\"span\", { className: 'input-addon-icon right button', onClick: this.addItemToList.bind(this) },\r\n                        React.createElement(\"i\", { className: 'fa fa-plus' }))))) : null,\r\n            React.createElement(\"ul\", { className: 'same-as-list' }, this.state.urls.map((url, i) => (React.createElement(\"li\", { key: `li-${url}` },\r\n                React.createElement(\"a\", { target: '_blank', href: url }, url),\r\n                \" \",\r\n                this.props.edit ? (React.createElement(\"i\", { className: 'fa fa-times close-button', onClick: this.removeItemFromList.bind(this, i) })) : null))))));\r\n    }\r\n}\r\nexports.SameAsEditor = SameAsEditor;\r\n//# sourceMappingURL=SameAsEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/SameAsEditor.js\n// module id = 15\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nexports.findParentTree = (uid, data, ancestors = []) => {\r\n    const current = data.find((datum) => datum.uid === uid);\r\n    if (current === undefined) {\r\n        console.warn('Couldn\\'t find parent');\r\n        return ancestors;\r\n    }\r\n    else {\r\n        if (current.parent === null || current.uid === null) {\r\n            if (current.uid === null) {\r\n                console.warn('Found entity will null uid');\r\n                return ancestors;\r\n            }\r\n            else {\r\n                return ancestors.concat([current.uid]);\r\n            }\r\n        }\r\n        else {\r\n            return exports.findParentTree(current.parent, data, ancestors.concat([current.uid]));\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=findParentTree.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/helper/findParentTree.js\n// module id = 16\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst moment = require(\"moment\");\r\nexports.formatDate = (str) => {\r\n    if (str === null || str.length === 0) {\r\n        return '';\r\n    }\r\n    const modifier = {\r\n        '=': '',\r\n        '>': 'After ',\r\n        '<': 'Before '\r\n    }[str[0]];\r\n    const year = str.substr(1, 4);\r\n    const rawMonth = parseInt(str.substr(5, 2)) - 1;\r\n    const month = rawMonth === -1 || isNaN(rawMonth) ? 'Unknown' : moment.months()[rawMonth];\r\n    const rawDay = parseInt(str.substr(7, 2));\r\n    const day = rawDay > 0 ? rawDay : '';\r\n    return `${modifier} ${day} ${month} ${year}`;\r\n};\r\n//# sourceMappingURL=formatDate.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/helper/formatDate.js\n// module id = 17\n// module chunks = 0","module.exports = mobx_lib;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mobx_lib\"\n// module id = 20\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst AddTabButton_1 = require(\"./AddTabButton\");\r\nclass RecursiveTree extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = { collapsed: false };\r\n    }\r\n    render() {\r\n        const filtered = this.props.data.filter((datum) => datum.parent === this.props.parentId);\r\n        if (filtered.length === 0) {\r\n            return null;\r\n        }\r\n        return (React.createElement(\"div\", null, filtered.map((item) => (React.createElement(\"div\", { key: item.label },\r\n            React.createElement(\"div\", { className: 'tree-label', onClick: () => this.setState({ collapsed: !this.state.collapsed }) },\r\n                \"- \",\r\n                item.label,\r\n                \" \",\r\n                React.createElement(AddTabButton_1.AddTabButton, { uid: item.uid, tabType: this.props.tabType })),\r\n            !this.state.collapsed ? (React.createElement(\"div\", { className: 'tree-children' },\r\n                React.createElement(RecursiveTree, { dataStore: this.props.dataStore, data: this.props.data, tabType: this.props.tabType, parentId: item.uid }))) : null)))));\r\n    }\r\n}\r\nexports.RecursiveTree = RecursiveTree;\r\n//# sourceMappingURL=RecursiveTree.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/RecursiveTree.js\n// module id = 21\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst lodash_1 = require(\"lodash\");\r\nclass PredicateRangeComboDropdown extends ComboDropdown_1.ComboDropdown {\r\n}\r\nexports.PredicateRangeComboDropdown = PredicateRangeComboDropdown;\r\nclass PredicateDescription extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            editingDomain: false,\r\n            editingRange: false,\r\n            rangeValue: { key: '', value: null },\r\n            domainValue: { key: '', value: null }\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({\r\n            rangeValue: this.props.range,\r\n            domainValue: this.props.domain\r\n        });\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({\r\n            rangeValue: newProps.range,\r\n            domainValue: newProps.domain\r\n        });\r\n    }\r\n    acceptDomainChanges() {\r\n        this.props.domainChanged(this.state.domainValue);\r\n        this.setState({ editingDomain: false });\r\n    }\r\n    cancelDomainChanges() {\r\n        this.setState({ editingDomain: false, domainValue: this.props.domain });\r\n    }\r\n    acceptRangeChanges() {\r\n        this.props.rangeChanged(this.state.rangeValue);\r\n        this.setState({ editingRange: false });\r\n    }\r\n    cancelRangeChanges() {\r\n        this.setState({ editingDomain: false, rangeValue: this.props.range });\r\n    }\r\n    //  <label className='small'>Property Class</label>\r\n    //   <section className='class'>\r\n    //     <input type='radio' name='property-class' value='ObjectProperty' /> Object Property <small>Links to another entity</small><br/>\r\n    //     <input type='radio' name='property-class' value='DataTypeProperty' /> Data Type Property <small>Links to some data, like text or a date</small><br/>\r\n    //     <input type='radio' name='property-class' value='SourceProperty' /> Source Property <small>Links to a source</small><br/>\r\n    //   </section>\r\n    //   <label className='small'>Typing</label>\r\n    render() {\r\n        const domainChanged = this.props.mode === 'editAll' ?\r\n            this.props.domainChanged : (c) => this.setState({ domainValue: c });\r\n        const rangeChanged = this.props.mode === 'editAll' ?\r\n            this.props.rangeChanged : (c) => this.setState({ rangeValue: c });\r\n        return (React.createElement(\"div\", { className: 'predicate-function-description' },\r\n            React.createElement(\"div\", { className: 'typing' },\r\n                React.createElement(\"div\", { className: 'domain' }, this.props.mode === 'editAll' || this.state.editingDomain ? (React.createElement(\"div\", null,\r\n                    React.createElement(\"label\", { className: 'small' }, \"Domain\"),\r\n                    React.createElement(ComboDropdown_1.NumberComboDropdown, { options: this.props.domainOptions, typeName: 'entity type', allowNew: false, value: this.state.domainValue, setValue: domainChanged, createNewValue: lodash_1.noop }),\r\n                    this.props.mode === 'editSingle' ? (React.createElement(\"div\", null,\r\n                        React.createElement(\"button\", { onClick: this.acceptDomainChanges.bind(this) },\r\n                            React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n                        React.createElement(\"button\", { onClick: this.cancelDomainChanges.bind(this) },\r\n                            React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' })))) : null)) : (React.createElement(\"div\", null,\r\n                    this.props.domain.key,\r\n                    \" \",\r\n                    React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: () => this.setState({ editingDomain: true }) })))),\r\n                React.createElement(\"div\", { className: 'arrow' },\r\n                    React.createElement(\"i\", { className: 'fa fa-long-arrow-right', \"aria-hidden\": 'true' })),\r\n                React.createElement(\"div\", { className: 'range' }, this.props.mode === 'editAll' || this.state.editingRange ? (React.createElement(\"div\", null,\r\n                    React.createElement(\"label\", { className: 'small' }, \"Range\"),\r\n                    React.createElement(PredicateRangeComboDropdown, { options: this.props.rangeOptions, typeName: 'entity type', allowNew: false, value: this.state.rangeValue, setValue: rangeChanged, createNewValue: lodash_1.noop }),\r\n                    this.props.mode === 'editSingle' ? (React.createElement(\"div\", null,\r\n                        React.createElement(\"button\", { onClick: this.acceptRangeChanges.bind(this) },\r\n                            React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n                        React.createElement(\"button\", { onClick: this.cancelRangeChanges.bind(this) },\r\n                            React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' })))) : null)) : (React.createElement(\"div\", null,\r\n                    this.props.range.key,\r\n                    \" \",\r\n                    React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: () => this.setState({ editingRange: true }) })))))));\r\n    }\r\n}\r\nexports.PredicateDescription = PredicateDescription;\r\n//# sourceMappingURL=PredicateDescription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/PredicateDescription.js\n// module id = 22\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst simpleKey = (raw) => {\r\n    return parseInt(raw[0]);\r\n};\r\nexports.itemTypes = {\r\n    element_set: {\r\n        machineName: 'element_set',\r\n        name: 'Element Set',\r\n        plural: 'Element Sets',\r\n        workspace: '',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.ElementSet\r\n    },\r\n    element: {\r\n        machineName: 'element',\r\n        name: 'Element',\r\n        plural: 'Elements',\r\n        workspace: '',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.Element\r\n    },\r\n    record: {\r\n        machineName: 'record',\r\n        name: 'Record',\r\n        plural: 'Records',\r\n        workspace: '',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.Record\r\n    },\r\n    entity: {\r\n        machineName: 'entity',\r\n        name: 'Entity',\r\n        plural: 'Entities',\r\n        workspace: 'entity',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.Entity\r\n    },\r\n    entity_type: {\r\n        machineName: 'entity_type',\r\n        name: 'Entity Type',\r\n        plural: 'Entity Types',\r\n        workspace: 'entity_type',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.EntityType\r\n    },\r\n    predicate: {\r\n        machineName: 'predicate',\r\n        name: 'Property',\r\n        plural: 'Properties',\r\n        workspace: 'predicate',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.Predicate\r\n    },\r\n    source: {\r\n        machineName: 'source',\r\n        name: 'Source',\r\n        plural: 'Sources',\r\n        workspace: 'source',\r\n        buildKey: simpleKey,\r\n        item: falcon_core_1.Source\r\n    },\r\n    source_element: {\r\n        machineName: 'source_element',\r\n        name: 'Source Element',\r\n        plural: 'Source Elements',\r\n        workspace: '',\r\n        buildKey: (raw) => ({\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: parseInt(raw[0]),\r\n                element: parseInt(raw[1])\r\n            }\r\n        }),\r\n        item: falcon_core_1.SourceElement\r\n    }\r\n};\r\n//# sourceMappingURL=itemTypes.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/itemTypes.js\n// module id = 23\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nexports.literalTypes = [\r\n    { label: 'text', value: 'string', url: '', description: 'some text' },\r\n    { label: 'number', value: 'integer', url: '', description: 'a number' },\r\n    { label: 'date', value: 'date', url: '', description: 'a date' },\r\n    // { name: 'point', value: 'point', url: '', description: 'a point on a map '},\r\n    // { name: 'region', value: 'region', url: '', description: 'a region on a map'},\r\n    { label: 'source', value: 'source', url: '', description: 'a source in the database' }\r\n];\r\n//# sourceMappingURL=literalTypes.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/literalTypes.js\n// module id = 24\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst react_router_1 = require(\"react-router\");\r\nexports.StatsGrid = (props) => {\r\n    return (React.createElement(\"section\", { className: 'stats-grid' },\r\n        React.createElement(react_router_1.Link, { to: '/edit/entity' },\r\n            React.createElement(\"div\", { className: 'entity' },\r\n                React.createElement(\"span\", { className: 'item-name' }, \"Entities\"),\r\n                React.createElement(\"span\", { className: 'item-count' }, props.stats.entity))),\r\n        React.createElement(react_router_1.Link, { to: '/edit/entity_type' },\r\n            React.createElement(\"div\", { className: 'entity_type' },\r\n                React.createElement(\"span\", { className: 'item-name' }, \"Entity Types\"),\r\n                React.createElement(\"span\", { className: 'item-count' }, props.stats.entityType))),\r\n        React.createElement(react_router_1.Link, { to: '/edit/source' },\r\n            React.createElement(\"div\", { className: 'source' },\r\n                React.createElement(\"span\", { className: 'item-name' }, \"Sources\"),\r\n                React.createElement(\"span\", { className: 'item-count' }, props.stats.source))),\r\n        React.createElement(react_router_1.Link, { to: '/edit/predicate' },\r\n            React.createElement(\"div\", { className: 'predicate' },\r\n                React.createElement(\"span\", { className: 'item-name' }, \"Properties\"),\r\n                React.createElement(\"span\", { className: 'item-count' }, props.stats.predicate))),\r\n        React.createElement(\"div\", { className: 'record' },\r\n            React.createElement(\"span\", { className: 'item-name' }, \"Records\"),\r\n            React.createElement(\"span\", { className: 'item-count' }, props.stats.record))));\r\n};\r\n//# sourceMappingURL=StatsGrid.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/stats/StatsGrid.js\n// module id = 25\n// module chunks = 0","module.exports = react_lib;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react_lib\"\n// module id = 27\n// module chunks = 0","module.exports = utility_lib;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"utility_lib\"\n// module id = 28\n// module chunks = 0","/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst queryString = require(\"querystring\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst Exceptions_1 = require(\"../common/Exceptions\");\r\nvar ApiService_1 = require(\"../common/ApiService\");\r\nexports.AppUrls = ApiService_1.AppUrls;\r\nfunction handleErrors(response) {\r\n    if (!response.ok) {\r\n        if (response.status === 422) {\r\n            throw new Exceptions_1.UnprocessableEntity(response.statusText, response.json().then((result) => result.data));\r\n        }\r\n        // showToast.dispatch('Something went wrong ;(', response.statusText);\r\n        if (response.status === 404) {\r\n            throw new Exceptions_1.KeyNotFoundException(JSON.stringify({\r\n                statusText: response.statusText,\r\n                status: response.status\r\n            }));\r\n        }\r\n    }\r\n    return response;\r\n}\r\nclass ClientApiService {\r\n    getItem(obj, baseUrl, uid) {\r\n        const endURL = lodash_1.isObject(uid) ?\r\n            uid.order.map((key) => uid.values[key]).join('/')\r\n            : uid.toString();\r\n        return fetch(`/api/v1/${baseUrl}/${endURL}`)\r\n            .then(handleErrors)\r\n            .then((response) => response.json())\r\n            .then((data) => falcon_core_1.Serializer.fromJson(obj, data));\r\n    }\r\n    getCollection(obj, baseUrl, params) {\r\n        return fetch(`/api/v1/${baseUrl}?` + queryString.stringify(params))\r\n            .then(handleErrors)\r\n            .then((response) => response.json())\r\n            .then((data) => data.map((datum) => falcon_core_1.Serializer.fromJson(obj, datum)));\r\n    }\r\n    postItem(obj, baseUrl, data, params) {\r\n        return fetch(`/api/v1/${baseUrl}?` + queryString.stringify(params), {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'same-origin'\r\n        })\r\n            .then(handleErrors)\r\n            .then((response) => {\r\n            return response.json();\r\n        }).then((data) => {\r\n            return Promise.resolve(data);\r\n        });\r\n    }\r\n    putItem(obj, baseUrl, uid, data) {\r\n        const endURL = lodash_1.isObject(uid) ?\r\n            uid.order.map((key) => uid.values[key]).join('/')\r\n            : uid.toString();\r\n        return fetch(`/api/v1/${baseUrl}/${endURL}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'same-origin'\r\n        })\r\n            .then(handleErrors);\r\n    }\r\n    patchItem(obj, baseUrl, uid, data) {\r\n        const endURL = lodash_1.isObject(uid) ?\r\n            uid.order.map((key) => uid.values[key]).join('/')\r\n            : uid.toString();\r\n        return fetch(`/api/v1/${baseUrl}/${endURL}`, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'same-origin'\r\n        })\r\n            .then(handleErrors);\r\n    }\r\n    delItem(obj, baseUrl, uid) {\r\n        const endURL = lodash_1.isObject(uid) ?\r\n            uid.order.map((key) => uid.values[key]).join('/')\r\n            : uid.toString();\r\n        return fetch(`/api/v1/${baseUrl}/${endURL}`, {\r\n            method: 'DELETE',\r\n            credentials: 'same-origin'\r\n        })\r\n            .then(handleErrors);\r\n    }\r\n    query(graphQLQueryString) {\r\n        return fetch('/api/v1/query?query=' + graphQLQueryString)\r\n            .then(handleErrors)\r\n            .then((response) => response.json());\r\n    }\r\n    getStats() {\r\n        return fetch('/stats', { credentials: 'same-origin' })\r\n            .then(handleErrors)\r\n            .then((response) => response.json());\r\n    }\r\n}\r\nexports.ClientApiService = ClientApiService;\r\n//# sourceMappingURL=ClientApiService.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/client/ClientApiService.js\n// module id = 29\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n//https://react-router.now.sh/Match\r\nconst React = require(\"react\");\r\nconst react_router_1 = require(\"react-router\");\r\nconst RouteNotFound_1 = require(\"./views/RouteNotFound\");\r\nconst ApiService_1 = require(\"./ApiService\");\r\nconst itemTypes_1 = require(\"./itemTypes\");\r\nconst Admin_1 = require(\"./views/Admin\");\r\nconst AdminApp_1 = require(\"../app/AdminApp\");\r\nconst User_1 = require(\"./views/User\");\r\nconst UserManagement_1 = require(\"./views/UserManagement\");\r\nconst AppDownload_1 = require(\"./views/AppDownload\");\r\nconst DatabaseUpload_1 = require(\"./views/DatabaseUpload\");\r\nconst react_router_2 = require(\"react-router\");\r\nconst ObjectEditor_1 = require(\"./views/ObjectEditor\");\r\nclass FalconApp extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            user: '',\r\n            stats: null,\r\n            tabsets: []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.props.environment === 'website' && window !== undefined) {\r\n                const userData = yield fetch('/currentuser', { credentials: 'same-origin' })\r\n                    .then((response) => response.json());\r\n                const tabsets = yield fetch('/tabset', { credentials: 'same-origin' })\r\n                    .then((response) => response.json());\r\n                this.setState({ user: userData.username, tabsets });\r\n            }\r\n            this.props.api.getStats()\r\n                .then((stats) => {\r\n                this.setState({ stats });\r\n            });\r\n        });\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { id: 'main', className: 'flex-fill' },\r\n            React.createElement(this.props.router, __assign({}, this.props.routerSettings, { className: 'flex-fill', basename: process.env.APP_URL }),\r\n                React.createElement(\"div\", { className: 'flex-fill', style: { flexDirection: 'column' } },\r\n                    React.createElement(\"div\", { className: 'header' },\r\n                        React.createElement(react_router_2.Link, { to: '/', className: 'logo-link' },\r\n                            React.createElement(\"div\", { className: 'logo' }, \"VRE\")),\r\n                        React.createElement(react_router_2.Link, { to: '/', className: 'header-link' }, \"Home\"),\r\n                        React.createElement(react_router_2.Link, { accessKey: 's', to: '/edit/' + ApiService_1.AppUrls.source, className: 'header-link source' }, itemTypes_1.itemTypes.source.plural),\r\n                        React.createElement(react_router_2.Link, { accessKey: 'e', to: '/edit/' + ApiService_1.AppUrls.entity, className: 'header-link entity' }, itemTypes_1.itemTypes.entity.plural),\r\n                        React.createElement(react_router_2.Link, { accessKey: 'p', to: '/edit/' + ApiService_1.AppUrls.predicate, className: 'header-link predicate' }, itemTypes_1.itemTypes.predicate.plural),\r\n                        React.createElement(react_router_2.Link, { accessKey: 't', to: '/edit/' + ApiService_1.AppUrls.entity_type, className: 'header-link entity_type' }, itemTypes_1.itemTypes.entity_type.plural),\r\n                        this.props.environment === 'website' ? (React.createElement(\"div\", { className: 'right-header' },\r\n                            React.createElement(react_router_2.Link, { to: '/user', className: 'header-link' },\r\n                                React.createElement(\"span\", { className: 'current-user' }, this.state.user)),\r\n                            React.createElement(\"a\", { href: '/logout', className: 'header-link' }, \"Logout\"),\r\n                            React.createElement(\"a\", { href: '/', className: 'header-link' },\r\n                                React.createElement(\"i\", { className: 'fa fa-external-link' })))) : null),\r\n                    this.props.environment === 'website' ? (React.createElement(react_router_1.Match, { exactly: true, pattern: '/', render: (matchprops) => (React.createElement(Admin_1.Admin, __assign({}, matchprops, { stats: this.state.stats, tabsets: this.state.tabsets }))) })) : (React.createElement(react_router_1.Match, { exactly: true, pattern: '/', render: (matchprops) => (React.createElement(AdminApp_1.AdminApp, __assign({}, matchprops, { stats: this.state.stats }))) })),\r\n                    React.createElement(react_router_1.Match, { exactly: true, pattern: '/user', component: User_1.User }),\r\n                    React.createElement(react_router_1.Match, { exactly: true, pattern: '/users', component: UserManagement_1.UserManagement }),\r\n                    React.createElement(react_router_1.Match, { exactly: true, pattern: '/app', component: AppDownload_1.AppDownload }),\r\n                    React.createElement(react_router_1.Match, { exactly: true, pattern: '/upload', component: DatabaseUpload_1.DatabaseUpload }),\r\n                    React.createElement(react_router_1.Match, { exactly: true, pattern: '/search', render: (matchprops) => (React.createElement(ObjectEditor_1.ObjectEditor, __assign({ api: this.props.api }, matchprops, { workspace: 'search' }))) }),\r\n                    React.createElement(react_router_1.Match, { pattern: '/edit/:workspace', render: (matchprops) => (React.createElement(ObjectEditor_1.ObjectEditor, __assign({ api: this.props.api }, matchprops, { workspace: matchprops.params.workspace === 'property' ? 'predicate' : matchprops.params.workspace }))) }),\r\n                    React.createElement(react_router_1.Miss, { component: RouteNotFound_1.RouteNotFound })))));\r\n    }\r\n}\r\nexports.FalconApp = FalconApp;\r\n//# sourceMappingURL=FalconApp.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/FalconApp.js\n// module id = 30\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 31\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst StatsGrid_1 = require(\"../common/stats/StatsGrid\");\r\nexports.AdminApp = (props) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"VRE App\"),\r\n        props.stats !== null ? (React.createElement(StatsGrid_1.StatsGrid, { stats: props.stats })) : null)));\r\n//# sourceMappingURL=AdminApp.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/app/AdminApp.js\n// module id = 32\n// module chunks = 0","/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nclass UnprocessableEntity extends Error {\r\n    constructor(message, data) {\r\n        super(message);\r\n        this.code = 422;\r\n        this.data = data;\r\n    }\r\n}\r\nexports.UnprocessableEntity = UnprocessableEntity;\r\nclass KeyNotFoundException extends Error {\r\n    constructor(message = 'Could not find the given key') {\r\n        super(message);\r\n        this.code = 404;\r\n    }\r\n}\r\nexports.KeyNotFoundException = KeyNotFoundException;\r\nclass ReadOnlyResourceException extends Error {\r\n    constructor(message = 'Attempt to update a readonly resource') {\r\n        super(message);\r\n        this.code = 400;\r\n    }\r\n}\r\nexports.ReadOnlyResourceException = ReadOnlyResourceException;\r\nclass CollectionNotFoundException extends Error {\r\n    constructor(message = 'Could not find the given collection') {\r\n        super(message);\r\n        this.data = message;\r\n    }\r\n}\r\nexports.CollectionNotFoundException = CollectionNotFoundException;\r\nclass OperationNotPermittedException extends Error {\r\n    constructor(data) {\r\n        super(data.message);\r\n        this.code = 422;\r\n        this.data = data;\r\n    }\r\n}\r\nexports.OperationNotPermittedException = OperationNotPermittedException;\r\nclass InvalidUpdateException extends Error {\r\n    constructor(message) {\r\n        super(message);\r\n        this.code = 400;\r\n    }\r\n}\r\nexports.InvalidUpdateException = InvalidUpdateException;\r\nclass DatabaseIntegrityError extends Error {\r\n    constructor(message = `A database integrity constraint has been broken - your change has not been\n submitted. This is likely due to a change which violates the property types model; please check the types of\n what you are trying to do. Please also contact the Digital Humanities team, this error should not occur.`) {\r\n        super(message);\r\n        this.code = 500;\r\n    }\r\n}\r\nexports.DatabaseIntegrityError = DatabaseIntegrityError;\r\nexports.Exceptions = {\r\n    UnprocessableEntity,\r\n    KeyNotFoundException,\r\n    CollectionNotFoundException,\r\n    OperationNotPermittedException,\r\n    DatabaseIntegrityError,\r\n    InvalidUpdateException,\r\n    ReadOnlyResourceException\r\n};\r\n//# sourceMappingURL=Exceptions.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/Exceptions.js\n// module id = 33\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.Loading = (props) => {\r\n    return (React.createElement(\"div\", { className: 'loader-wrapper' },\r\n        React.createElement(\"div\", { className: 'loader' })));\r\n};\r\n//# sourceMappingURL=Loading.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/Loading.js\n// module id = 34\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst SearchBox_1 = require(\"./sidebar/SearchBox\");\r\nconst ApiService_1 = require(\"../ApiService\");\r\nconst react_router_1 = require(\"react-router\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst react_sortable_hoc_1 = require(\"react-sortable-hoc\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst Handle = react_sortable_hoc_1.SortableHandle((props) => (React.createElement(\"div\", { className: 'badge-container' },\r\n    React.createElement(\"div\", { className: 'badge ' + props.tabType },\r\n        React.createElement(\"span\", null, props.tabType[0].toUpperCase())))));\r\nconst onCloseTab = (e, tabType, uid, dataStore) => {\r\n    dataStore.closeTab(tabType, uid);\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    e.nativeEvent.stopImmediatePropagation();\r\n};\r\nconst Card = react_sortable_hoc_1.SortableElement(mobx_react_1.observer((props) => (React.createElement(\"li\", { key: `${props.url}` },\r\n    React.createElement(\"div\", { className: ((currentTab) => {\r\n            const classes = ['sidebar-card', props.tab.tabClass];\r\n            if (currentTab) {\r\n                classes.push('current');\r\n            }\r\n            if (props.compact) {\r\n                classes.push('compact');\r\n            }\r\n            return classes.join(' ');\r\n        })(props.currentTab) },\r\n        React.createElement(Handle, { tabType: props.tab.tabType, index: props.index }),\r\n        React.createElement(\"div\", { className: 'description' },\r\n            React.createElement(react_router_1.Link, { to: props.url },\r\n                React.createElement(\"span\", { className: 'entity-name' }, props.title),\r\n                props.compact ? null : lodash_1.isObject(props.subtitle) ? (React.createElement(\"ul\", null, Object.keys(props.subtitle).map((sub, i) => (React.createElement(\"li\", { key: `tab-${props.index}-${i}` },\r\n                    sub,\r\n                    \":\",\r\n                    lodash_1.isObject(props.subtitle[sub]) ? (React.createElement(\"span\", null,\r\n                        React.createElement(\"ul\", null, Object.keys(props.subtitle[sub]).map((subSub, j) => (React.createElement(\"li\", { key: `tab-${props.index}-${i}-${j}` },\r\n                            subSub,\r\n                            \": \",\r\n                            props.subtitle[sub][subSub])))))) : null))))) : (React.createElement(\"span\", { className: 'entity-type' }, props.subtitle)))),\r\n        React.createElement(\"span\", { className: 'lock-button' }, props.tab.tabType === 'source' ? (props.dataStore.defaultSource === props.tab.uid ?\r\n            (React.createElement(\"i\", { onClick: () => props.dataStore.defaultSource = null, className: 'fa fa-lock' })) :\r\n            (React.createElement(\"i\", { onClick: () => props.dataStore.defaultSource = props.tab.uid, className: 'fa fa-unlock' }))) : null),\r\n        !props.currentTab ? (React.createElement(\"span\", { className: 'close-button' },\r\n            React.createElement(\"i\", { className: 'fa fa-times', onClick: (e) => onCloseTab(e, props.tab.tabType, props.tab.uid, props.dataStore) }))) : null)))));\r\nconst CardList = mobx_react_1.observer((props) => {\r\n    return (React.createElement(\"ul\", { className: 'card-list' }, props.dataStore.tabs.map((tab, index) => {\r\n        // TODO: shouldn't be ==\r\n        const item = props.dataStore.dataStore.all[tab.tabType].value\r\n            .find((item) => item.uid == tab.uid);\r\n        let url = null;\r\n        if (tab.tabClass === 'item') {\r\n            url = `/edit/${ApiService_1.AppUrls[tab.tabType]}/${tab.uid}`;\r\n        }\r\n        else {\r\n            if (tab.tabClass === 'view') {\r\n                url = {\r\n                    pathname: `/edit/${ApiService_1.AppUrls[tab.tabType]}`,\r\n                    query: tab.query\r\n                };\r\n            }\r\n        }\r\n        const subtitle = tab.tabClass === 'item' ?\r\n            lodash_1.capitalize(ApiService_1.AppUrls[tab.tabType]).replace('_', ' ') + ' ' + tab.uid\r\n            : tab.data;\r\n        const title = item === undefined ? `${tab.tabType} list` : item.label;\r\n        const currentTab = !props.list && tab.tabType === props.workspace && tab.uid == props.id;\r\n        return (React.createElement(Card, { key: `tab-${tab.tabType}-${tab.tabClass}-${tab.uid}-${tab.query}`, currentTab: currentTab, url: url, tab: tab, title: title, subtitle: subtitle, index: index, dataStore: props.dataStore, compact: props.compact }));\r\n    })));\r\n});\r\nlet Sidebar = class Sidebar extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchString: '',\r\n            compactMode: false\r\n        };\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", { id: 'sidebar' },\r\n            React.createElement(SearchBox_1.SearchBox, { searchString: this.state.searchString, dataStore: this.props.dataStore }),\r\n            React.createElement(\"div\", { className: 'sidebar-toolbar' },\r\n                React.createElement(\"button\", { onClick: () => this.props.dataStore.clearAllTabs() },\r\n                    React.createElement(\"i\", { className: 'fa fa-trash' }),\r\n                    \" Clear All\"),\r\n                React.createElement(\"button\", { onClick: () => this.props.modalStore.addModal({ name: 'createTabSet', cancel: lodash_1.noop, complete: lodash_1.noop, settings: {} }) },\r\n                    React.createElement(\"i\", { className: 'fa fa-floppy-o' }),\r\n                    \" Save\"),\r\n                React.createElement(\"button\", { onClick: () => this.setState({ compactMode: !this.state.compactMode }) },\r\n                    React.createElement(\"i\", { className: 'fa fa-compress' }),\r\n                    \" Compact\")),\r\n            React.createElement(\"div\", { className: 'card-list-container' },\r\n                React.createElement(CardList, { dataStore: this.props.dataStore, list: this.props.list, workspace: this.props.workspace, id: this.props.id, compact: this.state.compactMode }))));\r\n    }\r\n};\r\nSidebar = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], Sidebar);\r\nexports.Sidebar = Sidebar;\r\n//# sourceMappingURL=Sidebar.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/Sidebar.js\n// module id = 35\n// module chunks = 0","/**\r\n * @fileOverview Toast controller\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nclass Toast extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            toasts: [],\r\n            nextId: 0\r\n        };\r\n    }\r\n    addToast(title, message, level = 'warning', lifeTime = 3000) {\r\n        const id = this.state.nextId;\r\n        this.setState({\r\n            toasts: this.state.toasts.concat([{ title, message, level, lifeTime, id }]),\r\n            nextId: id + 1\r\n        });\r\n        setTimeout(() => {\r\n            this.setState({\r\n                toasts: this.state.toasts.filter((toast) => toast.id !== id)\r\n            });\r\n        }, lifeTime);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"span\", null, this.state.toasts.map((toast, i) => (React.createElement(\"div\", { key: `toast-${toast.id}`, style: { bottom: (1 + 7 * i) + 'em' }, className: `toast ${toast.level}` },\r\n            React.createElement(\"div\", { className: 'title' }, toast.title),\r\n            React.createElement(\"div\", { className: 'message' }, toast.message))))));\r\n    }\r\n}\r\nexports.Toast = Toast;\r\n//# sourceMappingURL=Toast.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/Toast.js\n// module id = 36\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Loading_1 = require(\"./Loading\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst workspace_1 = require(\"./workspace/workspace\");\r\nlet Workspace = class Workspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchString: ''\r\n        };\r\n    }\r\n    render() {\r\n        if (this.props.loading) {\r\n            return (React.createElement(Loading_1.Loading, null));\r\n        }\r\n        if (this.props.list) {\r\n            return (React.createElement(workspace_1.ObjectListWorkspace, { query: this.props.location.query, listType: this.props.workspace }));\r\n        }\r\n        let workspaceComponent = workspace_1.EmptyWorkspace;\r\n        switch (this.props.workspace) {\r\n            case 'entity':\r\n                workspaceComponent = workspace_1.EntityEditorWorkspace;\r\n                break;\r\n            case 'predicate':\r\n                workspaceComponent = workspace_1.PredicateEditorWorkspace;\r\n                break;\r\n            case 'source':\r\n                workspaceComponent = workspace_1.SourceEditorWorkspace;\r\n                break;\r\n            case 'entity_type':\r\n                workspaceComponent = workspace_1.EntityTypeWorkspace;\r\n                break;\r\n            case 'search':\r\n                workspaceComponent = workspace_1.AdvancedSearchWorkspace;\r\n                break;\r\n        }\r\n        return (React.createElement(\"div\", { className: 'flex-fill workspace-outer-wrapper' },\r\n            React.createElement(\"div\", { className: 'workspace-inner-wrapper flex-fill' }, React.createElement(workspaceComponent, { id: this.props.id }))));\r\n    }\r\n};\r\nWorkspace = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], Workspace);\r\nexports.Workspace = Workspace;\r\n//# sourceMappingURL=Workspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/Workspace.js\n// module id = 37\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst DatePickerDropdown_1 = require(\"../fields/DatePickerDropdown\");\r\nexports.DateFieldEditor = (props) => {\r\n    return (React.createElement(\"div\", { className: 'date-selector' },\r\n        React.createElement(DatePickerDropdown_1.DatePickerDropdown, { value: props.value, setValue: props.onChange })));\r\n};\r\n//# sourceMappingURL=DateFieldEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/DateFieldEditor.js\n// module id = 38\n// module chunks = 0","/**\r\n * @fileOverview Entity Field Editor - select box for entities\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst lodash_1 = require(\"lodash\");\r\nexports.EntityFieldEditor = (props) => {\r\n    // build the options list\r\n    const options = props.entities.map((entity) => ({ key: entity.label, value: entity.uid !== null ? entity.uid : null }));\r\n    // find the default option to display\r\n    let selectedOption = options.find((opt) => opt.value !== null && opt.value === props.value);\r\n    if (selectedOption === undefined) {\r\n        selectedOption = { key: '', value: null };\r\n    }\r\n    return (React.createElement(ComboDropdown_1.NumberComboDropdown, { options: options, typeName: 'entity type', allowNew: false, value: selectedOption, setValue: (val) => val !== null && val.value !== null ? props.onChange(val.value) : props.onChange(null), createNewValue: lodash_1.noop }));\r\n};\r\n//# sourceMappingURL=EntityFieldEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/EntityFieldEditor.js\n// module id = 39\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.IntegerFieldEditor = (props) => {\r\n    const integerFieldChangeHandler = (e) => props.onChange(e.target.value);\r\n    return (React.createElement(\"input\", { type: 'number', value: props.value, onChange: integerFieldChangeHandler }));\r\n};\r\n//# sourceMappingURL=IntegerFieldEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/IntegerFieldEditor.js\n// module id = 40\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst EditableFieldComponent_1 = require(\"../fields/EditableFieldComponent\");\r\nconst RecordRow_1 = require(\"./RecordRow\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst RecordEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(RecordRow_1.RecordRow);\r\nclass RecordPredicate extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            potentialValues: []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.predicate.rangeIsReference) {\r\n            this.props.dataStore.getCollection(falcon_core_1.Entity, ApiService_1.AppUrls.entity, { type: this.props.predicate.range })\r\n                .then((potentialValues) => this.setState({ potentialValues }));\r\n        }\r\n    }\r\n    createNewRecord() {\r\n        this.props.dataStore.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n            predicate: this.props.predicate.uid,\r\n            entity: this.props.entity_id,\r\n            valueType: this.props.predicate.rangeIsReference ? 'entity' : this.props.predicate.range,\r\n            score: 3,\r\n            source: this.props.dataStore.defaultSource\r\n        }), {});\r\n    }\r\n    deleteRecord(record) {\r\n        if (record.uid === null) {\r\n            throw new Error('Trying to delete a record with null id');\r\n        }\r\n        this.props.dataStore.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, record.uid)\r\n            .then(() => {\r\n            this.props.onChange();\r\n        });\r\n    }\r\n    recordChanged(record) {\r\n        this.props.dataStore.putItem(falcon_core_1.Record, ApiService_1.AppUrls.record, this.props.entity_id, falcon_core_1.Serializer.toJson(record));\r\n    }\r\n    render() {\r\n        if (this.props.predicate.uid === null) {\r\n            throw new Error('Expected uid to be a number, it was null');\r\n        }\r\n        return (React.createElement(\"section\", null,\r\n            React.createElement(\"h5\", { className: 'section-header' },\r\n                this.props.predicate.label,\r\n                \" \",\r\n                React.createElement(\"i\", { className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', onClick: this.createNewRecord.bind(this), title: `Add new ${this.props.predicate.label} record` }),\r\n                React.createElement(AddTabButton_1.AddTabButton, { uid: this.props.predicate.uid, tabType: 'predicate' })),\r\n            React.createElement(\"table\", { className: 'record-editing-table' },\r\n                React.createElement(\"thead\", null,\r\n                    React.createElement(\"tr\", { className: 'record-row title' },\r\n                        React.createElement(\"th\", { className: 'record-row-item uid' }, \"ID\"),\r\n                        this.props.predicate.range !== 'source' ? (React.createElement(\"th\", { className: 'record-row-item' }, \"Value\")) : null,\r\n                        React.createElement(\"th\", { className: 'record-row-item' }, \"Source\"),\r\n                        React.createElement(\"th\", { className: 'record-row-item score' }, \"Score\"),\r\n                        React.createElement(\"th\", { className: 'record-row-item score' }, \"Period\"),\r\n                        React.createElement(\"th\", { className: 'record-row-item buttons' }, \"Actions\"))),\r\n                React.createElement(\"tbody\", null, this.props.records.map((record) => (React.createElement(RecordEditableFieldComponent, { key: `row-${record.uid}`, value: record, onChange: this.recordChanged.bind(this), onDelete: this.deleteRecord.bind(this), sources: this.props.sources, entities: this.state.potentialValues })))))));\r\n    }\r\n}\r\nexports.RecordPredicate = RecordPredicate;\r\n//# sourceMappingURL=RecordPredicate.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/RecordPredicate.js\n// module id = 41\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ScorePicker_1 = require(\"../fields/ScorePicker\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst StringFieldEditor_1 = require(\"./StringFieldEditor\");\r\nconst EntityFieldEditor_1 = require(\"./EntityFieldEditor\");\r\nconst DateFieldEditor_1 = require(\"./DateFieldEditor\");\r\nconst IntegerFieldEditor_1 = require(\"./IntegerFieldEditor\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst formatDate_1 = require(\"../../helper/formatDate\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst recordEditor = (props, record) => {\r\n    switch (record.valueType) {\r\n        case 'string':\r\n            return (React.createElement(StringFieldEditor_1.StringFieldEditor, { value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value })) }));\r\n        case 'date':\r\n            return (React.createElement(DateFieldEditor_1.DateFieldEditor, { value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value })) }));\r\n        case 'integer':\r\n            return (React.createElement(IntegerFieldEditor_1.IntegerFieldEditor, { value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value })) }));\r\n        case 'entity':\r\n            return (React.createElement(EntityFieldEditor_1.EntityFieldEditor, { value: record.value === null ? 0 : parseInt(record.value), onChange: (value) => props.onChange(Object.assign(record, { value })), entities: props.entities }));\r\n        default:\r\n            return (React.createElement(\"div\", null, \"Missing editor\"));\r\n    }\r\n};\r\nconst formatValue = (props, record) => {\r\n    if (record.valueType === 'entity') {\r\n        const entity = props.entities.find((entity) => entity.uid == record.value);\r\n        if (entity !== undefined) {\r\n            if (entity.uid === null) {\r\n                throw Error('Unexpected null ID on entity');\r\n            }\r\n            return (React.createElement(\"span\", null,\r\n                entity.label,\r\n                \" \",\r\n                React.createElement(AddTabButton_1.AddTabButton, { uid: entity.uid, tabType: 'entity' })));\r\n        }\r\n        else {\r\n            return (React.createElement(\"em\", null, \"Missing Entity\"));\r\n        }\r\n    }\r\n    if (record.valueType === 'date') {\r\n        return (React.createElement(\"span\", null, formatDate_1.formatDate(record.value)));\r\n    }\r\n    return (React.createElement(\"span\", null, record.value));\r\n};\r\nexports.RecordRow = mobx_react_1.inject('dataStore', 'modalStore')(mobx_react_1.observer((props) => {\r\n    const createNewSource = (initialValue) => {\r\n        const a = {\r\n            name: 'source',\r\n            complete: () => {\r\n                // TODO : Automatically reload sources\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialValue\r\n            }\r\n        };\r\n        props.modalStore.addModal(a);\r\n    };\r\n    const recordValue = props.value;\r\n    if (recordValue === null) {\r\n        throw new Error('Should not be null!!');\r\n    }\r\n    const currentSource = recordValue.source === null ? undefined :\r\n        props.sources.find((source) => source.uid === recordValue.source);\r\n    const dropDownValue = {\r\n        key: '', value: recordValue.source === null ? null : recordValue.source\r\n    };\r\n    if (currentSource !== undefined) {\r\n        dropDownValue.key = currentSource.label;\r\n    }\r\n    if (props.edit) {\r\n        return (React.createElement(\"tr\", { className: 'record-row' },\r\n            React.createElement(\"td\", { className: 'record-row-item uid' }, recordValue.uid),\r\n            recordValue.valueType !== 'source' ? (React.createElement(\"td\", { className: 'record-row-item' }, recordEditor(props, recordValue))) : null,\r\n            React.createElement(\"td\", { className: 'record-row-item' },\r\n                React.createElement(ComboDropdown_1.NumberComboDropdown, { options: props.sources.map((source) => ({ key: source.label, value: source.uid !== null ? source.uid : null })), typeName: 'source', value: dropDownValue, setValue: (combo) => props.onChange(Object.assign(recordValue, { source: combo === null ? combo : combo.value })), createNewValue: () => createNewSource('') })),\r\n            React.createElement(\"td\", { className: 'record-row-item score' },\r\n                React.createElement(ScorePicker_1.ScorePicker, { value: recordValue.score, readOnly: false, onChange: (score) => props.onChange(Object.assign(recordValue, { score })) })),\r\n            React.createElement(\"td\", { className: 'record-row-item period' },\r\n                React.createElement(DateFieldEditor_1.DateFieldEditor, { value: recordValue.period || '', onChange: (period) => props.onChange(Object.assign(recordValue, { period })) })),\r\n            React.createElement(\"td\", { className: 'record-row-item buttons' },\r\n                React.createElement(\"button\", { onClick: props.acceptChanges },\r\n                    React.createElement(\"i\", { className: 'fa fa-check', \"aria-hidden\": 'true' })),\r\n                React.createElement(\"button\", { onClick: props.cancelChanges },\r\n                    React.createElement(\"i\", { className: 'fa fa-times', \"aria-hidden\": 'true' })))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"tr\", { className: 'record-row' },\r\n            React.createElement(\"td\", { className: 'record-row-item uid' },\r\n                \"#\",\r\n                recordValue.uid),\r\n            recordValue.valueType !== 'source' ? (React.createElement(\"td\", { className: 'record-row-item' }, formatValue(props, recordValue))) : null,\r\n            React.createElement(\"td\", { className: 'record-row-item' },\r\n                dropDownValue.key,\r\n                dropDownValue.key.length > 0 && dropDownValue.value !== null ? (React.createElement(AddTabButton_1.AddTabButton, { uid: dropDownValue.value, tabType: 'source' })) : null),\r\n            React.createElement(\"td\", { className: 'record-row-item score' },\r\n                React.createElement(ScorePicker_1.ScorePicker, { value: recordValue.score, readOnly: true })),\r\n            React.createElement(\"td\", { className: 'record-row-item period' }, formatDate_1.formatDate(recordValue.period)),\r\n            React.createElement(\"td\", { className: 'record-row-item buttons' },\r\n                React.createElement(\"button\", { onClick: props.setEdit },\r\n                    React.createElement(\"i\", { className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true' })),\r\n                React.createElement(\"button\", { onClick: () => props.onDelete(props.value) },\r\n                    React.createElement(\"i\", { className: 'fa fa-trash', \"aria-hidden\": 'true' })))));\r\n    }\r\n}));\r\n//# sourceMappingURL=RecordRow.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/RecordRow.js\n// module id = 42\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst SearchBar_1 = require(\"../SearchBar\");\r\nconst RecordPredicate_1 = require(\"./RecordPredicate\");\r\nconst findParentTree_1 = require(\"../../helper/findParentTree\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet RecordsEditor = class RecordsEditor extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true\r\n        };\r\n    }\r\n    deleteRecord(record) {\r\n        if (record.uid === null) {\r\n            throw new Error('Trying to delete a record with null id');\r\n        }\r\n        this.props.dataStore.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, record.uid)\r\n            .then(() => {\r\n            this.props.onChange();\r\n        });\r\n    }\r\n    createNewRecord() {\r\n        const entity = this.props.dataStore.dataStore.tabs.entity[this.props.id].value.entity;\r\n        const entityType = this.props.dataStore.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const modalDef = {\r\n            name: 'record',\r\n            complete: (data) => {\r\n                console.log('Records editor called complete');\r\n                //this.loadData(this.props);\r\n            },\r\n            cancel: () => {\r\n                console.log('Records editor called cancel');\r\n            },\r\n            settings: {\r\n                options: predicates.map((pred) => ({ key: pred.label, value: pred })),\r\n                entityUid: this.props.id,\r\n                entityType: this.props.entityTypeId\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(modalDef);\r\n    }\r\n    render() {\r\n        const predicates = this.props.predicates;\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"label\", { className: 'small' }, \"Records\"),\r\n                    React.createElement(\"div\", { style: { display: 'flex' } },\r\n                        React.createElement(\"div\", { style: { flex: '1' } },\r\n                            React.createElement(SearchBar_1.SearchBar, { getValue: (p) => p.label, setFilterFunc: (filterFunc) => this.setState({ filterFunc }) })),\r\n                        React.createElement(\"div\", { style: { padding: '0.1em 0.4em', fontSize: '2em' } },\r\n                            React.createElement(\"i\", { className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', onClick: this.createNewRecord.bind(this), title: 'Add new record' }))),\r\n                    React.createElement(\"div\", null, Object.keys(this.props.records).map((section) => {\r\n                        const currentPredicate = predicates.find((pred) => {\r\n                            if (pred.uid === null) {\r\n                                throw new Error('encountered predicate with null id');\r\n                            }\r\n                            return pred.uid.toString() === section;\r\n                        });\r\n                        if (currentPredicate === undefined) {\r\n                            throw new Error('Could not find predicate');\r\n                        }\r\n                        if (!this.state.filterFunc(currentPredicate)) {\r\n                            return null;\r\n                        }\r\n                        return (React.createElement(RecordPredicate_1.RecordPredicate, { key: `section-${section}`, entity_id: this.props.id, dataStore: this.props.dataStore, dimension: 'predicate', records: this.props.records[section], predicate: currentPredicate, sources: this.props.sources, onChange: this.props.onChange }));\r\n                    }))))));\r\n    }\r\n};\r\nRecordsEditor = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], RecordsEditor);\r\nexports.RecordsEditor = RecordsEditor;\r\n//# sourceMappingURL=RecordsEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/RecordsEditor.js\n// module id = 43\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.StringFieldEditor = (props) => {\r\n    return (React.createElement(\"input\", { type: 'text', value: props.value, onChange: (e) => props.onChange(e.target.value) }));\r\n};\r\n//# sourceMappingURL=StringFieldEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/entity_editor/StringFieldEditor.js\n// module id = 44\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst moment = require(\"moment\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst formatDate_1 = require(\"../../helper/formatDate\");\r\nclass DatePickerDropdown extends React.Component {\r\n    constructor() {\r\n        super();\r\n        //TODO: should be false\r\n        this.state = {\r\n            showingDropDown: false\r\n        };\r\n        if (document !== undefined) {\r\n            this.boundWindowClick = () => {\r\n                if (!this.ignoreGlobalClick) {\r\n                    this.setState({\r\n                        showingDropDown: false\r\n                    });\r\n                }\r\n                else {\r\n                    this.ignoreGlobalClick = false;\r\n                }\r\n            };\r\n            document.body.addEventListener('click', this.boundWindowClick);\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.ignoreBlur = false;\r\n        this.ignoreClick = false;\r\n        this.ignoreGlobalClick = false;\r\n    }\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener('click', this.boundWindowClick);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        // this.updateFilter(newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString, newProps);\r\n        // this.setState({\r\n        //     searchString: newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString,\r\n        //     selected: newProps.value,\r\n        //     options: newProps.options\r\n        // });\r\n    }\r\n    //should be false\r\n    handleInputBlur() {\r\n        if (!this.ignoreBlur) {\r\n            this.setState({\r\n                showingDropDown: false\r\n            });\r\n        }\r\n        else {\r\n            this.ignoreBlur = false;\r\n        }\r\n    }\r\n    handleInputFocus() {\r\n        if (this.ignoreBlur) {\r\n            this.ignoreBlur = true;\r\n            return;\r\n        }\r\n        // We don't want `selectItemFromMouse` to trigger when\r\n        // the user clicks into the input to focus it, so set this\r\n        // flag to cancel out the logic in `handleInputClick`.\r\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\r\n        this.ignoreClick = true;\r\n        this.setState({ showingDropDown: true });\r\n    }\r\n    handleInputClick() {\r\n        // Input will not be focused if it's disabled\r\n        if (this.isInputFocused() && this.state.showingDropDown === false) {\r\n            this.setState({ showingDropDown: true });\r\n        }\r\n        else {\r\n            //  if (this.state.highlightedIndex !== null && !this.ignoreClick) {\r\n            //      this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\r\n            //  } else {\r\n            this.ignoreClick = false;\r\n        }\r\n    }\r\n    selectItemFromMouse(item) {\r\n        this.setState({\r\n            showingDropDown: false\r\n        }, () => {\r\n            this.props.setValue(item);\r\n        });\r\n    }\r\n    isInputFocused() {\r\n        const el = this.refs[DatePickerDropdown.datePickerDropDownInputBoxRef];\r\n        return el.ownerDocument && (el === el.ownerDocument.activeElement);\r\n    }\r\n    onDropdownClick() {\r\n        this.ignoreBlur = true;\r\n        this.ignoreGlobalClick = true;\r\n        console.log('clicked');\r\n    }\r\n    rangeTypeChanged(rangeType) {\r\n        this.props.setValue(rangeType + this.props.value.substr(1));\r\n    }\r\n    yearChanged(e) {\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        let yearVal = e.currentTarget.value.substr(0, 4).replace(/[^0-9]/g, '');\r\n        for (let i = yearVal.length; i < 4; i += 1) {\r\n            yearVal += 'X';\r\n        }\r\n        this.props.setValue(base.substr(0, 1) + yearVal + base.substr(5));\r\n    }\r\n    monthChanged(e) {\r\n        this.ignoreGlobalClick = true;\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        const monthVal = e.currentTarget.value.substr(0, 2);\r\n        this.props.setValue(base.substr(0, 5) + monthVal + base.substr(7));\r\n    }\r\n    dayChanged(e) {\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        let dayVal = e.currentTarget.value.substr(0, 2).replace(/[^0-9]/g, '');\r\n        dayVal = lodash_1.padStart(dayVal, 2, '0');\r\n        this.props.setValue(base.substr(0, 7) + dayVal);\r\n    }\r\n    render() {\r\n        let rangeOption = this.props.value.substr(0, 1);\r\n        if (['<', '>', '='].indexOf(rangeOption) === -1) {\r\n            rangeOption = '=';\r\n        }\r\n        const rangeOptionClassName = (val) => {\r\n            if (val === rangeOption) {\r\n                return 'range-option selected';\r\n            }\r\n            else {\r\n                return 'range-option';\r\n            }\r\n        };\r\n        const year = this.props.value.substr(1, 4).replace(/X/g, '');\r\n        const month = this.props.value.substr(5, 2);\r\n        const day = this.props.value[7] === '0' ? this.props.value[8] === '0' ?\r\n            ''\r\n            : this.props.value.substr(8, 1)\r\n            : this.props.value.substr(7, 2);\r\n        const displayValue = formatDate_1.formatDate(this.props.value);\r\n        return (React.createElement(\"div\", { className: 'combo-dropdown' },\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"input\", { type: 'text', readOnly: true, ref: DatePickerDropdown.datePickerDropDownInputBoxRef, className: 'search-input', value: displayValue, onBlur: this.handleInputBlur.bind(this), onFocus: this.handleInputFocus.bind(this), onClick: this.handleInputClick.bind(this) })),\r\n            this.state.showingDropDown ? (React.createElement(\"div\", { className: 'dropdown' },\r\n                React.createElement(\"div\", { className: 'date-picker-dropdown', onMouseDown: this.onDropdownClick.bind(this) },\r\n                    React.createElement(\"section\", { className: 'range-type' },\r\n                        React.createElement(\"div\", { className: rangeOptionClassName('<'), onClick: () => this.rangeTypeChanged('<') }, \"Before\"),\r\n                        React.createElement(\"div\", { className: rangeOptionClassName('='), onClick: () => this.rangeTypeChanged('=') }, \"Exactly\"),\r\n                        React.createElement(\"div\", { className: rangeOptionClassName('>'), onClick: () => this.rangeTypeChanged('>') }, \"After\")),\r\n                    React.createElement(\"section\", { className: 'date-select' },\r\n                        React.createElement(\"div\", { className: 'date-selector day' },\r\n                            React.createElement(\"label\", { className: 'small' }, \"Day\"),\r\n                            React.createElement(\"input\", { type: 'text', maxLength: 2, value: day, onChange: this.dayChanged.bind(this) })),\r\n                        React.createElement(\"div\", { className: 'date-selector month' },\r\n                            React.createElement(\"label\", { className: 'small' }, \"Month\"),\r\n                            React.createElement(\"select\", { onChange: this.monthChanged.bind(this), value: month },\r\n                                React.createElement(\"option\", { value: '00' }, \"Unknown\"),\r\n                                moment.months().map((month, i) => (React.createElement(\"option\", { key: `option-${month}`, value: lodash_1.padStart((i + 1).toString(), 2, '0') }, month))))),\r\n                        React.createElement(\"div\", { className: 'date-selector year' },\r\n                            React.createElement(\"label\", { className: 'small' }, \"Year\"),\r\n                            React.createElement(\"input\", { type: 'text', maxLength: 4, value: year, onChange: this.yearChanged.bind(this) })))))) : null));\r\n    }\r\n}\r\nDatePickerDropdown.datePickerDropDownInputBoxRef = 'datePickerDropDownInputBox';\r\nexports.DatePickerDropdown = DatePickerDropdown;\r\n//# sourceMappingURL=DatePickerDropdown.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/DatePickerDropdown.js\n// module id = 45\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst lodash_1 = require(\"lodash\");\r\nexports.ScorePicker = (props) => {\r\n    const values = [1, 2, 3, 4, 5];\r\n    if (props.readOnly) {\r\n        return (React.createElement(\"span\", { className: 'score-picker' }, values.map((val) => (React.createElement(\"i\", { key: val, className: 'fa fa-star' + (val > props.value ? '-o' : ''), \"aria-hidden\": 'true' })))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"span\", { className: 'score-picker editing' }, lodash_1.reverse(values).map((val) => (React.createElement(\"i\", { key: val, className: 'fa fa-star' + (val > props.value ? '-o' : ''), onClick: () => {\r\n                if (props.onChange === undefined) {\r\n                    throw new Error('An onChange handler is required');\r\n                }\r\n                props.onChange(val);\r\n            }, \"aria-hidden\": 'true' })))));\r\n    }\r\n};\r\n//# sourceMappingURL=ScorePicker.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/fields/ScorePicker.js\n// module id = 46\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet ConflictResolution = class ConflictResolution extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            label: '',\r\n            entityType: { key: '', value: null },\r\n            allEntityTypes: []\r\n        };\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null,\r\n                React.createElement(\"i\", { className: 'fa fa-exclamation-triangle warning' }),\r\n                \" Conflict: \",\r\n                this.props.message),\r\n            this.props.conflictingItems.record !== undefined && this.props.conflictingItems.record.length > 0 ? (React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, \"The following records conflict with your request change:\"),\r\n                React.createElement(\"table\", { className: 'table' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"th\", null, \"Entity\"),\r\n                            React.createElement(\"th\", null, \"Predicate\"),\r\n                            React.createElement(\"th\", null, \"Value\"))),\r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.record.map((record) => {\r\n                        const entityName = this.props.dataStore.dataStore.all.entity.value\r\n                            .find((entity) => entity.uid == record.entity).label;\r\n                        const predicateName = this.props.dataStore.dataStore.all.predicate.value\r\n                            .find((predicate) => predicate.uid == record.predicate).label;\r\n                        return (React.createElement(\"tr\", { key: `row-${record.uid}` },\r\n                            React.createElement(\"td\", null, entityName),\r\n                            React.createElement(\"td\", null, predicateName),\r\n                            React.createElement(\"td\", null, record.value)));\r\n                    }))))) : null,\r\n            this.props.conflictingItems.entity !== undefined && this.props.conflictingItems.entity.length > 0 ? (React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, \"The following entities conflict with your request change:\"),\r\n                React.createElement(\"table\", { className: 'table' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"th\", null, \"Entity\"))),\r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.entity.map((entity) => {\r\n                        return (React.createElement(\"tr\", { key: `row-${entity.uid}` },\r\n                            React.createElement(\"td\", null, entity.label)));\r\n                    }))))) : null,\r\n            this.props.conflictingItems.entityType !== undefined && this.props.conflictingItems.entityType.length > 0 ? (React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, \"The following entity types conflict with your request change:\"),\r\n                React.createElement(\"table\", { className: 'table' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"th\", null, \"Entity Type\"))),\r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.entityType.map((entityType) => {\r\n                        return (React.createElement(\"tr\", { key: `row-${entityType.uid}` },\r\n                            React.createElement(\"td\", null, entityType.label)));\r\n                    }))))) : null,\r\n            this.props.conflictingItems.source !== undefined && this.props.conflictingItems.source.length > 0 ? (React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, \"The following sources conflict with your request change:\"),\r\n                React.createElement(\"table\", { className: 'table' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"th\", null, \"Sources\"))),\r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.source.map((source) => {\r\n                        return (React.createElement(\"tr\", { key: `row-${source.uid}` },\r\n                            React.createElement(\"td\", null, source.label)));\r\n                    }))))) : null,\r\n            React.createElement(\"div\", { className: 'block-buttons' },\r\n                React.createElement(\"button\", { onClick: () => this.props.cancel() }, \"Cancel\"),\r\n                React.createElement(\"button\", { onClick: () => this.props.complete('addToWorkspace') },\r\n                    React.createElement(\"i\", { className: 'icon-list-add' }),\r\n                    \"Cancel and add conflicting records to workspace\"),\r\n                React.createElement(\"button\", { onClick: () => this.props.complete('deleteAll') },\r\n                    React.createElement(\"i\", { className: 'fa fa-trash' }),\r\n                    \" Continue and delete all conflicting records\"))));\r\n    }\r\n};\r\nConflictResolution = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], ConflictResolution);\r\nexports.ConflictResolution = ConflictResolution;\r\n;\r\n//# sourceMappingURL=ConflictResolution.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/ConflictResolution.js\n// module id = 47\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet CreateEntity = class CreateEntity extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            label: '',\r\n            entityType: { key: '', value: null },\r\n            allEntityTypes: []\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.props.dataStore.getCollection(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, {})\r\n            .then((allEntityTypes) => {\r\n            if (this.props.initialType !== undefined) {\r\n                const initialType = allEntityTypes.find((et) => et.uid === this.props.initialType);\r\n                if (initialType === undefined) {\r\n                    throw new Error('Invalid initial type');\r\n                }\r\n                if (initialType.uid === null) {\r\n                    throw new Error('found entity type with null uid');\r\n                }\r\n                this.setState({\r\n                    entityType: { key: initialType.label, value: initialType.uid }\r\n                });\r\n            }\r\n            this.setState({ allEntityTypes });\r\n        });\r\n    }\r\n    createEntity() {\r\n        if (this.state.entityType === null) {\r\n            throw new Error('Cannot create entity with null type');\r\n        }\r\n        this.props.dataStore.postItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, falcon_core_1.Serializer.fromJson(falcon_core_1.Entity, {\r\n            label: this.state.label,\r\n            entityType: this.state.entityType.value\r\n        }), {})\r\n            .then((a) => this.props.complete(a[0].toString()));\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null, \"Create Entity\"),\r\n            React.createElement(\"label\", { className: 'small' }, \"Label\"),\r\n            React.createElement(\"input\", { type: 'text', value: this.state.label, ref: (a) => { if (a !== null)\r\n                    a.focus(); }, name: 'new-entity-name', className: 'gap', onChange: (e) => this.setState({ label: e.target.value }) }),\r\n            React.createElement(\"label\", { className: 'small' }, \"Type\"),\r\n            React.createElement(ComboDropdown_1.NumberComboDropdown, { options: this.state.allEntityTypes.map((t) => ({ key: t.label, value: t.uid })), typeName: 'entity type', value: this.state.entityType, setValue: (entityType) => this.setState({ entityType }), createNewValue: lodash_1.noop, allowNew: false }),\r\n            React.createElement(\"button\", { name: 'cancel-modal', onClick: () => this.props.cancel(), className: 'pull-left' }, \"Cancel\"),\r\n            React.createElement(\"button\", { name: 'create-entity', onClick: this.createEntity.bind(this), className: 'pull-right' }, \"Create Entity\")));\r\n    }\r\n};\r\nCreateEntity = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateEntity);\r\nexports.CreateEntity = CreateEntity;\r\n;\r\n//# sourceMappingURL=CreateEntity.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreateEntity.js\n// module id = 48\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst mousetrap = require(\"mousetrap\");\r\nlet CreateEntityType = class CreateEntityType extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            internalValue: ''\r\n        };\r\n    }\r\n    createEntityType() {\r\n        this.props.dataStore.postItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, falcon_core_1.Serializer.fromJson(falcon_core_1.EntityType, {\r\n            label: this.state.internalValue\r\n        }), {})\r\n            .then(this.props.complete);\r\n    }\r\n    inputRef(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.createEntityType.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null, \"Create Entity Type\"),\r\n            React.createElement(\"label\", { className: 'small' }, \"Name\"),\r\n            React.createElement(\"input\", { type: 'text', value: this.state.internalValue, ref: this.inputRef.bind(this), onChange: (e) => this.setState({ internalValue: e.target.value }) }),\r\n            React.createElement(\"button\", { onClick: () => this.props.cancel(), className: 'pull-left' }, \"Cancel\"),\r\n            React.createElement(\"button\", { onClick: this.createEntityType.bind(this), className: 'pull-right' }, \"Create Entity Type\")));\r\n    }\r\n};\r\nCreateEntityType = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateEntityType);\r\nexports.CreateEntityType = CreateEntityType;\r\n;\r\n//# sourceMappingURL=CreateEntityType.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreateEntityType.js\n// module id = 49\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst PredicateDescription_1 = require(\"../fields/PredicateDescription\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst literalTypes_1 = require(\"../../literalTypes\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet CreatePredicate = class CreatePredicate extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            label: '',\r\n            domain: { key: '', value: null },\r\n            range: { key: '', value: null },\r\n            domainOptions: [],\r\n            rangeOptions: []\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({ label: this.props.initialName });\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.initialDomain !== undefined) {\r\n            this.props.dataStore.getItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.initialDomain)\r\n                .then((result) => {\r\n                if (result.uid === null) {\r\n                    throw new Error('Unexpected null uid');\r\n                }\r\n                this.setState({\r\n                    domain: { key: result.label, value: result.uid },\r\n                    domainOptions: [\r\n                        { key: result.label, value: result.uid }\r\n                    ].concat(result.parents.map((entityTypeId) => {\r\n                        const parentEntityType = this.props.dataStore.dataStore.all.entity_type.value.find((e) => e.uid === entityTypeId);\r\n                        return { key: parentEntityType.label, value: entityTypeId };\r\n                    }))\r\n                });\r\n            });\r\n        }\r\n        const results = this.props.dataStore.dataStore.all.entity_type.value;\r\n        const entityTypeMap = results.map((entityType) => {\r\n            if (entityType.uid === null) {\r\n                throw new Error('Unexpected null uid');\r\n            }\r\n            return { key: entityType.label, value: entityType.uid };\r\n        });\r\n        const entityTypeMap2 = entityTypeMap.map((e) => ({ key: e.key, value: { isReference: true, value: e.value.toString() } }));\r\n        const literalTypesMap = literalTypes_1.literalTypes.map((lit) => ({ key: lit.label, value: { isReference: false, value: lit.value } }));\r\n        if (this.props.initialDomain === undefined) {\r\n            this.setState({ domainOptions: entityTypeMap });\r\n        }\r\n        this.setState({\r\n            rangeOptions: literalTypesMap.concat(entityTypeMap2)\r\n        });\r\n    }\r\n    create() {\r\n        if (this.state.range.value === null || this.state.domain.value === null) {\r\n            throw new Error('Domain and range must be set');\r\n        }\r\n        const newPredicate = falcon_core_1.Serializer.fromJson(falcon_core_1.Predicate, {\r\n            label: this.state.label,\r\n            domain: this.state.domain.value,\r\n            range: this.state.range.value.value,\r\n            rangeIsReference: this.state.range.value.isReference\r\n        });\r\n        this.props.dataStore.postItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, newPredicate, {})\r\n            .then((result) => {\r\n            newPredicate.uid = result[0];\r\n            this.props.complete(newPredicate);\r\n        });\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null,\r\n                React.createElement(\"i\", { className: 'fa fa-plus', \"aria-hidden\": 'true' }),\r\n                \" Create Property\"),\r\n            React.createElement(\"label\", { className: 'small' }, \"Name\"),\r\n            React.createElement(\"input\", { type: 'text', className: 'gap', ref: (a) => {\r\n                    if (a !== null) {\r\n                        a.focus();\r\n                    }\r\n                }, value: this.state.label, onChange: (e) => this.setState({ label: e.target.value }) }),\r\n            React.createElement(PredicateDescription_1.PredicateDescription, { domain: this.state.domain, range: this.state.range, domainChanged: (s) => this.setState({ domain: s }), rangeChanged: (s) => this.setState({ range: s }), domainOptions: this.state.domainOptions, rangeOptions: this.state.rangeOptions, mode: 'editAll' }),\r\n            React.createElement(\"div\", { className: 'modal-toolbar' },\r\n                React.createElement(\"button\", { onClick: this.props.cancel, className: 'pull-left' }, \"Cancel\"),\r\n                React.createElement(\"button\", { onClick: this.create.bind(this), className: 'pull-right' }, \"Create Property\"))));\r\n    }\r\n};\r\nCreatePredicate = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreatePredicate);\r\nexports.CreatePredicate = CreatePredicate;\r\n;\r\n//# sourceMappingURL=CreatePredicate.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreatePredicate.js\n// module id = 50\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nlet CreatePresetRecord = CreatePresetRecord_1 = class CreatePresetRecord extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {};\r\n    }\r\n    componentDidMount() {\r\n        if (CreatePresetRecord_1.openEntityDialog) {\r\n            CreatePresetRecord_1.openEntityDialog = false;\r\n            this.createNewEntity();\r\n        }\r\n        else {\r\n            CreatePresetRecord_1.openEntityDialog = true;\r\n        }\r\n    }\r\n    createNewEntity() {\r\n        const modalDef = {\r\n            name: 'entity',\r\n            complete: (data) => {\r\n                const isMentioned = this.props.dataStore.dataStore.all.predicate.value.find((pred) => pred.label === 'is mentioned');\r\n                if (isMentioned === undefined) {\r\n                    throw new Error('Is mentioned predicate is missing, it should be loaded by default');\r\n                }\r\n                this.props.dataStore.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n                    predicate: isMentioned.uid,\r\n                    entity: data[0],\r\n                    valueType: 'source',\r\n                    source: this.props.source.uid,\r\n                    score: 3\r\n                }), {})\r\n                    .then((result) => {\r\n                    this.props.complete(result);\r\n                })\r\n                    .catch(this.props.cancel);\r\n            },\r\n            cancel: () => {\r\n            },\r\n            settings: {}\r\n        };\r\n        this.props.modalStore.addModal(modalDef);\r\n    }\r\n    render() {\r\n        return null;\r\n    }\r\n};\r\nCreatePresetRecord.openEntityDialog = true;\r\nCreatePresetRecord = CreatePresetRecord_1 = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreatePresetRecord);\r\nexports.CreatePresetRecord = CreatePresetRecord;\r\n;\r\nvar CreatePresetRecord_1;\r\n//# sourceMappingURL=CreatePresetRecord.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreatePresetRecord.js\n// module id = 51\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nclass PredicateComboDropdown extends ComboDropdown_1.ComboDropdown {\r\n}\r\nlet CreateRecord = class CreateRecord extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: '', value: null },\r\n            searchValue: ''\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.refs['comboDropDown'].refs['comboDropDownInputBox'].focus();\r\n    }\r\n    createNewPredicate() {\r\n        const modalDef = {\r\n            name: 'predicate',\r\n            complete: (data) => {\r\n                console.log('Predicate editor called complete');\r\n                this.setComboValue({ key: data.label, value: data === null ? null : data });\r\n            },\r\n            cancel: () => {\r\n                console.log('Predicate editor called cancel');\r\n            },\r\n            settings: {\r\n                initialName: this.state.searchValue,\r\n                initialDomain: this.props.entityType\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(modalDef);\r\n    }\r\n    setComboValue(opt) {\r\n        if (opt.value === null) {\r\n            throw new Error('Value cannot be null');\r\n        }\r\n        this.props.dataStore.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n            predicate: opt.value.uid,\r\n            entity: this.props.entityUid,\r\n            valueType: opt.value.rangeIsReference ? 'entity' : opt.value.range,\r\n            score: 3,\r\n            source: this.props.dataStore.defaultSource\r\n        }), {})\r\n            .then((result) => this.props.complete(result))\r\n            .catch(this.props.cancel);\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null, \"Create Record\"),\r\n            React.createElement(PredicateComboDropdown, { ref: 'comboDropDown', options: this.props.options, typeName: 'predicate', value: this.state.comboValue, setValue: this.setComboValue.bind(this), createNewValue: this.createNewPredicate.bind(this), updateSearchString: (s) => this.setState({ searchValue: s }) })));\r\n    }\r\n};\r\nCreateRecord = __decorate([\r\n    mobx_react_1.inject('modalStore', 'dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateRecord);\r\nexports.CreateRecord = CreateRecord;\r\n;\r\n//# sourceMappingURL=CreateRecord.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreateRecord.js\n// module id = 52\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst mousetrap = require(\"mousetrap\");\r\nlet CreateSource = class CreateSource extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            internalValue: ''\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({ internalValue: this.props.initialValue });\r\n    }\r\n    createSource() {\r\n        this.props.dataStore.postItem(falcon_core_1.Source, ApiService_1.AppUrls.source, falcon_core_1.Serializer.fromJson(falcon_core_1.Source, {\r\n            label: this.state.internalValue\r\n        }), {})\r\n            .then(this.props.complete);\r\n    }\r\n    inputRef(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.createSource.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n            this.keyboardShortcuts.unbind('escape');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null, \"Create Source\"),\r\n            React.createElement(\"label\", { className: 'small' }, \"Name\"),\r\n            React.createElement(\"input\", { type: 'text', value: this.state.internalValue, ref: this.inputRef.bind(this), onChange: (e) => this.setState({ internalValue: e.target.value }) }),\r\n            React.createElement(\"button\", { onClick: () => this.props.cancel(), className: 'pull-left' }, \"Cancel\"),\r\n            React.createElement(\"button\", { onClick: this.createSource.bind(this), className: 'pull-right' }, \"Create Source\")));\r\n    }\r\n};\r\nCreateSource.defaultProps = {\r\n    initialValue: ''\r\n};\r\nCreateSource = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateSource);\r\nexports.CreateSource = CreateSource;\r\n//# sourceMappingURL=CreateSource.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreateSource.js\n// module id = 53\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst Overlay_1 = require(\"../Overlay\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst mousetrap = require(\"mousetrap\");\r\nlet CreateTabSet = class CreateTabSet extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            internalValue: ''\r\n        };\r\n    }\r\n    createTabSet() {\r\n        return fetch('/tabset', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                name: this.state.internalValue,\r\n                tabs: this.props.dataStore.tabs\r\n            }),\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'same-origin'\r\n        })\r\n            .then((response) => {\r\n            return response.json();\r\n        }).then(() => this.props.complete(''));\r\n    }\r\n    inputRef(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.createTabSet.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null,\r\n            React.createElement(\"h2\", null, \"Save Tab Set\"),\r\n            React.createElement(\"label\", { className: 'small' }, \"Name\"),\r\n            React.createElement(\"input\", { type: 'text', value: this.state.internalValue, ref: this.inputRef.bind(this), onChange: (e) => this.setState({ internalValue: e.target.value }) }),\r\n            React.createElement(\"button\", { onClick: () => this.props.cancel(), className: 'pull-left' }, \"Cancel\"),\r\n            React.createElement(\"button\", { onClick: this.createTabSet.bind(this), className: 'pull-right' }, \"Create Tab Set\")));\r\n    }\r\n};\r\nCreateTabSet = __decorate([\r\n    mobx_react_1.inject('dataStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateTabSet);\r\nexports.CreateTabSet = CreateTabSet;\r\n;\r\n//# sourceMappingURL=CreateTabSet.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/modal/CreateTabSet.js\n// module id = 54\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst lev = require(\"levenshtein\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst formatDate_1 = require(\"../../helper/formatDate\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst sortIcons = {\r\n    'none': 'fa fa-sort',\r\n    'asc': 'fa fa-sort-asc',\r\n    'desc': 'fa fa-sort-desc'\r\n};\r\nconst customColumns = (predicates, columns, updateColumnParams, rotateSort) => {\r\n    return [0, 1, 2].map((id) => {\r\n        const comboValue = { key: '', value: null };\r\n        if (columns[id].predicate !== -1) {\r\n            const thisPred = predicates.find((pred) => pred.uid == columns[id].predicate);\r\n            if (thisPred !== undefined) {\r\n                comboValue.key = thisPred.label;\r\n            }\r\n            comboValue.value = columns[id].predicate;\r\n        }\r\n        return (React.createElement(\"td\", { key: `col-${id}` },\r\n            React.createElement(\"div\", { className: 'list-combo-header' },\r\n                React.createElement(\"div\", { className: 'combo-wrapper' },\r\n                    React.createElement(ComboDropdown_1.NumberComboDropdown, { value: comboValue, typeName: 'predicate', allowNew: false, setValue: (value) => updateColumnParams(id, 'p', value === null ? null : value.value), options: predicates.map((pred) => ({ key: pred.label, value: pred.uid.toString() })), createNewValue: lodash_1.noop, additionalClasses: ['compact'] })),\r\n                React.createElement(\"div\", { className: 'order-wrapper' },\r\n                    React.createElement(\"i\", { className: sortIcons[columns[id].sort], onClick: () => rotateSort(id) })))));\r\n    });\r\n};\r\nlet EntityList = class EntityList extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            entities: [],\r\n            entityTypes: [],\r\n            predicates: [],\r\n            columns: [\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' }\r\n            ],\r\n            entityType: { key: 'Any', value: 0 },\r\n            queryData: {}\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.update(this.props);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.update(newProps);\r\n    }\r\n    update(props) {\r\n        const queryStringOptions = props.query;\r\n        const columns = lodash_1.cloneDeep(this.state.columns);\r\n        if (queryStringOptions !== null) {\r\n            for (let i = 1; i < 4; i += 1) {\r\n                columns[i - 1].predicate = queryStringOptions[`col${i}p`] || null;\r\n                columns[i - 1].sort = queryStringOptions[`col${i}s`] || null;\r\n                columns[i - 1].filterType = queryStringOptions[`col${i}f`] || '';\r\n                columns[i - 1].filterValue = queryStringOptions[`col${i}v`] || '';\r\n                columns[i - 1].invertFilter = queryStringOptions[`col${i}i`] || null;\r\n            }\r\n        }\r\n        this.setState({\r\n            columns,\r\n            queryData: queryStringOptions === null ? {} : queryStringOptions\r\n        });\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'entity',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: ''\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    updateColumnParams(colId, key, value) {\r\n        this.context.router.transitionTo({\r\n            pathname: '/edit/entity',\r\n            query: Object.assign(this.state.queryData, { [`col${colId + 1}${key}`]: value })\r\n        });\r\n    }\r\n    rotateSort(colId) {\r\n        const columns = lodash_1.cloneDeep(this.state.columns);\r\n        switch (columns[colId].sort) {\r\n            case 'none':\r\n                columns[colId].sort = 'asc';\r\n                break;\r\n            case 'asc':\r\n                columns[colId].sort = 'desc';\r\n                break;\r\n            case 'desc':\r\n                columns[colId].sort = 'none';\r\n        }\r\n        this.setState({\r\n            columns\r\n        });\r\n    }\r\n    addViewTab() {\r\n        const tabData = {};\r\n        const mapping = [\r\n            { key: 'p', display: 'Predicate', mod: (data) => this.props.dataStore.dataStore.all.predicate.value.find((pred) => pred.uid == data).label },\r\n            { key: 's', display: 'Sort', mod: (data) => data },\r\n            { key: 'f', display: 'filterType', mod: (data) => data },\r\n            { key: 'v', display: 'filterValue', mod: (data) => data },\r\n            { key: 'i', display: 'invertFilter', mod: (data) => data }\r\n        ];\r\n        for (let i = 1; i < 4; i += 1) {\r\n            for (let j = 0; j < mapping.length; j += 1) {\r\n                if (this.state.queryData[`col${i}${mapping[j].key}`] !== undefined) {\r\n                    if (tabData[`Column ${i}`] === undefined) {\r\n                        tabData[`Column ${i}`] = {};\r\n                    }\r\n                    tabData[`Column ${i}`][mapping[j].display] = mapping[j].mod(this.state.queryData[`col${i}${mapping[j].key}`]);\r\n                }\r\n            }\r\n        }\r\n        this.props.dataStore.createTab('entity', Date.now(), 'view', tabData, this.props.query);\r\n    }\r\n    render() {\r\n        const entities = this.props.dataStore.dataStore.all.entity.value;\r\n        const predicates = this.props.dataStore.dataStore.all.predicate.value;\r\n        const entityTypes = this.props.dataStore.dataStore.all.entity_type.value;\r\n        const entityTypeOptions = entityTypes.map((entityType) => ({ key: entityType.label, value: entityType.uid }));\r\n        const tableData = entities.map((entity) => {\r\n            const entityType = entityTypes.find((t) => t.uid === entity.entityType);\r\n            const entityData = this.props.dataStore.dataStore.records.filter((res) => res.entity === entity.uid);\r\n            return {\r\n                uid: entity.uid,\r\n                label: entity.label,\r\n                entityType,\r\n                columns: this.state.columns.map((col) => {\r\n                    let value = '';\r\n                    if (entityData !== undefined && col.predicate !== -1) {\r\n                        const predicateData = entityData\r\n                            .filter((record) => record.predicate == col.predicate);\r\n                        if (predicateData !== undefined) {\r\n                            value = predicateData.map((pred) => {\r\n                                if (pred.valueType === 'date') {\r\n                                    return formatDate_1.formatDate(pred.value);\r\n                                }\r\n                                if (pred.valueType === 'source') {\r\n                                    if (pred.value === null) {\r\n                                        return 'Not set';\r\n                                    }\r\n                                    return this.props.dataStore.dataStore.all.source.value.find((source) => source.uid === pred.value).label;\r\n                                }\r\n                                if (pred.valueType === 'entity') {\r\n                                    if (pred.value === null) {\r\n                                        return 'Not set';\r\n                                    }\r\n                                    return this.props.dataStore.dataStore.all.entity.value.find((entity) => entity.uid === pred.value).label;\r\n                                }\r\n                                return pred.value;\r\n                            }).join(', ');\r\n                        }\r\n                        return value;\r\n                    }\r\n                })\r\n            };\r\n        })\r\n            .filter((row) => {\r\n            let keepRow = true;\r\n            this.state.columns.forEach((col, i) => {\r\n                if (col.filterType === 'contains' && col.filterValue.length > 0 && col.predicate !== null) {\r\n                    if (row.columns[i].toLowerCase().indexOf(col.filterValue.toLowerCase()) === -1) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n                if (col.filterType === 'exists' && col.predicate !== null) {\r\n                    if (row.columns[i].length === 0) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n                if (col.filterType === 'similar' && col.predicate !== null && col.filterValue.length > 0) {\r\n                    if (new lev(row.columns[i], col.filterValue).distance >= col.filterValue.length + 2) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n            });\r\n            return keepRow;\r\n        })\r\n            .sort((row1, row2) => {\r\n            let score = 0;\r\n            this.state.columns.forEach((col, i) => {\r\n                if (col.sort !== 'none' && row1.columns[i] !== row2.columns[i]) {\r\n                    score += (row1.columns[i] > row2.columns[i] ? 1 : -1) * (Math.pow(10, 3 - i)) * (col.sort === 'asc' ? -1 : 1);\r\n                }\r\n            });\r\n            return score;\r\n        });\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header entity' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"h2\", null,\r\n                            \"All Entities \",\r\n                            React.createElement(\"i\", { className: 'fa fa-plus-circle add button', title: 'Add new entity', \"aria-hidden\": 'true', onClick: this.addNew.bind(this) }))),\r\n                    React.createElement(\"div\", { className: 'sub-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-folder-open-o', \"aria-hidden\": 'true', onClick: this.addViewTab.bind(this) }))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'entity selected' }, \"LIST\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(\"table\", { className: 'table' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"td\", null, \"#\"),\r\n                            React.createElement(\"td\", null, \"Label\"),\r\n                            React.createElement(\"td\", null, \"Type\"),\r\n                            customColumns(predicates, this.state.columns, this.updateColumnParams.bind(this), this.rotateSort.bind(this))),\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"td\", null),\r\n                            React.createElement(\"td\", null),\r\n                            React.createElement(\"td\", null,\r\n                                React.createElement(ComboDropdown_1.NumberComboDropdown, { value: this.state.entityType, typeName: 'entity type', allowNew: false, setValue: (entityType) => this.setState({ entityType }), options: entityTypeOptions, createNewValue: lodash_1.noop, additionalClasses: ['compact'] })),\r\n                            this.state.columns.map((col, id) => (React.createElement(\"td\", { key: `col-${id}` },\r\n                                React.createElement(\"div\", { className: 'flex-fill' },\r\n                                    React.createElement(\"div\", null,\r\n                                        React.createElement(\"select\", { value: col.filterType, className: 'padded', onChange: (e) => this.updateColumnParams(id, 'f', e.target.value) },\r\n                                            React.createElement(\"option\", { value: 'any' }, \"Any\"),\r\n                                            React.createElement(\"option\", { value: 'exists' }, \"Exists\"),\r\n                                            React.createElement(\"option\", { value: 'contains' }, \"Contains\"),\r\n                                            React.createElement(\"option\", { value: 'similar' }, \"Similar\"))),\r\n                                    React.createElement(\"div\", null,\r\n                                        React.createElement(\"input\", { type: 'text', disabled: col.filterType === 'any' || col.filterType === 'exists', onChange: (e) => this.updateColumnParams(id, 'v', e.target.value), value: col.filterValue })))))))),\r\n                    React.createElement(\"tbody\", null, tableData.map((row) => (React.createElement(\"tr\", { key: `entity-${row.uid}` },\r\n                        React.createElement(\"td\", null, row.uid),\r\n                        React.createElement(\"td\", null,\r\n                            row.label,\r\n                            \" \",\r\n                            React.createElement(AddTabButton_1.AddTabButton, { uid: row.uid, tabType: 'entity' })),\r\n                        React.createElement(\"td\", null, row.entityType ? row.entityType.label : ''),\r\n                        [0, 1, 2].map((id) => (React.createElement(\"td\", { key: `col-val-${id}` }, row.columns[id])))))))))));\r\n    }\r\n};\r\nEntityList.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nEntityList = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [Object])\r\n], EntityList);\r\nexports.EntityList = EntityList;\r\n//# sourceMappingURL=EntityList.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/object_list/EntityList.js\n// module id = 55\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst SearchBar_1 = require(\"../SearchBar\");\r\nconst RecursiveTree_1 = require(\"../RecursiveTree\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nclass EntityRecursiveTree extends RecursiveTree_1.RecursiveTree {\r\n}\r\nlet EntityTypeList = class EntityTypeList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true,\r\n            mode: 'list'\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'entity_type',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {}\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header entity_type' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"h2\", null,\r\n                            \"All Entity Types \",\r\n                            React.createElement(\"i\", { className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', title: 'Add new entity type', onClick: this.addNew.bind(this) })))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'entity_type ' + (this.state.mode === 'list' ? 'selected' : ''), onClick: () => this.setState({ mode: 'list' }) }, \"LIST\"),\r\n                        React.createElement(\"div\", { className: 'entity_type ' + (this.state.mode === 'tree' ? 'selected' : ''), onClick: () => this.setState({ mode: 'tree' }) }, \"TREE\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(SearchBar_1.SearchBar, { getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f }) }),\r\n                this.state.mode === 'list' ? (React.createElement(\"table\", { className: 'table gap' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"td\", null, \"#\"),\r\n                            React.createElement(\"td\", null, \"Name\"),\r\n                            React.createElement(\"td\", null, \"Parent\"),\r\n                            React.createElement(\"td\", null, \"Description\"))),\r\n                    React.createElement(\"tbody\", null, this.props.dataStore.dataStore.all.entity_type.value.filter(this.state.filterFunc).map((entityType) => {\r\n                        if (entityType.uid === null) {\r\n                            throw new Error('Found entity with no id');\r\n                        }\r\n                        return (React.createElement(\"tr\", { key: `entityType-${entityType.uid}` },\r\n                            React.createElement(\"td\", null,\r\n                                entityType.uid,\r\n                                \" \",\r\n                                React.createElement(AddTabButton_1.AddTabButton, { uid: entityType.uid, tabType: 'entity_type' })),\r\n                            React.createElement(\"td\", null, entityType.label),\r\n                            React.createElement(\"td\", null, entityType.parent),\r\n                            React.createElement(\"td\", null, entityType.description)));\r\n                    })))) : (React.createElement(\"div\", { className: 'tree-root' },\r\n                    React.createElement(EntityRecursiveTree, { data: this.props.dataStore.dataStore.all.entity_type.value, tabType: 'entity_type', parentId: null, dataStore: this.props.dataStore }))))));\r\n    }\r\n};\r\nEntityTypeList = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], EntityTypeList);\r\nexports.EntityTypeList = EntityTypeList;\r\n//# sourceMappingURL=EntityTypeList.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/object_list/EntityTypeList.js\n// module id = 56\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst SearchBar_1 = require(\"../SearchBar\");\r\nlet PredicateList = class PredicateList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'predicate',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: ''\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header predicate' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"h2\", null,\r\n                            \"All Properties \",\r\n                            React.createElement(\"i\", { className: 'fa fa-plus-circle add button', title: 'Add new property', \"aria-hidden\": 'true', onClick: this.addNew.bind(this) })))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'predicate selected' }, \"LIST\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(SearchBar_1.SearchBar, { getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f }) }),\r\n                React.createElement(\"table\", { className: 'table gap' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"td\", null, \"#\"),\r\n                            React.createElement(\"td\", null, \"Label\"),\r\n                            React.createElement(\"td\", null, \"Domain\"),\r\n                            React.createElement(\"td\", null, \"Range\"),\r\n                            React.createElement(\"td\", null, \"Uses\"))),\r\n                    React.createElement(\"tbody\", null, this.props.dataStore.dataStore.all.predicate.value.filter(this.state.filterFunc).map((predicate) => {\r\n                        const entityType = this.props.dataStore.dataStore.all.entity_type.value.find((t) => t.uid === predicate.domain);\r\n                        const rangeType = predicate.rangeIsReference ?\r\n                            this.props.dataStore.dataStore.all.entity_type.value.find((t) => t.uid === predicate.range) :\r\n                            predicate.range;\r\n                        if (predicate.uid === null) {\r\n                            throw new Error('Found predicate with null uid');\r\n                        }\r\n                        return (React.createElement(\"tr\", { key: `predicate-${predicate.uid}` },\r\n                            React.createElement(\"td\", null,\r\n                                predicate.uid,\r\n                                \" \",\r\n                                React.createElement(AddTabButton_1.AddTabButton, { uid: predicate.uid, tabType: 'predicate' })),\r\n                            React.createElement(\"td\", null, predicate.label),\r\n                            React.createElement(\"td\", null, entityType ? entityType.label : ''),\r\n                            React.createElement(\"td\", null, predicate.rangeIsReference ? rangeType ? rangeType.label : '' : rangeType),\r\n                            React.createElement(\"td\", null, predicate.uses)));\r\n                    }))))));\r\n    }\r\n};\r\nPredicateList = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], PredicateList);\r\nexports.PredicateList = PredicateList;\r\n//# sourceMappingURL=PredicateList.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/object_list/PredicateList.js\n// module id = 57\n// module chunks = 0","/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst SearchBar_1 = require(\"../SearchBar\");\r\nconst RecursiveTree_1 = require(\"../RecursiveTree\");\r\nclass SourceRecursiveTree extends RecursiveTree_1.RecursiveTree {\r\n}\r\nlet SourceList = class SourceList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true,\r\n            mode: 'list'\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'source',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {}\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header source' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"h2\", null,\r\n                            \"All Sources \",\r\n                            React.createElement(\"i\", { className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', title: 'Add new source', onClick: this.addNew.bind(this) })))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'source ' + (this.state.mode === 'list' ? 'selected' : ''), onClick: () => this.setState({ mode: 'list' }) }, \"LIST\"),\r\n                        React.createElement(\"div\", { className: 'source ' + (this.state.mode === 'tree' ? 'selected' : ''), onClick: () => this.setState({ mode: 'tree' }) }, \"TREE\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(SearchBar_1.SearchBar, { getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f }) }),\r\n                this.state.mode === 'list' ? (React.createElement(\"table\", { className: 'table gap' },\r\n                    React.createElement(\"thead\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            React.createElement(\"td\", null, \"#\"),\r\n                            React.createElement(\"td\", null, \"Name\"),\r\n                            React.createElement(\"td\", null, \"Parent\"))),\r\n                    React.createElement(\"tbody\", null, this.props.dataStore.dataStore.all.source.value.filter(this.state.filterFunc).map((source) => {\r\n                        if (source.uid === null) {\r\n                            throw new Error('Encountered source with null uid');\r\n                        }\r\n                        return (React.createElement(\"tr\", { key: `source-${source.uid}` },\r\n                            React.createElement(\"td\", null,\r\n                                source.uid,\r\n                                \" \",\r\n                                React.createElement(AddTabButton_1.AddTabButton, { uid: source.uid, tabType: 'source' })),\r\n                            React.createElement(\"td\", null, source.label),\r\n                            React.createElement(\"td\", null, source.parent)));\r\n                    })))) : (React.createElement(\"div\", { className: 'tree-root' },\r\n                    React.createElement(SourceRecursiveTree, { data: this.props.dataStore.dataStore.all.source.value, tabType: 'source', parentId: null, dataStore: this.props.dataStore }))))));\r\n    }\r\n};\r\nSourceList = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], SourceList);\r\nexports.SourceList = SourceList;\r\n//# sourceMappingURL=SourceList.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/object_list/SourceList.js\n// module id = 58\n// module chunks = 0","/**\r\n * @fileOverview Searchboc for sidebar\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ComboDropdown_1 = require(\"../ComboDropdown\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nexports.SearchBox = (props, context) => {\r\n    const entities = props.dataStore.dataStore.all.entity.value.map((entity) => ({ key: entity.label, value: `${ApiService_1.AppUrls.entity}/${entity.uid}` }));\r\n    const entityTypes = props.dataStore.dataStore.all.entity_type.value.map((entityType) => ({ key: entityType.label, value: `${ApiService_1.AppUrls.entity_type}/${entityType.uid}` }));\r\n    const predicates = props.dataStore.dataStore.all.predicate.value.map((predicate) => ({ key: predicate.label, value: `${ApiService_1.AppUrls.predicate}/${predicate.uid}` }));\r\n    const sources = props.dataStore.dataStore.all.source.value.map((source) => ({ key: source.label, value: `${ApiService_1.AppUrls.source}/${source.uid}` }));\r\n    const all = entities.concat(entityTypes, predicates, sources);\r\n    return (React.createElement(\"span\", null,\r\n        React.createElement(\"div\", { className: 'input-addon-formgroup' },\r\n            React.createElement(\"span\", { className: 'input-addon-icon' },\r\n                React.createElement(\"i\", { className: 'fa fa-search fa-fw' })),\r\n            React.createElement(ComboDropdown_1.StringComboDropdown, { value: { key: '', value: null }, setValue: (val) => {\r\n                    if (val !== null) {\r\n                        context.router.transitionTo(`/edit/${val.value}`);\r\n                    }\r\n                }, typeName: 'all', options: all, allowNew: false, createNewValue: () => { } }))));\r\n};\r\nexports.SearchBox.contextTypes = { router: React.PropTypes.object.isRequired };\r\n//# sourceMappingURL=SearchBox.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/sidebar/SearchBox.js\n// module id = 59\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.AdvancedSearchWorkspace = (props) => (React.createElement(\"div\", { className: 'workspace-editor' },\r\n    React.createElement(\"h2\", null, \"Advanced Search\")));\r\n//# sourceMappingURL=AdvancedSearchWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/AdvancedSearchWorkspace.js\n// module id = 60\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.EmptyWorkspace = () => (React.createElement(\"div\", { className: 'workspace-editor' },\r\n    React.createElement(\"h2\", null, \"There is nothing here\")));\r\n//# sourceMappingURL=EmptyWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/EmptyWorkspace.js\n// module id = 61\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst findParentTree_1 = require(\"../../helper/findParentTree\");\r\nconst EditableHeader_1 = require(\"../fields/EditableHeader\");\r\nconst EditableFieldComponent_1 = require(\"../fields/EditableFieldComponent\");\r\nconst EntityWorkspaceCoreView_1 = require(\"./entity/EntityWorkspaceCoreView\");\r\nconst EntityWorkspaceReferenceView_1 = require(\"./entity/EntityWorkspaceReferenceView\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst HeaderEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableHeader_1.EditableHeader);\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nlet EntityEditorWorkspace = class EntityEditorWorkspace extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            tab: 0\r\n        };\r\n    }\r\n    del() {\r\n        this.props.dataStore.delItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id)\r\n            .then(() => {\r\n            this.props.dataStore.closeTab('entity', this.props.id);\r\n            this.context.router.transitionTo('/edit/notfound');\r\n        })\r\n            .catch((e) => {\r\n            if (e.code === 404) {\r\n                this.context.router.transitionTo('/edit/notfound');\r\n            }\r\n            if (e.code === 422) {\r\n                e.data.then((data) => {\r\n                    const conflictResolutionModal = {\r\n                        name: 'conflict_resolution',\r\n                        cancel: () => { },\r\n                        complete: (result) => {\r\n                            if (result === 'addToWorkspace') {\r\n                                data.record.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('entity', datum.entity, 'item');\r\n                                });\r\n                                data.entity.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('entity', datum.uid, 'item');\r\n                                });\r\n                            }\r\n                            if (result === 'deleteAll') {\r\n                                Promise.all(data.record.map((datum) => this.props.dataStore.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, datum.uid)))\r\n                                    .then(() => {\r\n                                    this.del();\r\n                                });\r\n                            }\r\n                        },\r\n                        settings: {\r\n                            conflictingItems: data,\r\n                            message: 'Deleting Entity'\r\n                        }\r\n                    };\r\n                    this.props.modalStore.addModal(conflictResolutionModal);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    createNewRecord() {\r\n        const entity = this.props.dataStore.dataStore.tabs.entity[this.props.id].value.entity;\r\n        const entityType = this.props.dataStore.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        if (entityType === undefined) {\r\n            throw new Error('Encountered undefined entity type!');\r\n        }\r\n        const modalDef = {\r\n            name: 'record',\r\n            complete: (data) => {\r\n                console.log('Records editor called complete');\r\n                //this.loadData(this.props);\r\n            },\r\n            cancel: () => {\r\n                console.log('Records editor called cancel');\r\n            },\r\n            settings: {\r\n                options: predicates.map((pred) => ({ key: pred.label, value: pred })),\r\n                entityUid: this.props.id,\r\n                entityType: entityType.uid\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(modalDef);\r\n    }\r\n    update(data) {\r\n        this.props.dataStore.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    clone() {\r\n        const entity = this.props.dataStore.dataStore.tabs.entity[this.props.id].value.entity;\r\n        this.props.dataStore.postItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, falcon_core_1.Serializer.fromJson(falcon_core_1.Entity, {\r\n            label: 'Copy of ' + entity.label,\r\n            entityType: entity.entityType\r\n        }), { clone: this.props.id }).then(([id]) => this.props.dataStore.createTab('entity', id, 'item'));\r\n    }\r\n    render() {\r\n        const entity = this.props.dataStore.dataStore.tabs.entity[this.props.id].value.entity;\r\n        const potentialParents = this.props.dataStore.dataStore.all.entity.value;\r\n        let parentName = '';\r\n        if (potentialParents !== null && entity.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entity.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header entity' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-cube item-icon' }),\r\n                        React.createElement(HeaderEditableFieldComponent, { value: entity.label, onChange: (value) => this.update({ 'label': value }) })),\r\n                    React.createElement(\"div\", { className: 'sub-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this) }),\r\n                        React.createElement(\"i\", { className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: this.clone.bind(this) }))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'entity ' + (this.state.tab === 0 ? 'selected' : ''), onClick: () => this.setState({ tab: 0 }) }, \"CORE\"),\r\n                        React.createElement(\"div\", { className: 'entity ' + (this.state.tab === 1 ? 'selected' : ''), onClick: () => this.setState({ tab: 1 }) }, \"REFERENCED BY\")))),\r\n            this.state.tab === 0 ? (React.createElement(EntityWorkspaceCoreView_1.EntityWorkspaceCoreView, { dataStore: this.props.dataStore, id: this.props.id })) : (React.createElement(EntityWorkspaceReferenceView_1.EntityWorkspaceReferenceView, { dataStore: this.props.dataStore, id: this.props.id }))));\r\n    }\r\n};\r\nEntityEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired,\r\n    manager: React.PropTypes.object.isRequired\r\n};\r\nEntityEditorWorkspace = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [Object, Object])\r\n], EntityEditorWorkspace);\r\nexports.EntityEditorWorkspace = EntityEditorWorkspace;\r\n//# sourceMappingURL=EntityEditorWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/EntityEditorWorkspace.js\n// module id = 62\n// module chunks = 0","/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst SameAsEditor_1 = require(\"../fields/SameAsEditor\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst EditableHeader_1 = require(\"../fields/EditableHeader\");\r\nconst EditableFieldComponent_1 = require(\"../fields/EditableFieldComponent\");\r\nconst EditableParagraph_1 = require(\"../fields/EditableParagraph\");\r\nconst EditableComboDropdown_1 = require(\"../fields/EditableComboDropdown\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst HeaderEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableHeader_1.EditableHeader);\r\nconst ParagraphEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableParagraph_1.EditableParagraph);\r\nconst SameAsEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(SameAsEditor_1.SameAsEditor);\r\nconst ComboEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableComboDropdown_1.EditableComboDropdown);\r\nlet EntityTypeWorkspace = class EntityTypeWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {};\r\n    }\r\n    update(data) {\r\n        const entityType = this.props.dataStore.dataStore.tabs.entity_type[this.props.id].value;\r\n        this.props.dataStore.patchItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.id, data)\r\n            .then(() => this.setState({ entityType: Object.assign({}, entityType, data) }));\r\n    }\r\n    copy() {\r\n        const entityType = this.props.dataStore.dataStore.tabs.entity_type[this.props.id].value;\r\n        const newEntityType = falcon_core_1.Serializer.fromJson(falcon_core_1.EntityType, Object.assign({}, falcon_core_1.Serializer.toJson(entityType), { label: 'Copy of ' + entityType.label }));\r\n        this.props.dataStore.postItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, newEntityType, {})\r\n            .then(([id]) => {\r\n            this.props.dataStore.createTab('entity_type', id, 'item');\r\n        });\r\n    }\r\n    del() {\r\n        this.props.dataStore.delItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            if (e.code === 404) {\r\n                this.context.router.transitionTo('/edit/notfound');\r\n            }\r\n            if (e.code === 422) {\r\n                e.data.then((data) => {\r\n                    const conflictResolutionModal = {\r\n                        name: 'conflict_resolution',\r\n                        cancel: () => { },\r\n                        complete: (result) => {\r\n                            if (result === 'addToWorkspace') {\r\n                                data.entityType.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('entity_type', datum.uid, 'item');\r\n                                });\r\n                                data.predicate.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('predicate', datum.uid, 'item');\r\n                                });\r\n                                data.entity.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('entity', datum.uid, 'item');\r\n                                });\r\n                            }\r\n                        },\r\n                        settings: {\r\n                            conflictingItems: data,\r\n                            message: 'Deleting Entity Type'\r\n                        }\r\n                    };\r\n                    this.props.modalStore.addModal(conflictResolutionModal);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    createEntity() {\r\n        const a = {\r\n            name: 'entity',\r\n            complete: ([id]) => {\r\n                this.props.dataStore.createTab('entity', id, 'item');\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: '',\r\n                initialType: this.props.id\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    render() {\r\n        const entityType = this.props.dataStore.dataStore.tabs.entity_type[this.props.id].value;\r\n        const potentialParents = this.props.dataStore.dataStore.all.entity_type.value;\r\n        let parentName = '';\r\n        if (potentialParents !== null && entityType.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entityType.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        const potentialParentOptions = potentialParents.map((par) => ({ key: par.label, value: par.uid }));\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header entity_type' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"div\", { className: 'bread-crumbs' }, entityType.parents.map((parent, i) => {\r\n                            const parentEntityType = this.props.dataStore.dataStore.all.entity_type.value.find((e) => e.uid === parent);\r\n                            return (React.createElement(\"span\", { key: `breadcrumb-${parent}` },\r\n                                React.createElement(\"span\", null,\r\n                                    \"  \",\r\n                                    parentEntityType.label,\r\n                                    \" \",\r\n                                    React.createElement(AddTabButton_1.AddTabButton, { tabType: 'entity_type', uid: parent }),\r\n                                    \" \"),\r\n                                React.createElement(\"i\", { className: 'fa fa-angle-right' })));\r\n                        })),\r\n                        React.createElement(\"i\", { className: 'fa fa-tag item-icon' }),\r\n                        React.createElement(HeaderEditableFieldComponent, { value: entityType.label, onChange: (value) => this.update({ 'label': value }) })),\r\n                    React.createElement(\"div\", { className: 'sub-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-plus add button', \"aria-hidden\": 'true', onClick: this.createEntity.bind(this) }),\r\n                        React.createElement(\"i\", { className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this) }),\r\n                        React.createElement(\"i\", { className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: this.copy.bind(this) }))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'entity_type selected' }, \"CORE\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Parent\"),\r\n                    React.createElement(ComboEditableFieldComponent, { value: entityType.parent === null ? { key: '', value: null } : { key: parentName, value: entityType.parent }, onChange: (value) => this.update({ 'parent': value === null ? null : value.value }), comboSettings: {\r\n                            options: potentialParentOptions,\r\n                            typeName: 'EntityType'\r\n                        } }),\r\n                    entityType.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, { tabType: 'entity_type', uid: entityType.parent })) : null),\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Description\"),\r\n                    React.createElement(ParagraphEditableFieldComponent, { value: entityType.description, onChange: (value) => this.update({ 'description': value }) })),\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(SameAsEditableFieldComponent, { value: entityType.sameAs, onChange: (value) => this.update({ 'sameAs': value }) })),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"h4\", null, \"Direct Children\"),\r\n                    React.createElement(\"ul\", null, entityType.children\r\n                        .map((child) => this.props.dataStore.dataStore.all.entity_type.value.find((et) => et.uid === child))\r\n                        .map((childEt) => {\r\n                        if (childEt === undefined) {\r\n                            return null;\r\n                        }\r\n                        //TODO: REMOVE !\r\n                        return (React.createElement(\"li\", { key: `dc-${childEt.label}` },\r\n                            childEt.label,\r\n                            \" \",\r\n                            React.createElement(AddTabButton_1.AddTabButton, { tabType: 'entity_type', uid: childEt.uid })));\r\n                    }))))));\r\n    }\r\n};\r\nEntityTypeWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nEntityTypeWorkspace = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], EntityTypeWorkspace);\r\nexports.EntityTypeWorkspace = EntityTypeWorkspace;\r\n//# sourceMappingURL=EntityTypeWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/EntityTypeWorkspace.js\n// module id = 63\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst EntityList_1 = require(\"../object_list/EntityList\");\r\nconst PredicateList_1 = require(\"../object_list/PredicateList\");\r\nconst SourceList_1 = require(\"../object_list/SourceList\");\r\nconst EntityTypeList_1 = require(\"../object_list/EntityTypeList\");\r\nexports.ObjectListWorkspace = (props) => (React.createElement(\"div\", { className: 'workspace-editor object-list' }, (() => {\r\n    switch (props.listType) {\r\n        case 'entity':\r\n            return (React.createElement(EntityList_1.EntityList, { query: props.query }));\r\n        case 'source':\r\n            return (React.createElement(SourceList_1.SourceList, null));\r\n        case 'predicate':\r\n            return (React.createElement(PredicateList_1.PredicateList, null));\r\n        case 'entity_type':\r\n            return (React.createElement(EntityTypeList_1.EntityTypeList, null));\r\n    }\r\n})()));\r\n//# sourceMappingURL=ObjectListWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/ObjectListWorkspace.js\n// module id = 64\n// module chunks = 0","/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst react_router_1 = require(\"react-router\");\r\nconst SameAsEditor_1 = require(\"../fields/SameAsEditor\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst EditableHeader_1 = require(\"../fields/EditableHeader\");\r\nconst EditableFieldComponent_1 = require(\"../fields/EditableFieldComponent\");\r\nconst EditableParagraph_1 = require(\"../fields/EditableParagraph\");\r\nconst PredicateDescription_1 = require(\"../fields/PredicateDescription\");\r\nconst literalTypes_1 = require(\"../../literalTypes\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst HeaderEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableHeader_1.EditableHeader);\r\nconst ParagraphEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableParagraph_1.EditableParagraph);\r\nconst SameAsEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(SameAsEditor_1.SameAsEditor);\r\n// - Should state the number of times this predicate is used\r\n// - Widening the domain or range always okay\r\n// - Narrowing should check for conflicts and return them\r\n// - Asks 'Delete conflicting records?'\r\n// - Strong check (double button press or type) to confirm\r\n// - Changing name/description/sameAs - absolutly fine\r\n// - Cannot change 'readonly'\r\nlet PredicateEditorWorkspace = class PredicateEditorWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            records: []\r\n        };\r\n    }\r\n    updatePredicate(field, value, rangeIsReferenceOverride = null) {\r\n        const predicate = this.props.dataStore.dataStore.tabs.predicate[this.props.id].value;\r\n        if (predicate === null) {\r\n            console.warn('Tried to edit unready predicate');\r\n            return;\r\n        }\r\n        const rangeIsReferenceVal = rangeIsReferenceOverride === null\r\n            ? predicate.rangeIsReference : rangeIsReferenceOverride;\r\n        this.props.dataStore.patchItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, predicate.uid, {\r\n            [field]: value,\r\n            rangeIsReference: rangeIsReferenceVal\r\n        });\r\n    }\r\n    copy() {\r\n        const predicate = this.props.dataStore.dataStore.tabs.predicate[this.props.id].value;\r\n        const newPredicate = falcon_core_1.Serializer.fromJson(falcon_core_1.Predicate, Object.assign({}, falcon_core_1.Serializer.toJson(predicate), { label: 'Copy of ' + predicate.label }));\r\n        this.props.dataStore.postItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, newPredicate, {})\r\n            .then(([id]) => {\r\n            this.props.dataStore.createTab('predicate', id, 'item');\r\n        });\r\n    }\r\n    del() {\r\n        this.props.dataStore.delItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            if (e.code === 404) {\r\n                this.context.router.transitionTo('/edit/notfound');\r\n            }\r\n            if (e.code === 422) {\r\n                e.data.then((data) => {\r\n                    const conflictResolutionModal = {\r\n                        name: 'conflict_resolution',\r\n                        cancel: () => { },\r\n                        complete: (result) => {\r\n                            if (result === 'addToWorkspace') {\r\n                                data.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('entity', datum.entity, 'item');\r\n                                });\r\n                            }\r\n                            if (result === 'deleteAll') {\r\n                                Promise.all(data.record.map((datum) => this.props.dataStore.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, datum.uid)))\r\n                                    .then(() => {\r\n                                    this.del();\r\n                                });\r\n                            }\r\n                        },\r\n                        settings: {\r\n                            conflictingItems: data,\r\n                            message: 'Deleting Predicate'\r\n                        }\r\n                    };\r\n                    this.props.modalStore.addModal(conflictResolutionModal);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const predicate = this.props.dataStore.dataStore.tabs.predicate[this.props.id].value;\r\n        const entityTypes = this.props.dataStore.dataStore.all.entity_type.value;\r\n        const currentDomainEntityType = entityTypes.find((t) => t.uid == predicate.domain);\r\n        let currentDomainEntityTypeName = '';\r\n        if (currentDomainEntityType !== undefined) {\r\n            currentDomainEntityTypeName = currentDomainEntityType.label;\r\n        }\r\n        const domain = { key: currentDomainEntityTypeName, value: predicate.domain };\r\n        const range = { key: '', value: {\r\n                isReference: predicate.rangeIsReference,\r\n                value: predicate.range\r\n            } };\r\n        if (predicate.rangeIsReference) {\r\n            const currentRangeEntityType = entityTypes.find((t) => t.uid === predicate.range);\r\n            if (currentRangeEntityType !== undefined) {\r\n                range.key = currentRangeEntityType.label;\r\n            }\r\n        }\r\n        else {\r\n            const literalType = literalTypes_1.literalTypes.find((t) => t.value === predicate.range);\r\n            if (literalType !== undefined) {\r\n                range.key = literalType.label;\r\n            }\r\n        }\r\n        const entityTypeOptions = entityTypes.map((t) => {\r\n            if (t.uid === null) {\r\n                throw new Error('Encountered entity type with no id!');\r\n            }\r\n            return { key: t.label, value: t.uid };\r\n        });\r\n        const literalTypeOptions = literalTypes_1.literalTypes.map((t) => ({ key: t.label, value: { value: t.label, isReference: false } }));\r\n        const entityTypeMap2 = entityTypeOptions.map((e) => ({ key: e.key, value: { isReference: true, value: e.value.toString() } }));\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header predicate' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-long-arrow-right item-icon' }),\r\n                        React.createElement(HeaderEditableFieldComponent, { value: predicate.label, onChange: (value) => this.updatePredicate('label', value) })),\r\n                    React.createElement(\"div\", { className: 'sub-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this) }),\r\n                        React.createElement(\"i\", { className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: this.copy.bind(this) }))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'predicate selected' }, \"CORE\"),\r\n                        React.createElement(\"div\", { style: { display: 'none' }, className: 'predicate' }, \"SAME AS\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(react_router_1.Link, { to: `/edit/entity?col1p=${this.props.id}&col1f=exists` },\r\n                        \"Uses: \",\r\n                        predicate.uses)),\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Description\"),\r\n                    React.createElement(ParagraphEditableFieldComponent, { value: predicate.description, onChange: (value) => this.updatePredicate('description', value) })),\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Typing\"),\r\n                    React.createElement(PredicateDescription_1.PredicateDescription, { domain: domain, range: range, domainChanged: (value) => this.updatePredicate('domain', value.value), rangeChanged: (value) => this.updatePredicate('range', value.value.value, value.value.isReference), mode: 'editSingle', domainOptions: entityTypeOptions, rangeOptions: literalTypeOptions.concat(entityTypeMap2) })),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(SameAsEditableFieldComponent, { value: predicate.sameAs, onChange: (value) => this.updatePredicate('sameAs', value) })))));\r\n    }\r\n};\r\nPredicateEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nPredicateEditorWorkspace = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], PredicateEditorWorkspace);\r\nexports.PredicateEditorWorkspace = PredicateEditorWorkspace;\r\n//# sourceMappingURL=PredicateEditorWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/PredicateEditorWorkspace.js\n// module id = 65\n// module chunks = 0","/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst SameAsEditor_1 = require(\"../fields/SameAsEditor\");\r\nconst ApiService_1 = require(\"../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst EditableHeader_1 = require(\"../fields/EditableHeader\");\r\nconst EditableFieldComponent_1 = require(\"../fields/EditableFieldComponent\");\r\nconst EditableParagraph_1 = require(\"../fields/EditableParagraph\");\r\nconst EditableComboDropdown_1 = require(\"../fields/EditableComboDropdown\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst AddTabButton_1 = require(\"../AddTabButton\");\r\nconst HeaderEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableHeader_1.EditableHeader);\r\nconst ParagraphEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableParagraph_1.EditableParagraph);\r\nconst SameAsEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(SameAsEditor_1.SameAsEditor);\r\nconst ComboEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableComboDropdown_1.EditableComboDropdown);\r\n// - Should state the number of times this predicate is used\r\n// - Widening the domain or range always okay\r\n// - Narrowing should check for conflicts and return them\r\n// - Asks 'Delete conflicting records?'\r\n// - Strong check (double button press or type) to confirm\r\n// - Changing name/description/sameAs - absolutly fine\r\n// - Cannot change 'readonly'\r\nlet SourceEditorWorkspace = class SourceEditorWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            metaData: {}\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadData(this.props);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.loadData(newProps);\r\n    }\r\n    loadData(props) {\r\n        const source = props.dataStore.dataStore.tabs.source[this.props.id].value.source;\r\n        this.setState({\r\n            metaData: lodash_1.keyBy(source.metaData, 'name')\r\n        });\r\n    }\r\n    updateSource(field, value) {\r\n        const source = this.props.dataStore.dataStore.tabs.source[this.props.id].value.source;\r\n        if (source.uid === null) {\r\n            throw new Error('source uid should not be null');\r\n        }\r\n        this.props.dataStore.patchItem(falcon_core_1.Source, ApiService_1.AppUrls.source, source.uid, { [field]: value });\r\n    }\r\n    updateSourceElement(element, value) {\r\n        const source = this.props.dataStore.dataStore.tabs.source[this.props.id].value.source;\r\n        if (element.uid === null) {\r\n            throw new Error('source element uid should not be null');\r\n        }\r\n        const compositeKey = {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.props.id,\r\n                element: element.uid\r\n            }\r\n        };\r\n        if (source.metaData[element.label] !== undefined\r\n            && source.metaData[element.label].values.find((a) => a.source === this.props.id) !== undefined) {\r\n            this.props.dataStore.patchItem(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, compositeKey, falcon_core_1.Serializer.fromJson(falcon_core_1.SourceElement, {\r\n                uid: compositeKey,\r\n                element: source.metaData[element.label].element_uid,\r\n                source: this.props.id,\r\n                value\r\n            }));\r\n        }\r\n        else {\r\n            this.props.dataStore.postItem(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, falcon_core_1.Serializer.fromJson(falcon_core_1.SourceElement, {\r\n                uid: compositeKey,\r\n                value: value\r\n            }), {});\r\n        }\r\n    }\r\n    del() {\r\n        this.props.dataStore.delItem(falcon_core_1.Source, ApiService_1.AppUrls.source, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            if (e.code === 404) {\r\n                this.context.router.transitionTo('/edit/notfound');\r\n            }\r\n            if (e.code === 422) {\r\n                e.data.then((data) => {\r\n                    const conflictResolutionModal = {\r\n                        name: 'conflict_resolution',\r\n                        cancel: () => { },\r\n                        complete: (result) => {\r\n                            if (result === 'addToWorkspace') {\r\n                                data.source.forEach((datum) => {\r\n                                    this.props.dataStore.createTab('source', datum.uid, 'item');\r\n                                });\r\n                            }\r\n                            if (result === 'deleteAll') {\r\n                                Promise.all(data.source.map((datum) => this.props.dataStore.delItem(falcon_core_1.Source, ApiService_1.AppUrls.source, datum.uid)))\r\n                                    .then(() => {\r\n                                    this.del();\r\n                                });\r\n                            }\r\n                        },\r\n                        settings: {\r\n                            conflictingItems: data,\r\n                            message: 'Deleting Source'\r\n                        }\r\n                    };\r\n                    this.props.modalStore.addModal(conflictResolutionModal);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    createChild() {\r\n        const source = this.props.dataStore.dataStore.tabs.source[this.props.id].value.source;\r\n        const newSource = falcon_core_1.Serializer.fromJson(falcon_core_1.Source, lodash_1.omit(Object.assign({}, falcon_core_1.Serializer.toJson(source), { label: 'Child of ' + source.label, parent: this.props.id }), 'metaData', 'children', 'parents'));\r\n        this.props.dataStore.postItem(falcon_core_1.Source, ApiService_1.AppUrls.source, newSource, {})\r\n            .then(([id]) => {\r\n            this.props.dataStore.createTab('source', id, 'item');\r\n        });\r\n    }\r\n    // create entity with 'mentioned in' already set to this source\r\n    createEntity() {\r\n        const a = {\r\n            name: 'preset_record',\r\n            complete: ([id]) => {\r\n                this.props.dataStore.createTab('entity', id, 'item');\r\n            },\r\n            cancel: () => { },\r\n            settings: {\r\n                source: this.props.dataStore.dataStore.tabs.source[this.props.id].value.source\r\n            }\r\n        };\r\n        this.props.modalStore.addModal(a);\r\n    }\r\n    render() {\r\n        const source = this.props.dataStore.dataStore.tabs.source[this.props.id].value.source;\r\n        const potentialParents = this.props.dataStore.dataStore.all.source.value;\r\n        let parentName = '';\r\n        if (potentialParents !== null && source.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === source.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", { className: 'workspace-editor' },\r\n            React.createElement(\"header\", { className: 'editor-header source' },\r\n                React.createElement(\"div\", { className: 'primary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'main-toolbar' },\r\n                        React.createElement(\"div\", { className: 'bread-crumbs' }, source.parents\r\n                            .slice()\r\n                            .reverse()\r\n                            .map((child) => this.props.dataStore.dataStore.all.source.value.find((et) => et.uid === child))\r\n                            .map((parent, i) => {\r\n                            if (parent === undefined) {\r\n                                throw new Error('Encountered undefined parent');\r\n                            }\r\n                            if (parent.uid === null) {\r\n                                throw new Error('Encountered parent with null uid');\r\n                            }\r\n                            return (React.createElement(\"span\", { key: `breadcrumb-${parent.uid}` },\r\n                                React.createElement(\"span\", null,\r\n                                    \"  \",\r\n                                    parent.label,\r\n                                    \" \",\r\n                                    React.createElement(AddTabButton_1.AddTabButton, { tabType: 'source', uid: parent.uid }),\r\n                                    \" \"),\r\n                                React.createElement(\"i\", { className: 'fa fa-angle-right' })));\r\n                        })),\r\n                        React.createElement(\"i\", { className: 'fa fa-sun-o item-icon' }),\r\n                        React.createElement(EditableHeader_1.EditableHeader, { value: source.label, onChange: (value) => this.updateSource('label', value) })),\r\n                    React.createElement(\"div\", { className: 'sub-toolbar' },\r\n                        React.createElement(\"i\", { className: 'fa fa-plus add button', \"aria-hidden\": 'true', onClick: this.createEntity.bind(this) }),\r\n                        React.createElement(\"i\", { className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: () => this.del() }),\r\n                        React.createElement(\"i\", { className: 'fa fa-arrow-circle-o-down button', \"aria-hidden\": 'true', onClick: this.createChild.bind(this) }))),\r\n                React.createElement(\"div\", { className: 'secondary-toolbar' },\r\n                    React.createElement(\"div\", { className: 'tab-bar' },\r\n                        React.createElement(\"div\", { className: 'source selected' }, \"DUBLIN CORE\"),\r\n                        React.createElement(\"div\", { className: 'source', style: { display: 'none' } }, \"DETAILS\"),\r\n                        React.createElement(\"div\", { className: 'source', style: { display: 'none' } }, \"MEDIA\")))),\r\n            React.createElement(\"section\", { className: 'editor-body' },\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Parent\"),\r\n                    React.createElement(ComboEditableFieldComponent, { value: { key: parentName, value: source.parent }, onChange: (value) => this.updateSource('parent', value === null ? null : value.value), comboSettings: {\r\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid })),\r\n                            typeName: 'Source'\r\n                        } }),\r\n                    source.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, { tabType: 'source', uid: source.parent })) : null),\r\n                React.createElement(\"div\", { className: 'edit-group' },\r\n                    React.createElement(SameAsEditableFieldComponent, { value: source.sameAs, onChange: (value) => this.updateSource('sameAs', value) })),\r\n                this.props.dataStore.dataStore.all.dublinCore.value.elements.map((element) => {\r\n                    const values = source.metaData.hasOwnProperty(element.label) ?\r\n                        source.metaData[element.label].values : [{ source: this.props.id, value: '' }];\r\n                    const editableValue = values[0].source == this.props.id ? values[0].value : '';\r\n                    return (React.createElement(\"div\", { key: `${element.label}-edit` },\r\n                        React.createElement(\"h5\", { className: 'section-header' },\r\n                            element.label,\r\n                            \" \",\r\n                            React.createElement(\"small\", null,\r\n                                React.createElement(\"a\", { href: element.uri }, element.uri))),\r\n                        React.createElement(\"p\", { className: 'element-description' }, element.description),\r\n                        React.createElement(\"ul\", null, values.map((value) => value.source != this.props.id ? (React.createElement(\"li\", { key: `${element.uid}-${value.source}` },\r\n                            this.props.dataStore.dataStore.all.source.value.find((s) => s.uid === value.source).label,\r\n                            \": \",\r\n                            value.value)) : null)),\r\n                        React.createElement(ParagraphEditableFieldComponent, { value: editableValue, onChange: (value) => this.updateSourceElement(element, value) })));\r\n                }),\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"h4\", null, \"Direct Children\"),\r\n                    React.createElement(\"ul\", null, source.children\r\n                        .map((child) => this.props.dataStore.dataStore.all.source.value.find((et) => et.uid === child))\r\n                        .map((childEt) => (React.createElement(\"li\", { key: `dc-${childEt.uid}` },\r\n                        childEt.label,\r\n                        \" \",\r\n                        React.createElement(AddTabButton_1.AddTabButton, { tabType: 'source', uid: childEt.uid })))))))));\r\n    }\r\n};\r\nSourceEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nSourceEditorWorkspace = __decorate([\r\n    mobx_react_1.inject('dataStore', 'modalStore'),\r\n    mobx_react_1.observer,\r\n    __metadata(\"design:paramtypes\", [])\r\n], SourceEditorWorkspace);\r\nexports.SourceEditorWorkspace = SourceEditorWorkspace;\r\n//# sourceMappingURL=SourceEditorWorkspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/SourceEditorWorkspace.js\n// module id = 66\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst RecordsEditor_1 = require(\"../../entity_editor/RecordsEditor\");\r\nconst ApiService_1 = require(\"../../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst AddTabButton_1 = require(\"../../AddTabButton\");\r\nconst findParentTree_1 = require(\"../../../helper/findParentTree\");\r\nconst EditableFieldComponent_1 = require(\"../../fields/EditableFieldComponent\");\r\nconst EditableComboDropdown_1 = require(\"../../fields/EditableComboDropdown\");\r\nconst ComboEditableFieldComponent = EditableFieldComponent_1.EditableFieldHOC(EditableComboDropdown_1.EditableComboDropdown);\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nclass EntityWorkspaceCoreView extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: 'test', value: null },\r\n            comboSearchValue: ''\r\n        };\r\n    }\r\n    update(data) {\r\n        this.props.dataStore.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    render() {\r\n        const entity = this.props.dataStore.dataStore.tabs.entity[this.props.id].value.entity;\r\n        const entityType = this.props.dataStore.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        if (entityType === undefined || entityType.uid === null) {\r\n            throw new Error('Encountered undefined entity type or entity type with null id');\r\n        }\r\n        const potentialParents = this.props.dataStore.dataStore.all.entity.value;\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const sources = this.props.dataStore.dataStore.all.source.value;\r\n        const records = lodash_1.groupBy(this.props.dataStore.dataStore.tabs.entity[this.props.id].value.records, 'predicate');\r\n        const options = predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred }));\r\n        let parentName = '';\r\n        if (potentialParents !== null && entity.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entity.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"section\", { className: 'editor-body' },\r\n            React.createElement(\"div\", { className: 'flex-fill' },\r\n                React.createElement(\"div\", { className: 'flex-fill' },\r\n                    React.createElement(\"div\", null,\r\n                        React.createElement(\"label\", { className: 'small' }, \"Type\"),\r\n                        entityType.label,\r\n                        \" \",\r\n                        React.createElement(AddTabButton_1.AddTabButton, { uid: entityType.uid, tabType: 'entity_type' }))),\r\n                React.createElement(\"div\", { style: { flex: 1 } },\r\n                    React.createElement(\"label\", { className: 'small' }, \"Parent\"),\r\n                    React.createElement(ComboEditableFieldComponent, { value: { key: parentName, value: entity.parent }, onChange: (value) => this.update({ 'parent': value === null ? null : value.value }), comboSettings: {\r\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid })),\r\n                            typeName: 'Entity'\r\n                        } }),\r\n                    entity.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, { tabType: 'entity', uid: entity.parent })) : null)),\r\n            React.createElement(\"div\", { className: 'edit-group' },\r\n                React.createElement(RecordsEditor_1.RecordsEditor, { dimension: 'predicates', entityExists: true, id: this.props.id, records: records, onChange: () => { }, predicates: predicates, sources: sources, entityTypeId: entityType.uid }))));\r\n    }\r\n}\r\nEntityWorkspaceCoreView.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityWorkspaceCoreView = EntityWorkspaceCoreView;\r\n//# sourceMappingURL=EntityWorkspaceCoreView.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/entity/EntityWorkspaceCoreView.js\n// module id = 67\n// module chunks = 0","/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst ApiService_1 = require(\"../../../ApiService\");\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst AddTabButton_1 = require(\"../../AddTabButton\");\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nclass EntityWorkspaceReferenceView extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: 'test', value: '' },\r\n            comboSearchValue: ''\r\n        };\r\n    }\r\n    update(data) {\r\n        this.props.dataStore.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", { className: 'editor-body' },\r\n            React.createElement(\"h2\", null, \"References\"),\r\n            React.createElement(\"table\", { className: 'table' },\r\n                React.createElement(\"thead\", null,\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"th\", null, \"Entity\"),\r\n                        React.createElement(\"th\", null, \"Property\"))),\r\n                React.createElement(\"tbody\", null, this.props.dataStore.dataStore.tabs.entity[this.props.id].value.referenceRecords.map((record) => {\r\n                    return (React.createElement(\"tr\", { key: `record-${record.uid}` },\r\n                        React.createElement(\"td\", null,\r\n                            this.props.dataStore.dataStore.all.entity.value.find((entity) => entity.uid === record.entity).label,\r\n                            \" \",\r\n                            React.createElement(AddTabButton_1.AddTabButton, { tabType: 'entity', uid: record.entity })),\r\n                        React.createElement(\"td\", null,\r\n                            this.props.dataStore.dataStore.all.predicate.value.find((predicate) => predicate.uid === record.predicate).label,\r\n                            \" \",\r\n                            React.createElement(AddTabButton_1.AddTabButton, { tabType: 'predicate', uid: record.predicate }))));\r\n                })))));\r\n    }\r\n}\r\nEntityWorkspaceReferenceView.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityWorkspaceReferenceView = EntityWorkspaceReferenceView;\r\n//# sourceMappingURL=EntityWorkspaceReferenceView.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/entity/EntityWorkspaceReferenceView.js\n// module id = 68\n// module chunks = 0","/**\r\n * @fileOverview Unified export of workspaces\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\" />Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar EmptyWorkspace_1 = require(\"./EmptyWorkspace\");\r\nexports.EmptyWorkspace = EmptyWorkspace_1.EmptyWorkspace;\r\nvar EntityEditorWorkspace_1 = require(\"./EntityEditorWorkspace\");\r\nexports.EntityEditorWorkspace = EntityEditorWorkspace_1.EntityEditorWorkspace;\r\nvar EntityTypeWorkspace_1 = require(\"./EntityTypeWorkspace\");\r\nexports.EntityTypeWorkspace = EntityTypeWorkspace_1.EntityTypeWorkspace;\r\nvar SourceEditorWorkspace_1 = require(\"./SourceEditorWorkspace\");\r\nexports.SourceEditorWorkspace = SourceEditorWorkspace_1.SourceEditorWorkspace;\r\nvar PredicateEditorWorkspace_1 = require(\"./PredicateEditorWorkspace\");\r\nexports.PredicateEditorWorkspace = PredicateEditorWorkspace_1.PredicateEditorWorkspace;\r\nvar AdvancedSearchWorkspace_1 = require(\"./AdvancedSearchWorkspace\");\r\nexports.AdvancedSearchWorkspace = AdvancedSearchWorkspace_1.AdvancedSearchWorkspace;\r\nvar ObjectListWorkspace_1 = require(\"./ObjectListWorkspace\");\r\nexports.ObjectListWorkspace = ObjectListWorkspace_1.ObjectListWorkspace;\r\n//# sourceMappingURL=workspace.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/components/workspace/workspace.js\n// module id = 69\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nconst ApiService_1 = require(\"../ApiService\");\r\nconst DataStore_1 = require(\"./DataStore\");\r\nconst react_sortable_hoc_1 = require(\"react-sortable-hoc\");\r\nconst mobx_1 = require(\"mobx\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst moment = require(\"moment\");\r\nclass DataController {\r\n    constructor(api) {\r\n        this.api = api;\r\n        this.dataStore = lodash_1.cloneDeep(DataStore_1.emptyDataStore);\r\n        this.tabs = [];\r\n        if (typeof window !== 'undefined') {\r\n            const tabString = window.localStorage.getItem('open_tabs');\r\n            if (tabString !== null) {\r\n                this.tabs = JSON.parse(tabString);\r\n            }\r\n        }\r\n    }\r\n    // checks that the page exists and adds it to tabs if necessery\r\n    enterPage(workspace, uid, other) {\r\n        if (!lodash_1.isNaN(uid)) {\r\n            if (lodash_1.find(this.tabs, (tab) => tab.tabType === workspace && tab.uid == uid) === undefined) {\r\n                this.tabs = this.tabs.concat([{ tabType: workspace, uid: uid, tabClass: 'item' }]);\r\n                return false;\r\n            }\r\n        }\r\n        if (other !== null) {\r\n            this.entitySearchColumns = [other['col1p'], other['col2p'], other['col3p']].filter((a) => a !== undefined);\r\n        }\r\n        else {\r\n            this.entitySearchColumns = [];\r\n        }\r\n        return true;\r\n    }\r\n    loadTabData(tab) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (tab.tabClass !== 'item') {\r\n                return new falcon_core_1.Entity();\r\n            }\r\n            switch (tab.tabType) {\r\n                case 'entity':\r\n                    return Promise.all([\r\n                        this.api.getItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, tab.uid),\r\n                        this.api.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, { entity: tab.uid }),\r\n                        this.api.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, { value_type: 'entity', value_entity: tab.uid })\r\n                    ]).then(([entity, records, referenceRecords]) => ({ entity, records, referenceRecords }));\r\n                case 'predicate':\r\n                    return this.api.getItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, tab.uid);\r\n                case 'entity_type':\r\n                    return this.api.getItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, tab.uid);\r\n                case 'source':\r\n                    return Promise.all([\r\n                        this.api.getItem(falcon_core_1.Source, ApiService_1.AppUrls.source, tab.uid),\r\n                        this.api.getCollection(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, { source: tab.uid })\r\n                    ]).then(([source, source_element]) => ({ source, source_element }));\r\n                default:\r\n                    throw new Error('Unexpected tab type requested');\r\n            }\r\n        });\r\n    }\r\n    /*\r\n    * Loads required data from the server\r\n    * @return Promise returning a boolean indicating whether the operation was succesful\r\n    */\r\n    update() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // LOAD TABS\r\n            const groupedTabs = lodash_1.groupBy(this.tabs, 'tabType');\r\n            if (lodash_1.find(this.tabs, (tab) => tab.tabType === 'source' && tab.uid === this.defaultSource) === undefined) {\r\n                this.defaultSource = null;\r\n            }\r\n            const tabPromise = Promise.all(Object.keys(groupedTabs).map((tabType) => Promise.all(groupedTabs[tabType].map((tab) => this.loadTabData(tab)\r\n                .then((value) => {\r\n                return { [parseInt(tab.uid)]: { value, lastUpdate: moment() } };\r\n            })\r\n                .catch((err) => {\r\n                this.tabs = this.tabs.filter((tab2) => tab2 !== tab);\r\n                this.saveTabs();\r\n                // propogate the error\r\n                throw err;\r\n            })))\r\n                .then((tabData) => {\r\n                return { [tabType]: Object.assign({}, ...tabData) };\r\n            })));\r\n            // load lists of data commonly required by views\r\n            const allPromise = Promise.all([\r\n                this.api.getCollection(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, {}),\r\n                this.api.getCollection(falcon_core_1.Source, ApiService_1.AppUrls.source, {}),\r\n                this.api.getCollection(falcon_core_1.Entity, ApiService_1.AppUrls.entity, {}),\r\n                this.api.getCollection(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, {}),\r\n                this.api.getItem(falcon_core_1.ElementSet, ApiService_1.AppUrls.element_set, 1)\r\n            ])\r\n                .then(([predicates, sources, entities, entityType, dublinCore]) => {\r\n                return {\r\n                    predicate: { value: predicates, lastUpdate: moment() },\r\n                    source: { value: sources, lastUpdate: moment() },\r\n                    entity: { value: entities, lastUpdate: moment() },\r\n                    entity_type: { value: entityType, lastUpdate: moment() },\r\n                    dublinCore: { value: dublinCore, lastUpdate: moment() }\r\n                };\r\n            });\r\n            return Promise.all([tabPromise, allPromise])\r\n                .then(mobx_1.action(([tabsArray, all]) => __awaiter(this, void 0, void 0, function* () {\r\n                const tabs = Object.assign({}, ...tabsArray);\r\n                this.dataStore.tabs = tabs;\r\n                this.dataStore.all = all;\r\n                if (this.entitySearchColumns.length > 0) {\r\n                    this.dataStore.records = yield this.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, {\r\n                        predicate: this.entitySearchColumns,\r\n                        entity: this.dataStore.all.entity.value.map((entity) => entity.uid)\r\n                    });\r\n                }\r\n                return true;\r\n            })));\r\n        });\r\n    }\r\n    /*\r\n    *\r\n    *    API\r\n    *\r\n    */\r\n    getItem(obj, baseUrl, uid) {\r\n        return this.api.getItem.apply(this.api, arguments);\r\n    }\r\n    getCollection(obj, baseUrl, params) {\r\n        return this.api.getCollection.apply(this.api, arguments);\r\n    }\r\n    postItem(obj, baseUrl, data, params) {\r\n        return this.api.postItem.apply(this.api, arguments).then((result) => this.update().then(() => result));\r\n    }\r\n    putItem(obj, baseUrl, uid, data) {\r\n        return this.api.putItem.apply(this.api, arguments).then((result) => this.update().then(() => result));\r\n    }\r\n    //TODO: patch item takes a subset of an objects properties. This is currently being looked at in TS in the\r\n    //context of the 'setState' function in react\r\n    patchItem(obj, baseUrl, uid, data) {\r\n        return this.api.patchItem.apply(this.api, arguments).then((result) => this.update().then(() => result));\r\n    }\r\n    delItem(obj, baseUrl, uid) {\r\n        return this.api.delItem.apply(this.api, arguments).then((result) => this.update().then(() => result));\r\n    }\r\n    query(graphQLQuery) {\r\n        return this.api.query.apply(this.api, arguments);\r\n    }\r\n    getStats() {\r\n        return this.api.getStats.apply(this.api, arguments);\r\n    }\r\n    /*\r\n    *\r\n    *    TABS\r\n    *\r\n    */\r\n    createTab(tabType, uid, tabClass, data, query) {\r\n        // don't add a tab if it already exists\r\n        if (lodash_1.find(this.tabs, (tab) => tab.tabType === tabType && tab.uid == uid) === undefined) {\r\n            this.tabs.unshift({ tabType, uid, data, tabClass, query });\r\n            this.saveTabs();\r\n            this.update();\r\n        }\r\n    }\r\n    updateTab(tabType, uid, data) {\r\n        const tabs = lodash_1.cloneDeep(this.tabs);\r\n        const tabId = lodash_1.findIndex(tabs, (tab) => tab.tabType === tabType && tab.uid === uid);\r\n        if (tabId !== -1) {\r\n            tabs[tabId].data = data;\r\n            this.tabs = tabs;\r\n        }\r\n    }\r\n    closeTab(tabType, uid) {\r\n        this.tabs = this.tabs.filter((a) => a.tabType !== tabType || a.uid !== uid);\r\n        this.saveTabs();\r\n        this.update();\r\n    }\r\n    saveTabs() {\r\n        const tabsString = JSON.stringify(this.tabs);\r\n        window.localStorage.setItem('open_tabs', tabsString);\r\n    }\r\n    clearAllTabs() {\r\n        this.tabs = [];\r\n        this.saveTabs();\r\n        this.update();\r\n    }\r\n    reorderTabs(data) {\r\n        this.tabs = react_sortable_hoc_1.arrayMove(this.tabs, data.oldIndex, data.newIndex);\r\n        this.saveTabs();\r\n    }\r\n}\r\n__decorate([\r\n    mobx_1.observable,\r\n    __metadata(\"design:type\", Object)\r\n], DataController.prototype, \"dataStore\", void 0);\r\n__decorate([\r\n    mobx_1.observable,\r\n    __metadata(\"design:type\", Array)\r\n], DataController.prototype, \"tabs\", void 0);\r\n__decorate([\r\n    mobx_1.observable,\r\n    __metadata(\"design:type\", Number)\r\n], DataController.prototype, \"defaultSource\", void 0);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String, Number, Object]),\r\n    __metadata(\"design:returntype\", Boolean)\r\n], DataController.prototype, \"enterPage\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", []),\r\n    __metadata(\"design:returntype\", Promise)\r\n], DataController.prototype, \"update\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String, Number, String, Object, Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"createTab\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String, Number, Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"updateTab\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String, Number]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"closeTab\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", []),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"saveTabs\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", []),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"clearAllTabs\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], DataController.prototype, \"reorderTabs\", null);\r\nexports.DataController = DataController;\r\n//# sourceMappingURL=DataController.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/stores/DataController.js\n// module id = 70\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = require(\"@digihum/falcon-core\");\r\nexports.emptyDataStore = {\r\n    all: {\r\n        entity: { value: [], lastUpdate: null },\r\n        entity_type: { value: [], lastUpdate: null },\r\n        predicate: { value: [], lastUpdate: null },\r\n        source: { value: [], lastUpdate: null },\r\n        dublinCore: { value: new falcon_core_1.ElementSet(), lastUpdate: null }\r\n    },\r\n    records: [],\r\n    tabs: {\r\n        entity: {},\r\n        entity_type: {},\r\n        predicate: {},\r\n        source: {}\r\n    },\r\n    lockedSource: null\r\n};\r\n//# sourceMappingURL=DataStore.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/stores/DataStore.js\n// module id = 71\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nconst React = require(\"react\");\r\nconst lodash_1 = require(\"lodash\");\r\nconst CreatePredicate_1 = require(\"../components/modal/CreatePredicate\");\r\nconst CreateRecord_1 = require(\"../components/modal/CreateRecord\");\r\nconst CreatePresetRecord_1 = require(\"../components/modal/CreatePresetRecord\");\r\nconst CreateSource_1 = require(\"../components/modal/CreateSource\");\r\nconst CreateEntity_1 = require(\"../components/modal/CreateEntity\");\r\nconst CreateEntityType_1 = require(\"../components/modal/CreateEntityType\");\r\nconst ConflictResolution_1 = require(\"../components/modal/ConflictResolution\");\r\nconst CreateTabSet_1 = require(\"../components/modal/CreateTabSet\");\r\nconst mobx_1 = require(\"mobx\");\r\nclass ModalStore {\r\n    constructor() {\r\n        this.modalQueue = [];\r\n    }\r\n    // might be @computed?\r\n    get currentModal() {\r\n        if (this.modalQueue.length === 0) {\r\n            return null;\r\n        }\r\n        const sharedProps = {\r\n            complete: this.modalComplete.bind(this),\r\n            cancel: this.modalCancel.bind(this)\r\n        };\r\n        switch (this.modalQueue[0].name) {\r\n            case 'predicate':\r\n                return (React.createElement(CreatePredicate_1.CreatePredicate, __assign({}, sharedProps, { initialName: this.modalQueue[0].settings['initialName'], initialDomain: this.modalQueue[0].settings['initialDomain'] })));\r\n            case 'record':\r\n                return (React.createElement(CreateRecord_1.CreateRecord, __assign({}, sharedProps, { entityType: this.modalQueue[0].settings['entityType'], entityUid: this.modalQueue[0].settings['entityUid'], options: this.modalQueue[0].settings['options'] })));\r\n            case 'preset_record':\r\n                return (React.createElement(CreatePresetRecord_1.CreatePresetRecord, __assign({}, sharedProps, { source: this.modalQueue[0].settings['source'] })));\r\n            case 'source':\r\n                return (React.createElement(CreateSource_1.CreateSource, __assign({}, sharedProps, { initialValue: this.modalQueue[0].settings['initialName'] })));\r\n            case 'entity':\r\n                return (React.createElement(CreateEntity_1.CreateEntity, __assign({}, sharedProps, this.modalQueue[0].settings)));\r\n            case 'entity_type':\r\n                return (React.createElement(CreateEntityType_1.CreateEntityType, __assign({}, sharedProps, this.modalQueue[0].settings)));\r\n            case 'conflict_resolution':\r\n                return (React.createElement(ConflictResolution_1.ConflictResolution, __assign({}, sharedProps, { conflictingItems: this.modalQueue[0].settings['conflictingItems'], message: this.modalQueue[0].settings['message'] })));\r\n            case 'createTabSet':\r\n                return (React.createElement(CreateTabSet_1.CreateTabSet, __assign({}, sharedProps)));\r\n        }\r\n        return null;\r\n    }\r\n    addModal(def) {\r\n        this.modalQueue.unshift(def);\r\n    }\r\n    modalComplete(data) {\r\n        if (this.modalQueue.length === 0) {\r\n            throw new Error('Attempted to complete non-existent modal');\r\n        }\r\n        this.modalQueue[0].complete(data);\r\n        if (this.modalQueue.length > 0) {\r\n            this.modalQueue = lodash_1.tail(this.modalQueue);\r\n        }\r\n    }\r\n    modalCancel() {\r\n        if (this.modalQueue.length === 0) {\r\n            throw new Error('Attempted to cancel non-existent modal');\r\n        }\r\n        this.modalQueue[0].cancel();\r\n        this.modalQueue = [];\r\n    }\r\n}\r\n__decorate([\r\n    mobx_1.observable,\r\n    __metadata(\"design:type\", Array)\r\n], ModalStore.prototype, \"modalQueue\", void 0);\r\n__decorate([\r\n    mobx_1.computed,\r\n    __metadata(\"design:type\", Object),\r\n    __metadata(\"design:paramtypes\", [])\r\n], ModalStore.prototype, \"currentModal\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], ModalStore.prototype, \"addModal\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], ModalStore.prototype, \"modalComplete\", null);\r\n__decorate([\r\n    mobx_1.action,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", []),\r\n    __metadata(\"design:returntype\", void 0)\r\n], ModalStore.prototype, \"modalCancel\", null);\r\nexports.ModalStore = ModalStore;\r\n//# sourceMappingURL=ModalStore.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/stores/ModalStore.js\n// module id = 72\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst react_router_1 = require(\"react-router\");\r\nconst StatsGrid_1 = require(\"../stats/StatsGrid\");\r\nconst setTabList = (data, router) => {\r\n    window.localStorage.setItem('open_tabs', JSON.stringify(data));\r\n    router.transitionTo('/edit/empty');\r\n};\r\nconst deleteTabSet = (id) => {\r\n    fetch('/tabset/' + id, {\r\n        method: 'DELETE',\r\n        credentials: 'same-origin'\r\n    });\r\n};\r\nexports.Admin = (props, context) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"Welcome to the admin pages\"),\r\n        React.createElement(\"ul\", { className: 'links-list' },\r\n            React.createElement(\"li\", null,\r\n                React.createElement(react_router_1.Link, { to: '/users' },\r\n                    React.createElement(\"i\", { className: 'fa fa-users' }),\r\n                    \" Manage Users\")),\r\n            React.createElement(\"li\", null,\r\n                React.createElement(react_router_1.Link, { to: '/app' },\r\n                    React.createElement(\"i\", { className: 'fa fa-download' }),\r\n                    \" Download app\")),\r\n            React.createElement(\"li\", null,\r\n                React.createElement(\"a\", { href: '/snapshot' },\r\n                    React.createElement(\"i\", { className: 'fa fa-cloud-download' }),\r\n                    \" Download database snapshot\")),\r\n            React.createElement(\"li\", null,\r\n                React.createElement(react_router_1.Link, { to: '/upload' },\r\n                    React.createElement(\"i\", { className: 'fa fa-cloud-upload' }),\r\n                    \" Upload database file\")))),\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h2\", null, \"Saved Tab Sets\"),\r\n        React.createElement(\"ul\", { className: 'links-list' }, props.tabsets.map((tabset) => {\r\n            return (React.createElement(\"li\", { key: `tabset-${tabset.uid}` },\r\n                React.createElement(\"span\", { className: 'a' },\r\n                    React.createElement(\"span\", { onClick: () => setTabList(tabset.tabs, context.router) }, tabset.name),\r\n                    React.createElement(\"span\", null,\r\n                        React.createElement(\"i\", { className: 'fa fa-times', onClick: () => deleteTabSet(tabset.uid) })))));\r\n        }))),\r\n    props.stats !== null ? (React.createElement(StatsGrid_1.StatsGrid, { stats: props.stats })) : null));\r\nexports.Admin.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\n//# sourceMappingURL=Admin.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/Admin.js\n// module id = 73\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.AppDownload = (props) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"App Download\"),\r\n        React.createElement(\"p\", null, \"Use this VRE without an internet connection! Simply download the app for your platform and then\" + \" \" + \"download a database snapshot from the main page. When you are ready, use the upload tool to merge\" + \" \" + \"your offline copy with the server.\"),\r\n        React.createElement(\"ul\", { className: 'links-list' },\r\n            React.createElement(\"li\", null,\r\n                React.createElement(\"a\", { href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements%20Setup%200.1.1.exe' },\r\n                    React.createElement(\"i\", { className: 'fa fa-windows' }),\r\n                    \" Windows\")),\r\n            React.createElement(\"li\", null,\r\n                React.createElement(\"a\", { href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/mac/imperial-entanglements-0.1.1.dmg' },\r\n                    React.createElement(\"i\", { className: 'fa fa-apple' }),\r\n                    \" Mac\")),\r\n            React.createElement(\"li\", null,\r\n                React.createElement(\"a\", { href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements-0.1.1-x86_64.AppImage' },\r\n                    React.createElement(\"i\", { className: 'fa fa-linux' }),\r\n                    \" Linux\"))))));\r\n//# sourceMappingURL=AppDownload.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/AppDownload.js\n// module id = 74\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.DatabaseUpload = (props) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"This is the database upload page\"),\r\n        React.createElement(\"input\", { type: 'file', id: 'input', accept: '.sqlite' }),\r\n        React.createElement(\"button\", { onClick: () => { alert('Work in process'); } }, \"Upload\"))));\r\n//# sourceMappingURL=DatabaseUpload.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/DatabaseUpload.js\n// module id = 75\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nconst Sidebar_1 = require(\"../components/Sidebar\");\r\nconst Workspace_1 = require(\"../components/Workspace\");\r\nconst Toast_1 = require(\"../components/Toast\");\r\nconst DataController_1 = require(\"../stores/DataController\");\r\nconst ModalStore_1 = require(\"../stores/ModalStore\");\r\nconst react_sortable_hoc_1 = require(\"react-sortable-hoc\");\r\nconst mobx_react_devtools_1 = require(\"mobx-react-devtools\");\r\nconst mobx_react_1 = require(\"mobx-react\");\r\nconst ObjectEditorCore = react_sortable_hoc_1.SortableContainer((props) => {\r\n    return (React.createElement(\"span\", { className: 'flex-fill' },\r\n        React.createElement(Sidebar_1.Sidebar, { list: props.list, id: props.id, workspace: props.workspace }),\r\n        React.createElement(Workspace_1.Workspace, { workspace: props.workspace, id: props.id, loading: props.loadingWheel, location: props.location, list: props.list }),\r\n        props.splitWorkspace ? (React.createElement(Workspace_1.Workspace, { workspace: props.workspace, id: props.id, loading: props.loadingWheel, location: props.location, list: props.list })) : null,\r\n        React.createElement(\"div\", { style: { display: 'none' }, className: 'split-workspace-button-container', onClick: props.toggleSplitWorkspace }, props.splitWorkspace ? (React.createElement(\"i\", { className: 'fa fa-times', title: 'split' })) : (React.createElement(\"i\", { className: 'fa fa-columns', title: 'split' })))));\r\n});\r\nconst ModalWrapper = mobx_react_1.inject('modalStore')(mobx_react_1.observer((props) => (React.createElement(\"span\", null, props.modalStore.currentModal))));\r\nclass ObjectEditor extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            dataController: new DataController_1.DataController(props.api),\r\n            modalStore: new ModalStore_1.ModalStore(),\r\n            loadingWheel: true,\r\n            loading: true,\r\n            id: NaN,\r\n            list: false,\r\n            splitWorkspace: false\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.reload(this.props, false, true);\r\n    }\r\n    componentWillUnmount() {\r\n        this.state.dataController.saveTabs();\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.reload(props);\r\n    }\r\n    reload(props, force = false, initialLoad = false) {\r\n        const oldId = parseInt(this.props.location.pathname.substr(this.props.pathname.length + 1));\r\n        const newId = parseInt(props.location.pathname.substr(props.pathname.length + 1));\r\n        const workspaceChanged = props.workspace !== this.props.workspace;\r\n        const idChanged = isNaN(oldId) ? !isNaN(newId) : isNaN(newId) ? true : oldId !== newId;\r\n        const queryChanged = props.location.search !== this.props.location.search;\r\n        const newWorkspace = props.workspace;\r\n        // if there is not a tab for the current URL - create it\r\n        // if the url is invalid, relocate to /edit/notfound\r\n        if (['entity', 'source', 'predicate', 'entity_type', 'notfound'].indexOf(newWorkspace) === -1) {\r\n            this.context.router.transitionTo('/edit/notfound');\r\n        }\r\n        const alreadyLoaded = newWorkspace === 'notfound' || this.state.dataController.enterPage(newWorkspace, newId, this.props.location.query);\r\n        if (!initialLoad && this.state.loading && !force) {\r\n            this.setState({\r\n                id: newId,\r\n                list: props.location.pathname.substr(props.pathname.length + 1).length === 0\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                id: newId,\r\n                list: props.location.pathname.substr(props.pathname.length + 1).length === 0,\r\n                loading: true,\r\n                loadingWheel: initialLoad || !alreadyLoaded\r\n            }, () => {\r\n                this.state.dataController.update()\r\n                    .then((dataStore) => {\r\n                    this.setState({\r\n                        loading: false,\r\n                        loadingWheel: false\r\n                    });\r\n                }).catch(() => {\r\n                    this.context.router.transitionTo('/edit/notfound');\r\n                });\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(mobx_react_1.Provider, { dataStore: this.state.dataController, modalStore: this.state.modalStore },\r\n            React.createElement(\"section\", { id: 'entity-editor', className: 'flex-fill' },\r\n                process.env.NODE_ENV === 'dev' ? (React.createElement(mobx_react_devtools_1.default, null)) : null,\r\n                React.createElement(\"span\", { className: 'header-colour ' + this.props.workspace }),\r\n                React.createElement(\"span\", { className: 'flex-fill' },\r\n                    React.createElement(ObjectEditorCore, { id: this.state.id, workspace: this.props.workspace, useDragHandle: true, loadingWheel: this.state.loadingWheel, splitWorkspace: this.state.splitWorkspace, helperClass: 'card-being-dragged', toggleSplitWorkspace: () => this.setState({ splitWorkspace: !this.state.splitWorkspace }), list: this.state.list, location: this.props.location, onSortEnd: (change) => this.state.dataController.reorderTabs(change) }),\r\n                    React.createElement(Toast_1.Toast, null),\r\n                    React.createElement(ModalWrapper, null)),\r\n                React.createElement(\"span\", { className: 'header-colour ' + this.props.workspace }))));\r\n    }\r\n}\r\nObjectEditor.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.ObjectEditor = ObjectEditor;\r\n//# sourceMappingURL=ObjectEditor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/ObjectEditor.js\n// module id = 76\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.RouteNotFound = (props) => (React.createElement(\"section\", null,\r\n    React.createElement(\"h1\", null,\r\n        \"The page at \",\r\n        props.url,\r\n        \" does not exist :(\")));\r\n//# sourceMappingURL=RouteNotFound.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/RouteNotFound.js\n// module id = 77\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.User = (props) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"This is the user page\"))));\r\n//# sourceMappingURL=User.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/User.js\n// module id = 78\n// module chunks = 0","/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst React = require(\"react\");\r\nexports.UserManagement = (props) => (React.createElement(\"div\", { className: 'page' },\r\n    React.createElement(\"section\", null,\r\n        React.createElement(\"h1\", null, \"This is the user management page\"))));\r\n//# sourceMappingURL=UserManagement.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/common/views/UserManagement.js\n// module id = 79\n// module chunks = 0","module.exports = ui_lib;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui_lib\"\n// module id = 95\n// module chunks = 0","/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.2.0\r\n */\r\n\"use strict\";\r\nconst react_dom_1 = require(\"react-dom\");\r\nconst react_1 = require(\"react\");\r\nconst FalconApp_1 = require(\"../common/FalconApp\");\r\nconst ClientApiService_1 = require(\"./ClientApiService\");\r\nconst react_router_1 = require(\"react-router\");\r\ndocument.addEventListener('DOMContentLoaded', (event) => {\r\n    react_dom_1.render(react_1.createElement(FalconApp_1.FalconApp, {\r\n        api: new ClientApiService_1.ClientApiService(),\r\n        router: react_router_1.BrowserRouter,\r\n        routerSettings: {},\r\n        environment: 'website',\r\n        connected: true\r\n    }), document.getElementById('main'));\r\n});\r\n//# sourceMappingURL=app.frontend.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/client/app.frontend.js\n// module id = 96\n// module chunks = 0"],"sourceRoot":""}