{"version":3,"sources":["webpack:///webpack/bootstrap a66e7086ca32ee844631","webpack:///./src/app/app.electron.ts","webpack:///external \"react-dom\"","webpack:///external \"react\"","webpack:///./src/common/FalconApp.tsx","webpack:///external \"react-router\"","webpack:///./src/common/views/RouteNotFound.tsx","webpack:///./src/common/ApiService.ts","webpack:///./src/common/itemTypes.ts","webpack:///./src/common/views/Admin.tsx","webpack:///./src/common/stats/StatsGrid.tsx","webpack:///./src/app/AdminApp.tsx","webpack:///./src/common/views/User.tsx","webpack:///./src/common/views/UserManagement.tsx","webpack:///./src/common/views/AppDownload.tsx","webpack:///./src/common/views/DatabaseUpload.tsx","webpack:///./src/common/views/ObjectEditor.tsx","webpack:///./src/common/components/Sidebar.tsx","webpack:///./src/common/components/sidebar/SearchBox.tsx","webpack:///./src/common/components/ComboDropdown.tsx","webpack:///external \"lunr\"","webpack:///external \"lodash\"","webpack:///./src/common/Signaller.ts","webpack:///external \"signals\"","webpack:///external \"react-sortable-hoc\"","webpack:///./src/common/components/Workspace.tsx","webpack:///./src/common/components/Loading.tsx","webpack:///./src/common/components/workspace/workspace.ts","webpack:///./src/common/components/workspace/EmptyWorkspace.tsx","webpack:///./src/common/components/workspace/EntityEditorWorkspace.tsx","webpack:///external \"falcon-core\"","webpack:///./src/common/helper/findParentTree.ts","webpack:///./src/common/components/fields/EditableHeader.tsx","webpack:///./src/common/components/fields/EditableFieldComponent.tsx","webpack:///./src/common/components/workspace/entity/EntityWorkspaceCoreView.tsx","webpack:///./src/common/components/entity_editor/RecordsEditor.tsx","webpack:///./src/common/components/SearchBar.tsx","webpack:///./src/common/components/entity_editor/RecordPredicate.tsx","webpack:///./src/common/components/entity_editor/RecordRow.tsx","webpack:///./src/common/components/fields/ScorePicker.tsx","webpack:///./src/common/components/entity_editor/StringFieldEditor.tsx","webpack:///./src/common/components/entity_editor/EntityFieldEditor.tsx","webpack:///./src/common/components/entity_editor/DateFieldEditor.tsx","webpack:///./src/common/components/fields/DatePickerDropdown.tsx","webpack:///external \"moment\"","webpack:///./src/common/helper/formatDate.ts","webpack:///./src/common/components/entity_editor/IntegerFieldEditor.tsx","webpack:///./src/common/components/AddTabButton.tsx","webpack:///./src/common/components/fields/EditableComboDropdown.tsx","webpack:///./src/common/components/workspace/entity/EntityWorkspaceReferenceView.tsx","webpack:///./src/common/components/workspace/EntityTypeWorkspace.tsx","webpack:///./src/common/components/fields/SameAsEditor.tsx","webpack:///external \"mousetrap\"","webpack:///./src/common/components/fields/EditableParagraph.tsx","webpack:///./src/common/components/workspace/SourceEditorWorkspace.tsx","webpack:///./src/common/components/workspace/PredicateEditorWorkspace.tsx","webpack:///./src/common/components/fields/PredicateDescription.tsx","webpack:///./src/common/literalTypes.ts","webpack:///./src/common/components/workspace/AdvancedSearchWorkspace.tsx","webpack:///./src/common/components/workspace/ObjectListWorkspace.tsx","webpack:///./src/common/components/object_list/EntityList.tsx","webpack:///external \"levenshtein\"","webpack:///./src/common/components/object_list/PredicateList.tsx","webpack:///./src/common/components/object_list/SourceList.tsx","webpack:///./src/common/components/object_list/EntityTypeList.tsx","webpack:///./src/common/components/Toast.tsx","webpack:///./src/common/components/modal/CreatePredicate.tsx","webpack:///./src/common/components/Overlay.tsx","webpack:///./src/common/components/modal/CreateRecord.tsx","webpack:///./src/common/components/modal/CreatePresetRecord.tsx","webpack:///./src/common/components/modal/CreateSource.tsx","webpack:///./src/common/components/modal/CreateEntity.tsx","webpack:///./src/common/components/modal/CreateEntityType.tsx","webpack:///./src/common/components/modal/ConflictResolution.tsx","webpack:///./src/common/DataStore.ts","webpack:///external \"immutable\"","webpack:///./src/common/DataController.ts","webpack:///./src/server/core/Database.ts","webpack:///external \"knex\"","webpack:///./src/server/core/Exceptions.ts","webpack:///./src/server/routes/api.ts","webpack:///./src/server/core/ServerApiService.ts","webpack:///./src/server/stats/GeneralStatisticsController.ts","webpack:///./src/server/core/QueryEngine.ts","webpack:///external \"graphql\"","webpack:///./src/server/graphql/entityQLType.ts","webpack:///./src/server/graphql/predicateQLType.ts","webpack:///external \"koa-conditional-get\"","webpack:///external \"koa-etag\"","webpack:///./src/server/controllers/controllers.ts","webpack:///./src/server/controllers/ElementSetController.ts","webpack:///./src/server/controllers/GenericController.ts","webpack:///./src/server/controllers/EntityController.ts","webpack:///./src/server/controllers/EntityTypeController.ts","webpack:///./src/server/controllers/PredicateController.ts","webpack:///./src/server/controllers/RecordController.ts","webpack:///./src/server/controllers/SourceController.ts","webpack:///./src/server/controllers/ElementController.ts","webpack:///./src/server/controllers/SourceElementController.ts","webpack:///external \"electron\""],"names":[],"mappings":"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","file":"app.electron.dist.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a66e7086ca32ee844631","/**\n * @fileOverview Abstract interface for sources\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { render } from 'react-dom';\nimport { createElement } from 'react';\nimport { FalconApp } from '../common/FalconApp';\nimport { Database } from '../server/core/Database';\nimport { wrapDatabase } from '../server/routes/api';\nimport { MemoryRouter } from 'react-router';\n\nimport * as electron from 'electron';\n\nconst databaseFile = electron.remote.dialog.showOpenDialog({properties: ['openFile'],  filters: [\n    {name: 'Database Files', extensions: ['sqlite']}\n  ]});\n\nif (databaseFile !== undefined) {\n\n  electron.remote.getCurrentWindow().setTitle(`Imperial Entanglements (${databaseFile[0]})`);\n\n  const db = new Database({\n    client: 'sqlite3',\n    useNullAsDefault: true,\n    connection: {\n      filename: databaseFile[0]\n    },\n    pool: {\n      afterCreate: (conn, cb) => {\n        conn.run('PRAGMA foreign_keys = ON', cb);\n      }\n    }\n    //debug: true\n  });\n\n  document.addEventListener('DOMContentLoaded', (event) => {\n      render(createElement(FalconApp, {\n          api: wrapDatabase(db, true),\n          environment: 'app',\n          connected: false,\n          router: MemoryRouter,\n          routerSettings: {\n            initialEntries: ['/'],\n            initialIndex: 0\n          }\n      }), <Element>document.getElementById('falcon-container'));\n  });\n} else {\n  electron.remote.app.quit();\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.electron.ts","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 2\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\n//https://react-router.now.sh/Match\n\nimport * as React from 'react';\nimport { Match, Miss } from 'react-router';\n\nimport { RouteNotFound } from './views/RouteNotFound';\n\nimport { ApiService, AppUrls } from './ApiService';\n\nimport { itemTypes } from './itemTypes';\n\nimport { Admin } from './views/Admin';\nimport { AdminApp } from '../app/AdminApp';\n\nimport { User } from './views/User';\nimport { UserManagement } from './views/UserManagement';\nimport { AppDownload } from './views/AppDownload';\nimport { DatabaseUpload } from './views/DatabaseUpload';\n\nimport { Link } from 'react-router';\nimport { ObjectEditor } from './views/ObjectEditor';\n\nimport { GeneralStatistics } from './stats/GeneralStatistics';\n\ninterface FalconAppProps {\n    router: any;\n    api: ApiService;\n    routerSettings: any;\n    environment: 'app' | 'website';\n    connected: boolean;\n}\n\ninterface FalconAppState {\n    user: string;\n    stats: GeneralStatistics | null;\n}\n\nexport class FalconApp extends React.Component<FalconAppProps, FalconAppState> {\n\n    constructor(props: FalconAppProps) {\n        super();\n        this.state = {\n            user: '',\n            stats: null\n        };\n    }\n\n    public componentDidMount() {\n        if (this.props.environment === 'website' && window !== undefined) {\n            fetch('/admin/currentuser', { credentials: 'same-origin' })\n                .then((response) => response.json())\n                .then((userData) => this.setState({ user: userData.username }));\n        }\n\n        this.props.api.getStats()\n        .then((stats) => {\n          this.setState({ stats })\n        });\n    }\n\n    public render() {\n        return (\n        <div id='main' className='flex-fill'>\n            <this.props.router {...this.props.routerSettings} className='flex-fill' basename='/admin'>\n                <div className='flex-fill' style={{ flexDirection: 'column' }}>\n                    <div className='header'>\n                        <Link to='/' className='logo-link'><div className='logo'>VRE</div></Link>\n                        <Link to='/' className='header-link'>Home</Link>\n                        <Link accessKey='s' to={'/edit/' + AppUrls.source} className='header-link source'>{itemTypes.source.plural}</Link>\n                        <Link accessKey='e' to={'/edit/' + AppUrls.entity} className='header-link entity'>{itemTypes.entity.plural}</Link>\n                        <Link accessKey='p'\n                            to={'/edit/' + AppUrls.predicate} className='header-link predicate'>{itemTypes.predicate.plural}</Link>\n                        <Link accessKey='t'\n                            to={'/edit/' + AppUrls.entity_type} className='header-link entity_type'>{itemTypes.entity_type.plural}</Link>\n\n                        { this.props.environment === 'website' ? (\n                            <div className='right-header'>\n                                <Link to='/user' className='header-link'><span className='current-user'>{this.state.user}</span></Link>\n                                <a href='/admin/logout' className='header-link'>Logout</a>\n                                <a href='/' className='header-link'><i className='fa fa-external-link'></i></a>\n                            </div>\n                        ) : null}\n\n                    </div>\n\n                    { this.props.environment === 'website' ? (\n                        <Match exactly pattern='/' render={\n                        (matchprops) => (\n                          <Admin {...matchprops} stats={this.state.stats}/>\n                        )}/>\n                    ) : (\n                        <Match exactly pattern='/' render={\n                        (matchprops) => (\n                          <AdminApp {...matchprops} stats={this.state.stats}/>\n                        )}/>\n                    )}\n\n                    <Match exactly pattern='/user' component={User} />\n                    <Match exactly pattern='/users' component={UserManagement} />\n                    <Match exactly pattern='/app' component={AppDownload} />\n                    <Match exactly pattern='/upload' component={DatabaseUpload} />\n\n                    <Match exactly pattern='/search' render={\n                        (matchprops) => (\n                            <ObjectEditor\n                                api={this.props.api} {...matchprops}\n                                workspace={'search'} />)\n                    } />\n\n                    <Match pattern='/edit/:workspace' render={\n                        (matchprops) => (\n                            <ObjectEditor\n                                api={this.props.api} {...matchprops}\n                                workspace={matchprops.params.workspace === 'property' ? 'predicate' : matchprops.params.workspace}\n                                />)\n                    } />\n\n                    <Miss component={RouteNotFound} />\n                </div>\n            </this.props.router>\n        </div>);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/FalconApp.tsx","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 4\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nexport const RouteNotFound = (props: { url: string }) => (\n    <section>\n        <h1>The page at {props.url} does not exist :(</h1>\n    </section>\n) ;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/RouteNotFound.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport { TrackedFalconItem, CompositeKey } from 'falcon-core';\n\nimport { itemTypes } from './itemTypes';\n\nexport const AppUrls : {\n    element_set: string,\n    record: string,\n    entity: string,\n    entity_type: string,\n    predicate: string,\n    source: string,\n    source_element: string,\n    element: string\n} = {\n    element_set: itemTypes.element_set.machineName,\n    record:  itemTypes.record.machineName,\n    entity:  itemTypes.entity.machineName,\n    entity_type:  itemTypes.entity_type.machineName,\n    predicate:  itemTypes.predicate.machineName,\n    source:  itemTypes.source.machineName,\n    source_element:  itemTypes.source_element.machineName,\n    element: 'element'\n};\n\nexport interface ApiService {\n    getItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey) : Promise<T>;\n    getCollection<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, params: any) : Promise<T[]>;\n\n    postItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, data: T) : Promise<any>;\n    putItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey, data: T) : Promise<any>;\n\n    //TODO: patch item takes a subset of an objects properties. This is currently being looked at in TS in the\n    //context of the 'setState' function in react\n    patchItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey, data : any) : Promise<any>;\n    delItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey) : Promise<any>;\n\n    query(graphQLQuery: string) : Promise<any>;\n    getStats() : Promise<any>;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/ApiService.ts","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\ninterface ItemDescription {\n    machineName: string;\n    name: string;\n    plural: string;\n    workspace: string;\n}\n\ninterface ItemTypes {\n    element_set: ItemDescription;\n    record: ItemDescription;\n    entity: ItemDescription;\n    entity_type: ItemDescription;\n    predicate: ItemDescription;\n    source: ItemDescription;\n    source_element: ItemDescription;\n}\n\nexport const itemTypes : ItemTypes = {\n\n    element_set: {\n        machineName: 'element_set',\n        name: 'Element Set',\n        plural: 'Element Sets',\n        workspace: ''\n    },\n\n    record: {\n        machineName: 'record',\n        name: 'Record',\n        plural: 'Records',\n        workspace: ''\n    },\n\n    entity:  {\n        machineName: 'entity',\n        name: 'Entity',\n        plural: 'Entities',\n        workspace: 'entity'\n    },\n\n    entity_type: {\n        machineName: 'entity_type',\n        name: 'Entity Type',\n        plural: 'Entity Types',\n        workspace: 'entity_type'\n    },\n\n    predicate: {\n        machineName: 'property',\n        name: 'Property',\n        plural: 'Properties',\n        workspace: 'predicate'\n    },\n\n    source: {\n        machineName: 'source',\n        name: 'Source',\n        plural: 'Sources',\n        workspace: 'source'\n    },\n\n    source_element: {\n        machineName: 'source_element',\n        name: 'Source Element',\n        plural: 'Source Elements',\n        workspace: ''\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/common/itemTypes.ts","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { GeneralStatistics } from '../stats/GeneralStatistics';\nimport { StatsGrid } from '../stats/StatsGrid';\n\ninterface AdminProps {\n  stats: GeneralStatistics | null;\n}\n\nexport const Admin = (props : AdminProps) => (\n    <div className='page'>\n        <section>\n            <h1>Welcome to the admin pages</h1>\n            <ul className='links-list'>\n                <li><Link to='/users'><i className='fa fa-users'></i> Manage Users</Link></li>\n                <li><Link to='/app'><i className='fa fa-download'></i> Download app</Link></li>\n                <li><a href='/admin/snapshot'><i className='fa fa-cloud-download'></i> Download database snapshot</a></li>\n                <li><Link to='/upload'><i className='fa fa-cloud-upload'></i> Upload database file</Link></li>\n            </ul>\n        </section>\n        {props.stats !== null ? (\n          <StatsGrid stats={props.stats} />\n        ) : null}\n\n     </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/Admin.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { GeneralStatistics } from './GeneralStatistics';\n\ninterface StatsGridProps {\n  stats: GeneralStatistics;\n}\n\nexport const StatsGrid : React.StatelessComponent<StatsGridProps>\n    = (props: StatsGridProps) => {\n\n    return (\n    <section className='stats-grid'>\n\n      <Link to='/edit/entity'>\n        <div className='entity'>\n          <span className='item-name'>Entities</span><span className='item-count'>{props.stats.entity}</span>\n        </div>\n      </Link>\n\n      <Link to='/edit/entity_type'>\n        <div className='entity_type'>\n          <span className='item-name'>Entity Types</span><span className='item-count'>{props.stats.entityType}</span>\n        </div>\n      </Link>\n\n      <Link to='/edit/source'>\n        <div className='source'>\n          <span className='item-name'>Sources</span><span className='item-count'>{props.stats.source}</span>\n        </div>\n      </Link>\n\n      <Link to='/edit/predicate'>\n        <div className='predicate'>\n          <span className='item-name'>Properties</span><span className='item-count'>{props.stats.predicate}</span>\n        </div>\n      </Link>\n\n      <div className='record'>\n        <span className='item-name'>Records</span><span className='item-count'>{props.stats.record}</span>\n      </div>\n\n    </section>\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/stats/StatsGrid.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { GeneralStatistics } from '../common/stats/GeneralStatistics';\nimport { StatsGrid } from '../common/stats/StatsGrid';\n\n// ideally:\n// - Open file\n// - Recent files\n// - Metrics\n\ninterface AdminAppProps {\n  stats: GeneralStatistics | null;\n}\n\nexport const AdminApp = (props: AdminAppProps) => (\n    <div className='page'>\n        <section>\n            <h1>VRE App</h1>\n            {props.stats !== null ? (\n              <StatsGrid stats={props.stats} />\n            ) : null}\n        </section>\n     </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/AdminApp.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\nexport const User = (props) => (\n    <div className='page'>\n        <section>\n            <h1>This is the user page</h1>\n        </section>\n    </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/User.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\nexport const UserManagement = (props) => (\n    <div className='page'>\n        <section>\n            <h1>This is the user management page</h1>\n        </section>\n    </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/UserManagement.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\nexport const AppDownload = (props) => (\n    <div className='page'>\n        <section>\n            <h1>App Download</h1>\n            <p>Use this VRE without an internet connection! Simply download the app for your platform and then\n            download a database snapshot from the main page. When you are ready, use the upload tool to merge\n            your offline copy with the server.</p>\n            <ul className='links-list'>\n              <li><a href='https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements%20Setup%200.1.1.exe'><i className='fa fa-windows'></i> Windows</a></li>\n              <li><a href='https://github.com/digihum/imperial-entanglements-app/raw/master/bin/mac/imperial-entanglements-0.1.1.dmg'><i className='fa fa-apple'></i> Mac</a></li>\n              <li><a href='https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements-0.1.1-x86_64.AppImage'><i className='fa fa-linux'></i> Linux</a></li>\n            </ul>\n        </section>\n    </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/AppDownload.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\nexport const DatabaseUpload = (props) => (\n    <div className='page'>\n        <section>\n            <h1>This is the database upload page</h1>\n            <input type='file' id='input' accept='.sqlite' />\n            <button onClick={() => { alert('Work in process')}}>Upload</button>\n        </section>\n    </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/DatabaseUpload.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { ApiService } from '../ApiService';\n\nimport { Sidebar, Tab } from '../components/Sidebar';\nimport { Workspace } from '../components/Workspace';\nimport { Toast } from '../components/Toast';\n\nimport { createTab, closeTab, showModal, triggerReload } from '../Signaller';\nimport { find, tail, cloneDeep, findIndex } from 'lodash';\n\nimport { CreatePredicate } from '../components/modal/CreatePredicate';\nimport { CreateRecord } from '../components/modal/CreateRecord';\nimport { CreatePresetRecord } from '../components/modal/CreatePresetRecord';\nimport { CreateSource } from '../components/modal/CreateSource';\nimport { CreateEntity } from '../components/modal/CreateEntity';\nimport { CreateEntityType } from '../components/modal/CreateEntityType';\nimport { ConflictResolution } from '../components/modal/ConflictResolution';\n\nimport { ModalDefinition } from '../components/modal/ModalDefinition';\n\nimport { DataStore, emptyDataStore } from '../DataStore';\n\nimport { DataController } from '../DataController';\n\nimport { SortableContainer, arrayMove } from 'react-sortable-hoc';\n\ninterface ExpectedParams {\n    id: string;\n}\n\ninterface EntityEditorProps {\n    api: ApiService;\n    params: ExpectedParams;\n    workspace: string;\n    location: { pathname: string, search: string };\n    pathname: string;\n}\n\ninterface EntityEditorState {\n    tabs: Tab[];\n    inBrowser: boolean;\n    modalQueue: ModalDefinition[];\n    dataStore: DataStore;\n    loading: boolean;\n    loadingWheel: boolean;\n\n    id: number;\n    list: boolean;\n\n    splitWorkspace: boolean;\n}\n\nconst ObjectEditorCore = SortableContainer((props: {\n  tabs: Tab[],\n  api: ApiService,\n  dataStore: DataStore,\n  id: number,\n  workspace: string,\n  list: boolean,\n  loadingWheel: boolean,\n  splitWorkspace: boolean,\n  clearTabs: () => void,\n  toggleSplitWorkspace: () => void,\n  location: { pathname: string, search: string }\n}) => {\n  return (\n    <span className='flex-fill'>\n      <Sidebar\n        tabs={props.tabs}\n        dataStore={props.dataStore}\n        clearTabs={props.clearTabs}\n        list={props.list}\n        id={props.id}\n        workspace={props.workspace}\n    />\n\n    <Workspace\n      api={props.api}\n      workspace={props.workspace}\n      id={props.id}\n      dataStore={props.dataStore}\n      loading={props.loadingWheel}\n      location={props.location}\n      list={props.list} />\n\n    {props.splitWorkspace ? (\n       <Workspace\n        api={props.api}\n        workspace={props.workspace}\n        id={props.id}\n        dataStore={props.dataStore}\n        loading={props.loadingWheel}\n        location={props.location}\n        list={props.list} />\n    ) : null}\n\n    <div className='split-workspace-button-container'\n        onClick={props.toggleSplitWorkspace}>\n      {props.splitWorkspace ? (\n        <i className='fa fa-times' title='split'></i>\n      ) : (\n        <i className='fa fa-columns' title='split'></i>\n      )}\n    </div>\n  </span>\n  );\n});\n\nexport class ObjectEditor extends React.Component<EntityEditorProps, EntityEditorState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    private boundCreateTab: any;\n    private boundCloseTab: any;\n    private boundAddModal: any;\n    private boundReload: any;\n\n    constructor(props: EntityEditorProps, context: any) {\n        super();\n\n        let tabs : Tab[] = [];\n\n        if (typeof window !== 'undefined') {\n          const tabString = window.localStorage.getItem('open_tabs');\n          if (tabString !== null) {\n            tabs = JSON.parse(tabString);\n          }\n        }\n\n        this.state = {\n            tabs,\n            inBrowser: (typeof window !== 'undefined'),\n            modalQueue: [],\n            dataStore: cloneDeep(emptyDataStore),\n            loadingWheel: true,\n            loading: true,\n            id: NaN,\n            list: false,\n            splitWorkspace: false\n        };\n\n        this.boundCreateTab = this.createTab.bind(this);\n        this.boundCloseTab = this.closeTab.bind(this);\n        this.boundAddModal = this.addModal.bind(this);\n        this.boundReload = this.callReload.bind(this);\n\n        createTab.add(this.boundCreateTab);\n        closeTab.add(this.boundCloseTab);\n        showModal.add(this.boundAddModal);\n        triggerReload.add(this.boundReload);\n    }\n\n    public componentDidMount() {\n        this.reload(this.props, false, true);\n    }\n\n    public callReload() {\n        this.reload(this.props, true);\n    }\n\n    public reload(props: EntityEditorProps, force: boolean = false, initialLoad : boolean = false) {\n\n      const oldId = parseInt(this.props.location.pathname.substr(this.props.pathname.length + 1));\n      const newId = parseInt(props.location.pathname.substr(props.pathname.length + 1));\n\n      const workspaceChanged = props.workspace !== this.props.workspace;\n      const idChanged = isNaN(oldId) ? !isNaN(newId) : isNaN(newId) ? true : oldId !== newId;\n      const queryChanged = props.location.search !== this.props.location.search;\n\n      const newWorkspace = props.workspace;\n\n      // if we are in the browser, load tabs!\n\n      // if there is not a tab for the current URL - create it\n      // if the url is invalid, relocate to /edit/notfound\n      if (['entity', 'source', 'predicate', 'entity_type', 'notfound'].indexOf(newWorkspace) === -1) {\n        this.context.router.transitionTo('/edit/notfound');\n      }\n\n      let updatedTabs = this.state.tabs;\n      const isList = isNaN(newId);\n\n       if (this.state.inBrowser) {\n         if (isList) {\n          //  if (\n          //    find(updatedTabs, (tab) => tab.tabType === newWorkspace && tab.tabClass == 'list') === undefined || // if no list exists, definitely add one\n          //     (workspaceChanged && idChanged && !queryChanged)) {\n          //      updatedTabs = updatedTabs.concat([{ tabType: newWorkspace, uid: Date.now(), tabClass: 'list'}]);\n          //  }\n         } else {\n            if (\n              find(updatedTabs, (tab) => tab.tabType === newWorkspace && tab.uid == newId) === undefined) {\n                updatedTabs = updatedTabs.concat([{ tabType: newWorkspace, uid: newId, tabClass: 'item'}]);\n          }\n         }\n\n      }\n\n      // this state always updates\n      this.setState({\n        id: newId,\n        list: props.location.pathname.substr(props.pathname.length + 1).length === 0,\n        tabs: updatedTabs\n      }, () => {\n         if (!initialLoad && this.state.loading && !force) {\n            return;\n        }\n\n        this.setState({\n          loading: true,\n          loadingWheel: initialLoad\n        }, () => {\n\n          DataController.reload(props.api, this.state.tabs, force, (failWorkspace, failUid) => {\n            if (newWorkspace === failWorkspace && failUid == newId) {\n              this.context.router.transitionTo('/edit/notfound');\n            }\n          })\n        .then((dataStore) => {\n          this.setState({\n            dataStore,\n            loading: false,\n            loadingWheel: false\n          });\n        });\n\n        });\n      });\n    }\n\n    public createTab(tabType: string, uid: number, tabClass: string, data?: any) {\n        // don't add a tab if it already exists\n        if (find(this.state.tabs, (tab) => tab.tabType === tabType && tab.uid == uid) === undefined) {\n            this.setState({\n                tabs: [{ tabType, uid, data, tabClass }].concat(this.state.tabs)\n            }, () => {\n                this.saveTabs();\n                this.reload(this.props);\n            });\n        }\n    }\n\n    public updateTab(tabType: string, uid: number, data: any) {\n        const tabs = cloneDeep(this.state.tabs);\n        const tabId = findIndex(tabs, (tab) => tab.tabType === tabType && tab.uid === uid);\n        if (tabId !== -1) {\n            tabs[tabId].data = data;\n            this.setState({ tabs });\n        }\n    }\n\n    public closeTab(tabType: string, uid: number) {\n        this.setState({\n            tabs: this.state.tabs.filter((a) => a.tabType !== tabType || a.uid !== uid)\n        }, () => {\n            this.saveTabs();\n            this.reload(this.props);\n        });\n    }\n\n    public saveTabs() {\n        const tabsString = JSON.stringify(this.state.tabs);\n        if (this.state.inBrowser) {\n            window.localStorage.setItem('open_tabs', tabsString);\n        }\n    }\n\n    public clearAllTabs() {\n        this.setState({tabs: []}, () => {\n            this.saveTabs();\n            this.reload(this.props);\n        });\n    }\n\n    public reorderTabs(data: {newIndex: number, oldIndex: number}) {\n      this.setState({tabs: arrayMove(this.state.tabs, data.oldIndex, data.newIndex)}, () => {\n        this.saveTabs();\n      });\n    }\n\n    public addModal(def: ModalDefinition) {\n        this.setState({ modalQueue: [def].concat(this.state.modalQueue)});\n    }\n\n    public modalComplete(data: any) {\n        if (this.state.modalQueue.length === 0) {\n            throw new Error('Attempted to complete non-existent modal');\n        }\n        this.state.modalQueue[0].complete(data);\n        if (this.state.modalQueue.length > 0) {\n            this.setState({ modalQueue: tail(this.state.modalQueue) });\n        }\n    }\n\n    public modalCancel() {\n        if (this.state.modalQueue.length === 0) {\n            throw new Error('Attempted to cancel non-existent modal');\n        }\n        this.state.modalQueue[0].cancel();\n        this.setState({\n            modalQueue: []\n        });\n    }\n\n    public componentWillUnmount() {\n        this.saveTabs();\n        createTab.remove(this.boundCreateTab);\n        closeTab.remove(this.boundCloseTab);\n        showModal.remove(this.boundAddModal);\n        triggerReload.remove(this.boundReload);\n    }\n\n    public componentWillReceiveProps(props: EntityEditorProps) {\n        this.reload(props);\n    }\n\n    public render() {\n        return (\n            <section id='entity-editor' className='flex-fill'>\n                <span className={'header-colour ' + this.props.workspace}></span>\n                    <span className='flex-fill'>\n                      <ObjectEditorCore\n                        tabs={this.state.tabs}\n                        api={this.props.api}\n                        dataStore={this.state.dataStore}\n                        id={this.state.id}\n                        workspace={this.props.workspace}\n                        onSortEnd={this.reorderTabs.bind(this)} //TODO\n                        useDragHandle={true}\n                        loadingWheel={this.state.loadingWheel}\n                        splitWorkspace={this.state.splitWorkspace}\n                        helperClass={'card-being-dragged'}\n                        clearTabs={this.clearAllTabs.bind(this)}\n                        toggleSplitWorkspace={() => this.setState({ splitWorkspace: !this.state.splitWorkspace})}\n                        list={this.state.list}\n                        location={this.props.location}\n                       />\n\n                    <Toast />\n\n                    {(() => {\n                        if (this.state.modalQueue.length === 0) {\n                            return null;\n                        }\n\n                        const sharedProps = {\n                            api: this.props.api,\n                            dataStore: this.state.dataStore,\n                            complete: this.modalComplete.bind(this),\n                            cancel: this.modalCancel.bind(this)\n                        };\n\n                        switch(this.state.modalQueue[0].name) {\n                            case 'predicate':\n                                return (<CreatePredicate {...sharedProps} {...this.state.modalQueue[0].settings} />);\n\n                            case 'record':\n                                return (<CreateRecord {...sharedProps} {...this.state.modalQueue[0].settings}/>);\n\n                            case 'preset_record':\n                                return (<CreatePresetRecord {...sharedProps} {...this.state.modalQueue[0].settings}/>);\n\n                            case 'source':\n                                return (<CreateSource {...sharedProps} {...this.state.modalQueue[0].settings}/>);\n\n                            case 'entity':\n                                return (<CreateEntity {...sharedProps} {...this.state.modalQueue[0].settings}/>);\n\n                            case 'entity_type':\n                                return (<CreateEntityType {...sharedProps} {...this.state.modalQueue[0].settings}/>);\n\n                            case 'conflict_resolution':\n                                return (<ConflictResolution {...sharedProps} {...this.state.modalQueue[0].settings} />);\n                        }\n                    })()}\n                </span>\n                <span className={'header-colour ' + this.props.workspace}></span>\n            </section>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/views/ObjectEditor.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { SearchBox } from './sidebar/SearchBox';\nimport { AppUrls } from '../ApiService';\nimport { Link } from 'react-router';\nimport { DataStore } from '../DataStore';\nimport { closeTab } from '../Signaller';\n\nimport { capitalize, isArray } from 'lodash';\n\nimport {SortableContainer, SortableElement, SortableHandle, arrayMove} from 'react-sortable-hoc';\n\nexport interface Tab {\n    tabType: string;\n    tabClass: string;\n    uid: number;\n    query?: { [s: string]: string };\n    data?: any;\n}\n\nconst Handle = SortableHandle((props: {tabType: string}) => (\n  <div className='badge-container'>\n      <div className={'badge ' + props.tabType}>\n          <span>{props.tabType[0].toUpperCase()}</span>\n      </div>\n  </div>\n));\n\nconst onCloseTab = (e: React.MouseEvent, tabType: string, uid: number) => {\n    closeTab.dispatch(tabType, uid);\n    e.stopPropagation();\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation();\n}\n\nconst Card = SortableElement((props: {currentTab: boolean, url: any, index: number, tab: Tab, title: string, subtitle: string | string[],\n            compact: boolean}) => (\n      <li key={`${props.url}`}>\n          <div className={((currentTab) => {\n              const classes = ['sidebar-card', props.tab.tabClass];\n              if (currentTab) {\n                  classes.push('current');\n              }\n              if (props.compact) {\n                  classes.push('compact');\n              }\n              return classes.join(' ');\n          })(props.currentTab)}>\n              <Handle tabType={props.tab.tabType} index={props.index} collection={props.collection} disabled={props.disabled}/>\n              <div className='description'>\n                  <Link to={props.url}>\n                      <span className='entity-name'>{props.title}</span>\n                      {props.compact ? null : isArray(props.subtitle) ? (\n                        <ul>{props.subtitle.map((sub, i) => (<li key={`tab-${props.index}-${i}`}>{sub}</li>))}</ul>\n                      ) : (\n                          <span className='entity-type'>{props.subtitle}</span>\n                      )}\n                  </Link>\n              </div>\n              {!props.currentTab ? (\n                  <span className='close-button'>\n                      {props.tab.tabType === 'source' ? (\n                        <i className='fa fa-unlock'></i>\n                      ) : null}\n                      <i className='fa fa-times' onClick={(e) => onCloseTab(e, props.tab.tabType, props.tab.uid)}></i>\n                  </span>\n              ) : null}\n          </div>\n      </li>\n  ));\n\nconst CardList = (props: {\n    dataStore: DataStore,\n    tabs: Tab[],\n    list: boolean,\n    workspace: string,\n    id: number,\n    compact: boolean}) => {\n\n    return (\n      <ul className='card-list'>\n            {props.tabs.map((tab, index) => {\n\n                // TODO: shouldn't be ==\n                const item = props.dataStore.all[tab.tabType].value\n                    .find((item) => item.uid == tab.uid);\n\n                let url : string | Object | null = null;\n                if (tab.tabClass === 'item') {\n                  url = `/edit/${AppUrls[tab.tabType]}/${tab.uid}`;\n                } else {\n                  if (tab.tabClass === 'view') {\n                    url = {\n                      pathname: `/edit/${AppUrls[tab.tabType]}`,\n                      query: tab.data\n                    };\n                  }\n                }\n\n                const subtitle = tab.tabClass === 'item' ?\n                  capitalize(AppUrls[tab.tabType]).replace('_', ' ') + ' ' + tab.uid\n                  : Object.keys(tab.data).map((title) => `${title}: ${tab.data[title]}`);\n\n                const title = item === undefined ? `${tab.tabType} list` : item.label;\n\n                const currentTab = !props.list && tab.tabType === props.workspace && tab.uid == props.id;\n\n              return (\n                 <Card\n                  key={`tab-${tab.tabType}-${tab.tabClass}-${tab.uid}-${tab.query}`}\n                  currentTab={currentTab}\n                  url={url}\n                  tab={tab}\n                  title={title}\n                  subtitle={subtitle}\n                  index={index}\n                  compact={props.compact}\n                />\n              );\n        })}\n        </ul>\n    );\n};\n\n\ninterface SidebarProps {\n    tabs: Tab[];\n    dataStore: DataStore;\n    clearTabs: any;\n    workspace: string;\n    list: boolean;\n    id: number;\n}\n\ninterface SidebarState {\n    searchString: string;\n    compactMode: boolean;\n}\n\nexport class Sidebar extends React.Component<SidebarProps, SidebarState> {\n\n    constructor() {\n        super();\n        this.state = {\n            searchString: '',\n            compactMode: false\n        };\n    }\n\n    public render() {\n\n        return (\n            <section id='sidebar'>\n                <SearchBox searchString={this.state.searchString}\n                dataStore={this.props.dataStore}\n                onChange={(evt) => this.setState({searchString: (evt.currentTarget as HTMLInputElement).value})} />\n                <div className='sidebar-toolbar'>\n                    <button onClick={this.props.clearTabs}><i className='fa fa-trash'></i> Clear All</button>\n                    <button onClick={() => this.setState({compactMode: !this.state.compactMode})}><i className='fa fa-compress'></i> Compact</button>\n                </div>\n                <div className='card-list-container'>\n                 <CardList\n                    dataStore={this.props.dataStore}\n                    tabs={this.props.tabs}\n                    list={this.props.list}\n                    workspace={this.props.workspace}\n                    id={this.props.id}\n                    compact={this.state.compactMode}\n\n                  />\n                </div>\n            </section>\n        );\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Sidebar.tsx","/**\n * @fileOverview Searchboc for sidebar\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ComboDropdown } from '../ComboDropdown';\nimport { DataStore } from '../../DataStore';\n\nimport { AppUrls } from '../../ApiService';\n\nimport { toString } from 'lodash';\n\ninterface SearchBoxProps {\n    onChange : React.EventHandler<React.FormEvent>;\n    searchString: string;\n    dataStore: DataStore;\n}\n\nexport const SearchBox : React.StatelessComponent<SearchBoxProps> = (props : SearchBoxProps, context: any) => {\n\n    const entities = props.dataStore.all.entity.value.map((entity) =>\n        ({ key: entity.label, value: toString(entity.uid), meta: { itemType: AppUrls.entity } }));\n\n    const entityTypes = props.dataStore.all.entity_type.value.map((entityType) =>\n        ({ key: entityType.label, value: toString(entityType.uid), meta: { itemType: AppUrls.entity_type }  }));\n\n    const predicates = props.dataStore.all.predicate.value.map((predicate) =>\n        ({ key: predicate.label, value: toString(predicate.uid), meta: { itemType: AppUrls.predicate }  }));\n\n    const sources = props.dataStore.all.source.value.map((source) =>\n        ({ key: source.label, value: toString(source.uid), meta: { itemType: AppUrls.source }  }));\n\n    const all = entities.concat(entityTypes, predicates, sources);\n\n\n    return (\n        <span>\n            <div className='input-addon-formgroup'>\n                <span className='input-addon-icon'><i className='fa fa-search fa-fw'></i></span>\n                <ComboDropdown\n                    value={{ key: '', value: ''}}\n                    setValue={(val) => {\n                      if (val !== null) {\n                        context.router.transitionTo(`/edit/${val.meta.itemType}/${val.value}`)\n                      }\n                    }}\n                    typeName='all'\n                    options={all}\n                    allowNew={false}\n                    createNewValue={() => {}}\n                />\n            </div>\n        </span>\n    );\n\n} ;\n\nSearchBox.contextTypes = {router: React.PropTypes.object.isRequired};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/sidebar/SearchBox.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport * as lunr from 'lunr';\n\nimport { findIndex, noop } from 'lodash';\n\nexport interface ComboDropdownOption {\n    key: string;\n    value: string | null;\n    meta?: any;\n}\n\nexport interface ComboDropdownProps {\n    options: ComboDropdownOption[];\n    typeName: string;\n    value: ComboDropdownOption | null;\n    setValue: (s: ComboDropdownOption | null) => void;\n    createNewValue: (s: string) => void;\n    updateSearchString?: (s: string) => void;\n    allowNew?: boolean;\n    compact?: boolean;\n}\n\ninterface ComboDropdownState {\n    searchString: string;\n    showingDropDown: boolean;\n    filteredOptions: ComboDropdownOption[];\n    highlightedIndex: null | number;\n    dropDownHeight: number;\n}\n\nexport class ComboDropdown<T> extends React.Component<ComboDropdownProps, ComboDropdownState> {\n\n    public static defaultProps : Partial<ComboDropdownProps> = {\n       allowNew: true,\n       compact: false,\n       updateSearchString: noop\n    };\n\n    private ignoreBlur;\n    private ignoreClick;\n    private recalculateHeight;\n\n    private dropDownBoxElement;\n\n    private static readonly comboDropdownInputBoxRef : string = 'comboDropDownInputBox';\n\n    constructor() {\n        super();\n\n        this.state = {\n            searchString: '',\n            showingDropDown: false,\n            filteredOptions: [],\n            highlightedIndex: null,\n            dropDownHeight: 0\n        };\n    }\n\n    public componentWillMount() {\n        this.ignoreBlur = false;\n        this.ignoreClick = false;\n        this.recalculateHeight = true;\n        this.dropDownBoxElement = null;\n\n         this.setState({\n            filteredOptions: this.props.options,\n            searchString: this.props.value === null || this.props.value.key === null ? '' : this.props.value.key\n        });\n    }\n\n    public componentWillReceiveProps(newProps: ComboDropdownProps) {\n\n        let filterString = '';\n\n        if (this.props.value === null) {\n            if (newProps.value === null) {\n                // change nothing\n                filterString = this.state.searchString;\n            } else {\n                // set to newProps value\n                filterString = newProps.value.key;\n            }\n        } else {\n            if (newProps.value === null) {\n                // set to ''\n                filterString = '';\n            } else {\n                if (newProps.value === this.props.value) {\n                    // change nothing\n                    filterString = this.state.searchString;\n                } else {\n                    // set to newProps value\n                    filterString = newProps.value.key;\n                }\n            }\n        }\n\n        //const filterString = newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString;\n\n        this.updateFilter(filterString, newProps);\n        this.setState({\n            searchString: filterString\n        });\n    }\n\n    public changeSearchString(event : React.FormEvent) {\n        this.setState({\n            searchString: (event.target as HTMLInputElement).value,\n            showingDropDown: true},\n        () => {\n            this.updateFilter(this.state.searchString, this.props);\n            if (this.props.updateSearchString !== undefined) {\n              this.props.updateSearchString(this.state.searchString);\n            }\n        });\n    }\n\n    public updateSearchString(s: string) {\n        if (this.props.updateSearchString !== undefined) {\n          this.props.updateSearchString(s);\n        }\n    }\n\n    public updateFilter(filter: string, props: ComboDropdownProps) {\n\n        let filtered : any[] = [];\n\n        if (filter.length > 0) {\n            const idx = lunr(function () {\n                this.field('key', { boost: 10 });\n            });\n\n            props.options.forEach((opt, i) => idx.add(Object.assign({}, opt, { id: i})));\n\n            const result = idx.search(filter);\n\n            for (let i = 0; i < result.length; i += 1) {\n                filtered.push(props.options[result[i].ref]);\n            }\n        } else {\n            filtered = props.options;\n        }\n\n        if (this.dropDownBoxElement !== null) {\n            this.recalculateHeight = true;\n            this.calculateDropdownHeight(this.dropDownBoxElement);\n        }\n\n        this.setState({\n            filteredOptions: filtered\n        });\n    }\n\n    public addNewAction(option: string) {\n        this.props.createNewValue(option);\n    }\n\n    public selectOption(option: ComboDropdownOption) {\n        this.props.setValue(option);\n        this.ignoreBlur = false;\n        this.recalculateHeight = true;\n        this.setState({ showingDropDown: false, searchString: option.key });\n        this.updateSearchString(option.key);\n    }\n\n    public handleInputBlur() {\n        if (!this.ignoreBlur) {\n\n            if (this.state.searchString.length === 0) {\n                 this.setState({ searchString: '' });\n            } else {\n                 if (findIndex(this.props.options, (option) => option.key === this.state.searchString) === -1) {\n                    this.setState({ searchString: this.props.value === null ? '' : this.props.value.key }, () => {\n                        this.updateFilter(this.props.value === null ? '' : this.props.value.key, this.props);\n                    });\n                }\n            }\n            this.recalculateHeight = true;\n            this.setState({\n                showingDropDown: false\n            });\n        }\n    }\n\n    public handleInputFocus () {\n        if (this.ignoreBlur) {\n        this.ignoreBlur = true;\n        return;\n        }\n        // We don't want `selectItemFromMouse` to trigger when\n        // the user clicks into the input to focus it, so set this\n        // flag to cancel out the logic in `handleInputClick`.\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\n        this.ignoreClick = true;\n        this.setState({ showingDropDown: true });\n  }\n\n  public handleInputClick () {\n    // Input will not be focused if it's disabled\n    if (this.isInputFocused() && this.state.showingDropDown === false) {\n        this.setState({ showingDropDown: true })\n    } else {\n         if (this.state.highlightedIndex !== null && !this.ignoreClick) {\n             this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\n         } else {\n             this.ignoreClick = false;\n         }\n    }\n  }\n\n  public selectItemFromMouse (item) {\n       this.recalculateHeight = true;\n    this.setState({\n      showingDropDown: false,\n      highlightedIndex: null\n    }, () => {\n      this.props.setValue(item);\n      (this.refs[ComboDropdown.comboDropdownInputBoxRef] as HTMLElement).focus();\n    });\n  }\n\n   public isInputFocused () {\n    const el = this.refs[ComboDropdown.comboDropdownInputBoxRef] as HTMLElement;\n    return el.ownerDocument && (el === el.ownerDocument.activeElement);\n  }\n\n  public clearSearchBox() {\n      this.props.setValue(null);\n      this.setState({ searchString: '' });\n      (this.refs[ComboDropdown.comboDropdownInputBoxRef] as HTMLElement).focus();\n  }\n\n  public calculateDropdownHeight(val: null | HTMLElement) {\n\n    this.dropDownBoxElement = val;\n\n      if (val === null || !this.recalculateHeight) {\n          return;\n      } else {\n          this.setState({\n              dropDownHeight: window.document.body.getBoundingClientRect().bottom - val.getBoundingClientRect().top - 32\n          });\n          this.recalculateHeight = false;\n      }\n  }\n\n  public render() {\n\n       return (\n        <div className={this.props.compact ? 'compact combo-dropdown' : 'combo-dropdown'}>\n                <div>\n                    <input type='text'\n                        ref={ComboDropdown.comboDropdownInputBoxRef}\n                        className='search-input'\n                        value={this.state.searchString}\n                        placeholder='Click here and start typing..'\n                        onBlur={this.handleInputBlur.bind(this)}\n                        onFocus={this.handleInputFocus.bind(this)}\n                        onChange={this.changeSearchString.bind(this)}\n                        onClick={this.handleInputClick.bind(this)}\n                    />\n                    {this.state.searchString.length > 0 ? (\n                        <i className='fa fa-times clear-button' onClick={this.clearSearchBox.bind(this)}></i>\n                    ) : null}\n                </div>\n                {this.state.showingDropDown ? (\n                    <div className='dropdown'\n                        style={{maxHeight: this.state.dropDownHeight, overflowY: 'auto'}}\n                        ref={this.calculateDropdownHeight.bind(this)}>\n                        <ul>\n                            {this.state.searchString.length === 0 && this.props.allowNew ? (\n                                <li className='add'\n                                onMouseDown={() => this.ignoreBlur = true}\n                                 onClick={() => this.addNewAction('')}>\n                                    <i className='fa fa-plus' aria-hidden='true'></i>\n                                    Add new {this.props.typeName}</li>\n                            ) : null }\n                            {this.state.filteredOptions.map((opt, i) => (\n                                <li key={`opt-${opt.key}-${i}`}\n                                onMouseDown={() => this.ignoreBlur = true}\n                                onClick={() => this.selectOption(opt)}>{opt.key}</li>\n                            ))}\n                            {this.state.searchString.length > 0 && this.props.allowNew ? (\n                                <li className='add'\n                                onMouseDown={() => this.ignoreBlur = true}\n                                onClick={() => this.addNewAction(this.state.searchString)}>\n                                    <i className='fa fa-plus' aria-hidden='true'></i>\n                                    Add new {this.props.typeName}: '{this.state.searchString}'</li>\n                            ) : null }\n                        </ul>\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/ComboDropdown.tsx","module.exports = require(\"lunr\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lunr\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 20\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as signals from 'signals';\n\nexport const createTab = new signals.Signal();\nexport const closeTab = new signals.Signal();\nexport const showModal = new signals.Signal();\nexport const triggerReload = new signals.Signal();\nexport const showToast  = new signals.Signal();\n\nexport const Signaller = {\n    createTab,\n    closeTab,\n    showModal,\n    triggerReload,\n    showToast\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Signaller.ts","module.exports = require(\"signals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"signals\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"react-sortable-hoc\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-sortable-hoc\"\n// module id = 23\n// module chunks = 0","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ApiService } from '../ApiService';\nimport { DataStore } from '../DataStore';\nimport { Loading } from './Loading';\n\nimport {\n    EmptyWorkspace,\n    SourceEditorWorkspace,\n    EntityEditorWorkspace,\n    EntityTypeWorkspace,\n    PredicateEditorWorkspace,\n    AdvancedSearchWorkspace,\n    ObjectListWorkspace } from './workspace/workspace';\n\ninterface WorkspaceProps {\n    api: ApiService;\n    workspace: string;\n    id: number;\n    name?: string;\n    list: boolean;\n    dataStore: DataStore;\n    loading: boolean;\n    location: { pathname: string, search: string };\n}\n\ninterface WorkspaceState {\n    searchString: string;\n}\n\nexport class Workspace extends React.Component<WorkspaceProps, WorkspaceState> {\n\n    constructor() {\n        super();\n        this.state = {\n            searchString: ''\n        };\n    }\n\n    public render() {\n\n        if (this.props.loading) {\n            return (<Loading />);\n        }\n\n        if (this.props.list) {\n            return (<ObjectListWorkspace\n                api={this.props.api}\n                name={this.props.name}\n                query={this.props.location.query}\n                listType={this.props.workspace}\n                dataStore={this.props.dataStore} />);\n        }\n\n        let workspaceComponent : any = EmptyWorkspace;\n\n        switch (this.props.workspace) {\n            case 'entity':\n                workspaceComponent = EntityEditorWorkspace;\n                break;\n            case 'predicate':\n                workspaceComponent = PredicateEditorWorkspace;\n                break;\n            case 'source':\n                workspaceComponent = SourceEditorWorkspace;\n                break;\n            case 'entity_type':\n                workspaceComponent = EntityTypeWorkspace;\n                break;\n            case 'search':\n                workspaceComponent = AdvancedSearchWorkspace;\n                break;\n        }\n\n        return (\n            <div className='flex-fill workspace-outer-wrapper'>\n                <div className='workspace-inner-wrapper flex-fill'>\n                    {React.createElement(workspaceComponent, {api: this.props.api, dataStore: this.props.dataStore, id:this.props.id})}\n                </div>\n            </div>\n        );\n\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Workspace.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\ninterface LoadingProps {\n}\n\nexport const Loading : React.StatelessComponent<LoadingProps>\n    = (props: LoadingProps) => {\n\n    return (\n    <div className='loader-wrapper'>\n        <div className='loader'></div>\n    </div>);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Loading.tsx","/**\n * @fileOverview Unified export of workspaces\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\" />Tim Hollies</a>\n * @version 0.1.0\n */\n\nexport { EmptyWorkspace } from './EmptyWorkspace';\nexport { EntityEditorWorkspace } from './EntityEditorWorkspace';\nexport { EntityTypeWorkspace } from './EntityTypeWorkspace';\nexport { SourceEditorWorkspace } from './SourceEditorWorkspace';\nexport { PredicateEditorWorkspace } from './PredicateEditorWorkspace';\nexport { AdvancedSearchWorkspace } from './AdvancedSearchWorkspace';\nexport { ObjectListWorkspace } from './ObjectListWorkspace';\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/workspace.ts","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nexport const EmptyWorkspace = () => (\n    <div className='workspace-editor'>\n        <h2>There is nothing here</h2>\n    </div>\n);\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/EmptyWorkspace.tsx","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { RecordsEditor } from '../entity_editor/RecordsEditor';\nimport { ApiService, AppUrls } from '../../ApiService';\n\nimport { Entity, Record } from 'falcon-core';\n\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { Dictionary, groupBy } from 'lodash';\n\nimport { showModal, createTab, closeTab } from '../../Signaller';\nimport { AddTabButton } from '../AddTabButton';\n\nimport { findParentTree } from '../../helper/findParentTree';\n\n\nimport { EditableHeader, EditableFieldComponent } from '../fields/EditableHeader';\nimport { EditableComboDropdown } from '../fields/EditableComboDropdown';\n\nimport { DataStore } from '../../DataStore';\n\nimport { EntityWorkspaceCoreView } from './entity/EntityWorkspaceCoreView';\nimport { EntityWorkspaceReferenceView } from './entity/EntityWorkspaceReferenceView';\n\nclass StringEditableFieldComponent extends EditableFieldComponent<string> {}\nclass ComboEditableFieldComponent extends EditableFieldComponent<ComboDropdownOption> {}\n\ninterface EntityEditorProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface EntityEditorState {\n    tab: number;\n}\n\n// What can I do?\n// Entity Operations\n// - Delete the entity\n// - Merge the entity\n// - Split the entity\n// - Add 'same-as-ses' to the entity\n// Records\n// - Order records by type, source and date\n// - Add new records\n// - Adding a new predicate creates a new record with the\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\n//   to one of its parents. The range MUST be set.\n// Visualisations:\n// - Network graph of entity relationships\nexport class EntityEditorWorkspace extends React.Component<EntityEditorProps, EntityEditorState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired,\n        manager: React.PropTypes.object.isRequired\n    };\n\n    constructor(props : EntityEditorProps, context: any) {\n        super();\n        this.state = {\n            comboValue: { key: 'test', value: ''},\n            comboSearchValue: '',\n            tab: 0\n        };\n    }\n\n    public del() {\n        this.props.api.delItem(Entity, AppUrls.entity, this.props.id)\n        .then(() => {\n            closeTab.dispatch('entity', this.props.id);\n            this.context.router.transitionTo('/edit/notfound');\n        })\n         .catch((e) => {\n            e.data.data.then((data) => {\n\n                const conflictResolutionModal : ModalDefinition = {\n                    name: 'conflict_resolution',\n                    cancel: () => {},\n                    complete: (result) => {\n                        if (result === 'addToWorkspace') {\n                            data.record.forEach((datum) => {\n                                 createTab.dispatch('entity', datum.entity, 'item');\n                            });\n                            data.entity.forEach((datum) => {\n                                 createTab.dispatch('entity', datum.uid, 'item');\n                            });\n                        }\n\n                        if (result === 'deleteAll') {\n                            Promise.all(\n                                data.record.map((datum) => this.props.api.delItem(Record, AppUrls.record, datum.uid))\n                            )\n                            .then(() => {\n                                this.del();\n                            });\n                        }\n                    },\n                    settings: {\n                        conflictingItems: data,\n                        message: 'Deleting Entity'\n                    }\n                };\n\n                showModal.dispatch(conflictResolutionModal);\n            });\n        });\n    }\n\n    public createNewRecord() {\n\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\n\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\n\n        const entityTypeParents = findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\n        const predicates = this.props.dataStore.all.predicate\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\n\n        const modalDef: ModalDefinition = {\n            name: 'record',\n            complete: (data) => {\n                console.log('Records editor called complete');\n                //this.loadData(this.props);\n            },\n            cancel: () => {\n                console.log('Records editor called cancel');\n            },\n            settings: {\n                options: predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred})),\n                entityUid: this.props.id,\n                entityType: entityType.uid\n            }\n        };\n\n        showModal.dispatch(modalDef);\n    }\n\n    public update(data: any) {\n        this.props.api.patchItem(Entity, AppUrls.entity, this.props.id, data);\n    }\n\n    public render() {\n\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\n\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\n        const potentialParents = this.props.dataStore.all.entity.value;\n\n        const entityTypeParents = findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\n        const predicates = this.props.dataStore.all.predicate\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\n\n        const sources = this.props.dataStore.all.source.value;\n        const records = groupBy(this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.records, 'predicate');\n\n\n        const options = predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred}));\n\n        let parentName = '';\n        if (potentialParents !== null && entity.parent !== undefined) {\n            const found = potentialParents.find((par) => par.uid === entity.parent);\n            if (found !== undefined) {\n                parentName = found.label;\n            }\n        }\n\n        return (\n            <div className='workspace-editor'>\n\n                <header className='editor-header entity'>\n                  <div className='primary-toolbar'>\n                    <div className='main-toolbar'>\n                        <i className='fa fa-cube item-icon'></i>\n                        <StringEditableFieldComponent\n                            value={entity.label}\n                            component={EditableHeader}\n                            onChange={(value) => this.update({ 'label': value })}  />\n                    </div>\n\n                    <div className='sub-toolbar'>\n                        <i\n                            className='fa fa-trash delete button'\n                            aria-hidden='true'\n                            onClick={this.del.bind(this)}\n                        ></i>\n                        <i\n                            className='fa fa-clone button'\n                            aria-hidden='true'\n                            onClick={() => console.log('copy')}\n                        ></i>\n                    </div>\n                  </div>\n                  <div className='secondary-toolbar'>\n                      <div className='tab-bar'>\n                        <div className={'entity ' + (this.state.tab === 0 ? 'selected' : '')} onClick={() => this.setState({ tab: 0 })}>CORE</div>\n                        <div className={'entity ' + (this.state.tab === 1 ? 'selected' : '')} onClick={() => this.setState({ tab: 1 })}>REFERENCED BY</div>\n                      </div>\n                  </div>\n                </header>\n\n                {this.state.tab === 0 ? (\n                  <EntityWorkspaceCoreView\n                  dataStore={this.props.dataStore}\n                  api={this.props.api}\n                  id={this.props.id}\n                 />\n                ) : (\n                  <EntityWorkspaceReferenceView\n                  dataStore={this.props.dataStore}\n                  api={this.props.api}\n                  id={this.props.id}\n                 />\n                )}\n\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/EntityEditorWorkspace.tsx","module.exports = require(\"falcon-core\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"falcon-core\"\n// module id = 29\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nexport const findParentTree =\n     (uid: number, data: { ['parent']: number | null, ['uid']: number | null }[], ancestors : number[] = []) => {\n    const current = data.find((datum) => datum.uid === uid);\n    if (current === undefined) {\n        console.warn('Couldn\\'t find parent');\n        return ancestors;\n    } else {\n        if (current.parent === null || current.uid === null) {\n            if (current.uid === null) {\n                console.warn('Found entity will null uid');\n                return ancestors;\n            } else {\n                return ancestors.concat([current.uid]);\n            }\n        } else {\n            return findParentTree(current.parent, data, ancestors.concat([current.uid]));\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/common/helper/findParentTree.ts","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { EditableSubfieldProps } from './EditableFieldComponent';\nexport { EditableFieldComponent } from './EditableFieldComponent';\n\nexport const EditableHeader : React.StatelessComponent<EditableSubfieldProps<string>>\n    = (props: EditableSubfieldProps<string>) => {\n         if (!props.edit || props.value == null) {\n            return (\n                <h2>\n                    {props.value}\n                    <sup>\n                        <i className='fa fa-pencil-square-o'\n                            title='Edit'\n                            aria-hidden='true'\n                            onClick={props.setEdit}>\n                        </i>\n                    </sup>\n                </h2>\n            );\n        } else {\n            return (\n                <span>\n                    <input type='text'\n                        value={props.value}\n                        className='text-edit-header'\n                        onChange={(e) => props.onChange((e.target as HTMLInputElement).value)} />\n                    <button onClick={props.acceptChanges}><i className='fa fa-check' aria-hidden='true'></i></button>\n                    <button onClick={props.cancelChanges}><i className='fa fa-times' aria-hidden='true'></i></button>\n                </span>\n            );\n        }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/EditableHeader.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nexport interface EditableSubfieldProps<T> {\n    edit: boolean;\n    value: T | null;\n    onChange: (updated: T | null) => void;\n    setEdit: () => void;\n    acceptChanges: () => void;\n    cancelChanges: () => void;\n    // TODO: check this\n    onDelete: React.EventHandler<React.FormEvent>;\n}\n\ninterface EditableFieldProps<T> {\n    value: T;\n    onChange: (s: T) => void;\n    onDelete?: (val: T) => void;\n    component: React.StatelessComponent<EditableSubfieldProps<T>> | React.Component<EditableSubfieldProps<T>, any>;\n    additionalProps?: any;\n}\n\ninterface EditableFieldState<T> {\n    edit: boolean;\n    internalValue: T | null;\n}\n\nexport class EditableFieldComponent<T> extends React.Component<EditableFieldProps<T>, EditableFieldState<T>> {\n\n    constructor() {\n        super();\n        this.state = {\n            edit: false,\n            internalValue: null\n        };\n    }\n\n    public componentWillMount() {\n        this.setState({internalValue: this.props.value === undefined ? null : this.props.value});\n    }\n\n    public componentWillReceiveProps(newProps: EditableFieldProps<T>) {\n        this.setState({internalValue: newProps.value});\n    }\n\n    public switchToEditState() {\n        this.setState({edit: true, internalValue: this.props.value});\n    }\n\n    public setInternalValue(internalValue: T) {\n        this.setState({ internalValue });\n    }\n\n    public acceptChanges() {\n        this.props.onChange(this.state.internalValue);\n        this.setState({edit: false});\n    }\n\n    public cancelChanges() {\n        this.setState({edit: false, internalValue: this.props.value});\n    }\n\n    public render() {\n       return (<this.props.component\n        edit={this.state.edit}\n        value={this.state.internalValue}\n        onChange={this.setInternalValue.bind(this)}\n        setEdit={this.switchToEditState.bind(this)}\n        acceptChanges={this.acceptChanges.bind(this)}\n        cancelChanges={this.cancelChanges.bind(this)}\n        onDelete={(e) => this.props.onDelete !== undefined ? this.props.onDelete(this.props.value) : null}\n        {...this.props.additionalProps} />);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/EditableFieldComponent.tsx","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { RecordsEditor } from '../../entity_editor/RecordsEditor';\nimport { ApiService, AppUrls } from '../../../ApiService';\n\nimport { Entity } from 'falcon-core';\n\nimport { ComboDropdownOption } from '../../ComboDropdown';\n\nimport { groupBy } from 'lodash';\n\nimport { AddTabButton } from '../../AddTabButton';\n\nimport { findParentTree } from '../../../helper/findParentTree';\n\n\nimport { EditableFieldComponent } from '../../fields/EditableHeader';\nimport { EditableComboDropdown } from '../../fields/EditableComboDropdown';\n\nimport { DataStore } from '../../../DataStore';\n\nclass StringEditableFieldComponent extends EditableFieldComponent<string> {}\nclass ComboEditableFieldComponent extends EditableFieldComponent<ComboDropdownOption> {}\n\ninterface EntityWorkspaceCoreViewProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface EntityWorkspaceCoreViewState {\n    comboValue: ComboDropdownOption;\n    comboSearchValue: string;\n}\n\n// What can I do?\n// Entity Operations\n// - Delete the entity\n// - Merge the entity\n// - Split the entity\n// - Add 'same-as-ses' to the entity\n// Records\n// - Order records by type, source and date\n// - Add new records\n// - Adding a new predicate creates a new record with the\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\n//   to one of its parents. The range MUST be set.\n// Visualisations:\n// - Network graph of entity relationships\nexport class EntityWorkspaceCoreView extends React.Component<EntityWorkspaceCoreViewProps, EntityWorkspaceCoreViewState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor(props : EntityWorkspaceCoreViewProps, context: any) {\n        super();\n        this.state = {\n            comboValue: { key: 'test', value: ''},\n            comboSearchValue: ''\n        };\n    }\n\n    public update(data: any) {\n        this.props.api.patchItem(Entity, AppUrls.entity, this.props.id, data);\n    }\n\n    public render() {\n\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\n\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\n        const potentialParents = this.props.dataStore.all.entity.value;\n\n        const entityTypeParents = findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\n        const predicates = this.props.dataStore.all.predicate\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\n\n        const sources = this.props.dataStore.all.source.value;\n        const records = groupBy(this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.records, 'predicate');\n\n\n        const options = predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred}));\n\n        let parentName = '';\n        if (potentialParents !== null && entity.parent !== undefined) {\n            const found = potentialParents.find((par) => par.uid === entity.parent);\n            if (found !== undefined) {\n                parentName = found.label;\n            }\n        }\n\n        return (\n          <section className='editor-body'>\n\n            <div className='flex-fill'>\n                <div className='flex-fill'>\n                    <div><label className='small'>Type</label>{entityType.label} <AddTabButton\n                        dataStore={this.props.dataStore}\n                        uid={entityType.uid}\n                        tabType='entity_type'\n                    /></div>\n                </div>\n\n                <div style={{ flex: 1 }}>\n                    <label className='small'>Parent</label>\n                    <ComboEditableFieldComponent\n                        value={{key: parentName, value: entity.parent}}\n                        component={EditableComboDropdown}\n                        onChange={(value) => this.update({'parent': value.value})}\n                        additionalProps={{ comboSettings: {\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid})),\n                            typeName: 'Entity'\n                        }}} />\n                    {entity.parent !== null ? (<AddTabButton dataStore={this.props.dataStore}\n                        tabType='entity'\n                        uid={entity.parent} />) : null}\n                </div>\n            </div>\n\n            <div className='edit-group'>\n                <RecordsEditor\n                    dimension='predicates'\n                    entityExists={true}\n                    id={this.props.id}\n                    api={this.props.api}\n                    records={records}\n                    onChange={() => {}}\n                    predicates={predicates}\n                    sources={sources}\n                    entityTypeId={entityType.uid}\n                    dataStore={this.props.dataStore}\n                />\n            </div>\n          </section>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/entity/EntityWorkspaceCoreView.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { Record, Predicate, Source } from 'falcon-core';\nimport { EditableFieldComponent } from '../fields/EditableFieldComponent';\n\nimport { SearchBar } from '../SearchBar';\n\nimport { RecordPredicate } from './RecordPredicate';\n\nimport { findParentTree } from '../../helper/findParentTree';\nimport { showModal } from '../../Signaller';\n\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { groupBy, Dictionary } from 'lodash';\n\nclass RecordEditableFieldComponent extends EditableFieldComponent<Record> {}\n\ninterface RecordsEditorProps {\n    id: number;\n\tapi: ApiService;\n\tdimension: string;\n\tentityTypeId: number;\n\tentityExists: boolean;\n\trecords: Dictionary<Record[]>;\n\tonChange: () => void;\n\tpredicates : Predicate[];\n\tsources: Source[];\n\tdataStore: DataStore;\n}\n\ninterface RecordsEditorState {\n\tfilterFunc: (p: Predicate) => boolean;\n}\n\nexport class RecordsEditor extends React.Component<RecordsEditorProps, RecordsEditorState> {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tfilterFunc: () => true\n\t\t};\n\t}\n\n\tpublic deleteRecord(record: Record) {\n\n\t\tif (record.uid === null) {\n\t\t\tthrow new Error('Trying to delete a record with null id');\n\t\t}\n\n\t\tthis.props.api.delItem(Record, AppUrls.record, record.uid)\n\t\t.then(() => {\n\t\t\tthis.props.onChange();\n\t\t});\n\t}\n\n\tpublic createNewRecord() {\n\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\n\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\n\n        const entityTypeParents = findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\n        const predicates = this.props.dataStore.all.predicate\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\n\n        const modalDef: ModalDefinition = {\n            name: 'record',\n            complete: (data) => {\n                console.log('Records editor called complete');\n                //this.loadData(this.props);\n            },\n            cancel: () => {\n                console.log('Records editor called cancel');\n            },\n            settings: {\n                options: predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred})),\n                entityUid: this.props.id,\n                entityType: this.props.entityTypeId\n            }\n        };\n\n        showModal.dispatch(modalDef);\n    }\n\n\tpublic render() {\n\n\t\tconst predicates = this.props.predicates;\n\n\t\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className='small'>Records</label>\n\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t<div style={{ flex: '1' }}>\n\t\t\t\t\t\t\t<SearchBar\n\t\t\t\t\t\t\t\tgetValue={(p: Predicate) => p.label}\n\t\t\t\t\t\t\t\tsetFilterFunc={(filterFunc) => this.setState({ filterFunc })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{padding: '0.1em 0.4em', fontSize: '2em'}}>\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName='fa fa-plus-circle add button'\n\t\t\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t\t\t\tonClick={this.createNewRecord.bind(this)}\n\t\t\t\t\t\t\t\ttitle='Add new record'\n\t\t\t\t\t\t\t>\n                    \t\t</i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t </div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{Object.keys(this.props.records).map((section) => {\n\n\t\t\t\t\t\t\tconst currentPredicate = predicates.find((pred) => {\n\t\t\t\t\t\t\t\tif (pred.uid === null) {\n\t\t\t\t\t\t\t\t\tthrow new Error('encountered predicate with null id');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn pred.uid.toString() === section;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif(currentPredicate === undefined) {\n\t\t\t\t\t\t\t\tthrow new Error('Could not find predicate');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!this.state.filterFunc(currentPredicate)) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (<RecordPredicate\n\t\t\t\t\t\t\t\tdataStore={this.props.dataStore}\n\t\t\t\t\t\t\t\tkey={`section-${section}`}\n\t\t\t\t\t\t\t\tentity_id={this.props.id}\n\t\t\t\t\t\t\t\tapi={this.props.api}\n\t\t\t\t\t\t\t\tdimension='predicate'\n\t\t\t\t\t\t\t\trecords={this.props.records[section]}\n\t\t\t\t\t\t\t\tpredicate={currentPredicate}\n\t\t\t\t\t\t\t\tsources={this.props.sources}\n\t\t\t\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\t\t\t />);\n\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/RecordsEditor.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\ninterface SearchBarProps {\n    setFilterFunc: (f: (a : any) => boolean) => void;\n    getValue: (a: any) => string;\n}\n\nexport const SearchBar : React.StatelessComponent<SearchBarProps>\n    = (props: SearchBarProps) => {\n\n    const filterFunc = (s: string) => {\n        return (a: any) => {\n            if (s.length === 0) {\n                return true;\n            }\n            return props.getValue(a).toLowerCase().indexOf(s.toLowerCase()) !== -1;\n        };\n    };\n\n    return (\n        <div>\n            <div className='input-addon-formgroup'>\n                <span className='input-addon-icon'><i className='fa fa-search fa-fw'></i></span>\n                <input type='text'\n                    className='form-control with-addon'\n                    onChange={(e) => props.setFilterFunc(filterFunc((e.target as HTMLInputElement).value))}/>\n            </div>\n\n        </div>\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/SearchBar.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../dataStore';\nimport { Record, Predicate, Source, Entity, Serializer } from 'falcon-core';\nimport { EditableFieldComponent } from '../fields/EditableFieldComponent';\n\nimport { RecordRow } from './RecordRow';\n\nimport { AddTabButton } from '../AddTabButton';\n\nclass RecordEditableFieldComponent extends EditableFieldComponent<Record> {}\n\ninterface RecordPredicateProps {\n    entity_id: number;\n\tapi: ApiService;\n\tdimension: string;\n\trecords: Record[];\n\tpredicate : Predicate;\n\tsources: Source[];\n    onChange: () => void;\n    dataStore: DataStore;\n}\n\ninterface RecordPredicateState {\n\tpotentialValues: Entity[];\n}\n\nexport class RecordPredicate extends React.Component<RecordPredicateProps, RecordPredicateState> {\n\n    constructor() {\n        super();\n        this.state = {\n            potentialValues: []\n        };\n    }\n\n    public componentDidMount() {\n        if (this.props.predicate.rangeIsReference) {\n            this.props.api.getCollection(Entity, AppUrls.entity, { type: this.props.predicate.range })\n            .then((potentialValues) => this.setState({ potentialValues }));\n        }\n    }\n\n    public createNewRecord() {\n        this.props.api.postItem(Record, AppUrls.record,\n        Serializer.fromJson(Record, {\n            predicate: this.props.predicate.uid,\n            entity: this.props.entity_id,\n            valueType: this.props.predicate.rangeIsReference ? 'entity' : this.props.predicate.range,\n            score: 3\n        }));\n    }\n\n\tpublic deleteRecord(record: Record) {\n\n\t\tif (record.uid === null) {\n\t\t\tthrow new Error('Trying to delete a record with null id');\n\t\t}\n\n\t\tthis.props.api.delItem(Record, AppUrls.record, record.uid)\n\t\t.then(() => {\n\t\t\tthis.props.onChange();\n\t\t});\n\t}\n\n\tpublic recordChanged(record: Record) {\n\t\tthis.props.api.putItem(Record, AppUrls.record, this.props.entity_id, Serializer.toJson(record));\n\t}\n\n\tpublic render() {\n\n    if (this.props.predicate.uid === null) {\n      throw new Error('Expected uid to be a number, it was null');\n    }\n\n    return (\n      <section>\n            <h5 className='section-header'>{this.props.predicate.label} <i\n                    className='fa fa-plus-circle add button'\n                      aria-hidden='true'\n                      onClick={this.createNewRecord.bind(this)}\n                      title={`Add new ${this.props.predicate.label} record`}\n                ></i>\n            <AddTabButton\n                dataStore={this.props.dataStore}\n                uid={this.props.predicate.uid}\n                tabType='predicate' />\n            </h5>\n            <table className='record-editing-table'>\n                <thead>\n                    <tr className='record-row title'>\n                        <th className='record-row-item uid'>ID</th>\n                        {this.props.predicate.range !== 'source' ? (<th className='record-row-item'>Value</th>) : null}\n                        <th className='record-row-item'>Source</th>\n                        <th className='record-row-item score'>Score</th>\n                        <th className='record-row-item score'>Period</th>\n                        <th className='record-row-item buttons'>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.props.records.map((record) => (\n                        <RecordEditableFieldComponent\n                            key={`row-${record.uid}`}\n                            value={record}\n                            onChange={this.recordChanged.bind(this)}\n                            onDelete={this.deleteRecord.bind(this)}\n                            component={RecordRow}\n                            additionalProps={{\n                                dimension: 'predicates',\n                                sources: this.props.sources,\n                                entities: this.state.potentialValues,\n                                dataStore: this.props.dataStore\n                            }}\n                        />\n                    ))}\n                </tbody>\n            </table>\n        </section>\n    );\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/RecordPredicate.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Record, Source, Entity } from 'falcon-core';\nimport { EditableSubfieldProps } from '../fields/EditableFieldComponent';\nexport { EditableFieldComponent } from '../fields/EditableFieldComponent';\nimport { ScorePicker } from '../fields/ScorePicker';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\nimport { DataStore } from '../../DataStore';\n\nimport { StringFieldEditor } from './StringFieldEditor';\nimport { EntityFieldEditor } from './EntityFieldEditor';\nimport { DateFieldEditor } from './DateFieldEditor';\nimport { IntegerFieldEditor } from './IntegerFieldEditor';\n\nimport { AddTabButton } from '../AddTabButton';\n\nimport { formatDate } from '../../helper/formatDate';\n\nimport { toString } from 'lodash';\n\ninterface RecordRowProps extends EditableSubfieldProps<Record> {\n    dimension: string;\n    sources: Source[];\n    entities: Entity[];\n    dataStore: DataStore;\n}\n\nconst createNewSource = (initialValue: string) => {\n        const a : ModalDefinition = {\n            name: 'source',\n            complete: () => {\n                // TODO : Automatically reload sources\n            },\n            cancel: () => { console.log('cancel')},\n            settings: {\n                initialValue\n            }\n        };\n\n        showModal.dispatch(a);\n    };\n\nconst recordEditor = (props: RecordRowProps, record: Record) => {\n    switch (record.valueType) {\n        case 'string':\n            return (<StringFieldEditor\n                value={record.value || ''}\n                onChange={(value) => props.onChange(Object.assign(record, { value }))} />);\n        case 'date':\n            return (<DateFieldEditor\n                value={record.value || ''}\n                onChange={(value) => props.onChange(Object.assign(record, { value }))} />);\n        case 'integer':\n            return (<IntegerFieldEditor\n                value={record.value || ''}\n                onChange={(value) => props.onChange(Object.assign(record, { value }))} />);\n        case 'entity':\n            return (<EntityFieldEditor\n                value={record.value === null ? 0 : parseInt(record.value)}\n                onChange={(value) => props.onChange(Object.assign(record, { value }))}\n                entities={props.entities} />);\n        default:\n            return (<div>Missing editor</div>);\n    }\n};\n\nconst formatValue = (props: RecordRowProps, record: Record) => {\n    if (record.valueType === 'entity') {\n        const entity = props.entities.find((entity) => entity.uid == record.value);\n        if (entity !== undefined) {\n            if (entity.uid === null) {\n              throw Error('Unexpected null ID on entity');\n            }\n            return (<span>\n                {entity.label} <AddTabButton\n                    dataStore={props.dataStore}\n                    uid={entity.uid}\n                    tabType='entity' />\n            </span>);\n        } else {\n            return (<em>Missing Entity</em>);\n        }\n    }\n\n    if (record.valueType === 'date') {\n       return (<span>{formatDate(record.value)}</span>);\n    }\n\n    return (<span>{record.value}</span>);\n};\n\nexport const RecordRow = (props: RecordRowProps) => {\n\n    const recordValue = props.value;\n\n    if (recordValue === null) {\n        throw new Error('Should not be null!!');\n    }\n\n    const currentSource = props.sources.find((source) => source.uid === recordValue.source);\n    const dropDownValue : ComboDropdownOption = {\n        key: '', value: recordValue.source === null ? null : toString(recordValue.source)\n    };\n\n    if (currentSource !== undefined) {\n        dropDownValue.key = currentSource.label;\n    }\n\n    if (props.edit) {\n        return (\n        <tr className='record-row'>\n            <td className='record-row-item uid'>{recordValue.uid}</td>\n            {recordValue.valueType !== 'source' ? (\n                <td className='record-row-item'>\n                    {recordEditor(props, recordValue)}\n                </td>\n            ) : null}\n            <td className='record-row-item'>\n                <ComboDropdown\n                    options={props.sources.map((source) =>\n                      ({ key: source.label, value: source.uid !== null ? toString(source.uid) : null}))}\n                    typeName='source'\n                    value={dropDownValue}\n                    setValue={(combo) => props.onChange(Object.assign(recordValue, { source: combo === null ? combo : combo.value }))}\n                    createNewValue={createNewSource}\n                />\n            </td>\n            <td className='record-row-item score'>\n                <ScorePicker value={recordValue.score} readOnly={false}\n                    onChange={(score) => props.onChange(Object.assign(recordValue, { score }))} />\n            </td>\n            <td className='record-row-item period'>\n                <DateFieldEditor\n                    value={recordValue.period || ''}\n                    onChange={(period) => props.onChange(Object.assign(recordValue, { period }))} />\n            </td>\n            <td className='record-row-item buttons'>\n                <button><i className='fa fa-check' onClick={props.acceptChanges} aria-hidden='true'></i></button>\n                <button><i className='fa fa-times' aria-hidden='true' onClick={props.cancelChanges}></i></button>\n            </td>\n        </tr>);\n    } else {\n        return (\n        <tr className='record-row'>\n            <td className='record-row-item uid'>#{recordValue.uid}</td>\n            {recordValue.valueType !== 'source' ? (\n                <td className='record-row-item'>\n                   {formatValue(props, recordValue)}\n                </td>\n            ) : null }\n            <td className='record-row-item'>{dropDownValue.key}\n                {dropDownValue.key.length > 0 && dropDownValue.value !== null ? (\n                    <AddTabButton\n                        dataStore={props.dataStore}\n                        uid={parseInt(dropDownValue.value)}\n                        tabType='source' />\n                ) : null}\n\t\t\t</td>\n            <td className='record-row-item score'>\n                 <ScorePicker value={recordValue.score} readOnly={true} />\n            </td>\n            <td className='record-row-item period'>\n                 {formatDate(recordValue.period)}\n            </td>\n            <td className='record-row-item buttons'>\n                <button><i className='fa fa-pencil-square-o' title='Edit' onClick={props.setEdit} aria-hidden='true'></i></button>\n                <button><i className='fa fa-trash' aria-hidden='true' onClick={props.onDelete}></i></button>\n            </td>\n        </tr>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/RecordRow.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { reverse } from 'lodash';\n\ninterface ScorePickerProps {\n    value: number;\n    onChange?: (val: number) => void;\n    readOnly: boolean;\n}\n\nexport const ScorePicker : React.StatelessComponent<ScorePickerProps> =\n    (props: ScorePickerProps) => {\n\n        const values = [1, 2, 3, 4, 5];\n\n        if (props.readOnly) {\n            return (\n            <span className='score-picker'>\n                {values.map((val) => (<i key={val}\n                    className={'fa fa-star' + (val > props.value ? '-o' : '')}\n                    aria-hidden='true'></i>))}\n            </span>\n            );\n        } else {\n\n          return (\n            <span className='score-picker editing'>\n                {reverse(values).map((val) => (\n                  <i key={val}\n                    className={'fa fa-star' + (val > props.value ? '-o' : '')}\n                    onClick={() => {\n                      if(props.onChange === undefined) {\n                        throw new Error('An onChange handler is required');\n                      }\n                      props.onChange(val);\n                    }}\n                    aria-hidden='true'></i>\n                ))}\n            </span>\n            );\n        }\n\n\n    };\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/ScorePicker.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\ninterface StringFieldEditorProps {\n    onChange: (s: string) => void;\n    value: string;\n}\n\nexport const StringFieldEditor : React.StatelessComponent<StringFieldEditorProps> =\n  (props: StringFieldEditorProps)  => {\n    return (\n      <input type='text' value={props.value} onChange={(e) => props.onChange((e.target as HTMLInputElement).value)} />\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/StringFieldEditor.tsx","/**\n * @fileOverview Entity Field Editor - select box for entities\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\nimport { Entity } from 'falcon-core';\nimport { noop, toString } from 'lodash';\n\n\ninterface EntityFieldEditorProps {\n    onChange: (val: number | null) => void;\n    value: number;\n    entities: Entity[];\n}\n\nexport const EntityFieldEditor : React.StatelessComponent<EntityFieldEditorProps> =\n  (props: EntityFieldEditorProps)  => {\n\n  // build the options list\n  const options : ComboDropdownOption[] = props.entities.map((entity) =>\n    ({ key: entity.label, value: entity.uid !== null ? toString(entity.uid) : null }));\n\n  // find the default option to display\n  let selectedOption : ComboDropdownOption | undefined = options.find((opt) =>\n    opt.value !== null && parseInt(opt.value) === props.value);\n\n  if (selectedOption === undefined) {\n    selectedOption = { key: '', value: ''};\n  }\n\n  return (\n    <ComboDropdown\n      options={options}\n      typeName='entity type'\n      allowNew={false}\n      value={selectedOption}\n      setValue={(val) => val !== null && val.value !== null ? props.onChange(parseInt(val.value)) : props.onChange(null)}\n      createNewValue={noop} />\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/EntityFieldEditor.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { DatePickerDropdown } from '../fields/DatePickerDropdown';\n\ninterface DateFieldEditorProps {\n    onChange: (s: string) => void;\n    value: string;\n}\n\nexport const DateFieldEditor : React.StatelessComponent<DateFieldEditorProps> =\n    (props: DateFieldEditorProps)  => {\n        return (\n        <div className='date-selector'>\n            <DatePickerDropdown\n                value={props.value}\n                setValue={props.onChange}\n            />\n        </div>);\n    };\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/DateFieldEditor.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport * as moment from 'moment';\n\nimport { padStart } from 'lodash';\n\nimport { formatDate } from '../../helper/formatDate';\n\nexport interface DatePickerDropdownProps {\n    value: string;\n    setValue: (s: string) => void;\n}\n\ninterface DatePickerDropdownState {\n    showingDropDown: boolean;\n}\n\nexport class DatePickerDropdown<T> extends React.Component<DatePickerDropdownProps, DatePickerDropdownState> {\n\n    private ignoreBlur;\n    private ignoreClick;\n    private ignoreGlobalClick;\n    private boundWindowClick;\n\n    private static readonly datePickerDropDownInputBoxRef : string = 'datePickerDropDownInputBox';\n\n    constructor() {\n        super();\n\n        //TODO: should be false\n        this.state = {\n            showingDropDown: false\n        };\n\n        if (document !== undefined) {\n            this.boundWindowClick = () => {\n                if (!this.ignoreGlobalClick) {\n                    this.setState({\n                        showingDropDown: false\n                    });\n                } else {\n                    this.ignoreGlobalClick = false;\n                }\n            };\n\n            document.body.addEventListener('click', this.boundWindowClick);\n        }\n    }\n\n    public componentWillMount() {\n        this.ignoreBlur = false;\n        this.ignoreClick = false;\n        this.ignoreGlobalClick = false;\n    }\n\n    public componentWillUnmount() {\n        document.body.removeEventListener('click', this.boundWindowClick);\n    }\n\n    public componentWillReceiveProps(newProps: DatePickerDropdownProps) {\n        // this.updateFilter(newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString, newProps);\n        // this.setState({\n        //     searchString: newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString,\n        //     selected: newProps.value,\n        //     options: newProps.options\n        // });\n    }\n\n    //should be false\n    public handleInputBlur() {\n        if (!this.ignoreBlur) {\n            this.setState({\n                showingDropDown: false\n            });\n        } else {\n            this.ignoreBlur = false;\n        }\n    }\n\n    public handleInputFocus () {\n        if (this.ignoreBlur) {\n        this.ignoreBlur = true;\n        return;\n        }\n        // We don't want `selectItemFromMouse` to trigger when\n        // the user clicks into the input to focus it, so set this\n        // flag to cancel out the logic in `handleInputClick`.\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\n        this.ignoreClick = true;\n        this.setState({ showingDropDown: true });\n  }\n\n  public handleInputClick () {\n    // Input will not be focused if it's disabled\n    if (this.isInputFocused() && this.state.showingDropDown === false) {\n        this.setState({ showingDropDown: true });\n    } else {\n        //  if (this.state.highlightedIndex !== null && !this.ignoreClick) {\n        //      this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\n        //  } else {\n             this.ignoreClick = false;\n        //  }\n    }\n  }\n\n  public selectItemFromMouse (item) {\n    this.setState({\n      showingDropDown: false\n    }, () => {\n      this.props.setValue(item);\n    })\n  }\n\n   public isInputFocused () {\n    const el = this.refs[DatePickerDropdown.datePickerDropDownInputBoxRef] as HTMLElement;\n    return el.ownerDocument && (el === el.ownerDocument.activeElement);\n  }\n\n  public onDropdownClick() {\n      this.ignoreBlur = true;\n      this.ignoreGlobalClick = true;\n      console.log('clicked');\n  }\n\n  public rangeTypeChanged(rangeType: string) {\n       this.props.setValue(rangeType + this.props.value.substr(1));\n  }\n\n  public yearChanged(e: React.FormEvent<HTMLSelectElement>) {\n      const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\n      let yearVal : string = e.currentTarget.value.substr(0, 4).replace(/[^0-9]/g, '');\n      for (let i = yearVal.length; i < 4; i += 1) {\n          yearVal += 'X';\n      }\n      this.props.setValue(base.substr(0, 1) + yearVal + base.substr(5));\n  }\n\n  public monthChanged(e: React.FormEvent<HTMLInputElement>) {\n      this.ignoreGlobalClick = true;\n      const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\n      const monthVal : string = e.currentTarget.value.substr(0, 2);\n      this.props.setValue(base.substr(0, 5) + monthVal + base.substr(7));\n  }\n\n  public dayChanged(e: React.FormEvent<HTMLInputElement>) {\n      const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\n      let dayVal : string = e.currentTarget.value.substr(0, 2).replace(/[^0-9]/g, '');\n      dayVal = padStart(dayVal, 2, '0');\n      this.props.setValue( base.substr(0, 7) + dayVal);\n  }\n\n  public render() {\n\n      let rangeOption = this.props.value.substr(0, 1);\n\n      if (['<', '>', '='].indexOf(rangeOption) === -1) {\n          rangeOption = '=';\n      }\n\n      const rangeOptionClassName = (val: string) => {\n          if (val === rangeOption) {\n              return 'range-option selected';\n          } else {\n              return 'range-option';\n          }\n      };\n\n      const year = this.props.value.substr(1, 4).replace(/X/g, '');\n      const month = this.props.value.substr(5, 2);\n      const day = this.props.value[7] === '0' ? this.props.value[8] === '0' ?\n        ''\n        : this.props.value.substr(8, 1)\n        : this.props.value.substr(7, 2);\n\n       const displayValue = formatDate(this.props.value);\n\n       return (\n        <div className='combo-dropdown'>\n                <div>\n                    <input type='text'\n                        readOnly={true}\n                        ref={DatePickerDropdown.datePickerDropDownInputBoxRef}\n                        className='search-input'\n                        value={displayValue}\n                        onBlur={this.handleInputBlur.bind(this)}\n                        onFocus={this.handleInputFocus.bind(this)}\n                        onClick={this.handleInputClick.bind(this)}\n                    />\n                </div>\n                {this.state.showingDropDown ? (\n                    <div className='dropdown'>\n                        <div className='date-picker-dropdown' onMouseDown={this.onDropdownClick.bind(this)}>\n                            <section className='range-type'>\n                                <div className={rangeOptionClassName('<')} onClick={() => this.rangeTypeChanged('<')}>Before</div>\n                                <div className={rangeOptionClassName('=')} onClick={() => this.rangeTypeChanged('=')}>Exactly</div>\n                                <div className={rangeOptionClassName('>')} onClick={() => this.rangeTypeChanged('>')}>After</div>\n                            </section>\n                            <section className='date-select'>\n                                <div className='date-selector day'>\n                                    <label className='small'>Day</label>\n                                    <input type='text' maxLength={2} value={day} onChange={this.dayChanged.bind(this)} />\n                                </div>\n                                <div className='date-selector month'>\n                                    <label className='small'>Month</label>\n                                    <select onChange={this.monthChanged.bind(this)} value={month}>\n                                        <option value='00'>Unknown</option>\n                                        {moment.months().map((month, i) => (\n                                            <option key={`option-${month}`} value={padStart((i + 1).toString(), 2, '0')}>{month}</option>\n                                        ))}\n                                    </select>\n                                </div>\n                                <div className='date-selector year'>\n                                    <label className='small'>Year</label>\n                                    <input type='text' maxLength={4} value={year} onChange={this.yearChanged.bind(this)} />\n                                </div>\n                            </section>\n                        </div>\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/DatePickerDropdown.tsx","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 43\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as moment from 'moment';\n\nexport const formatDate : (s: string | null) => string = (str: string | null) => {\n\n      if (str === null || str.length === 0) {\n          return '';\n      }\n\n      const modifier = {\n            '=': '',\n            '>': 'After ',\n            '<': 'Before '\n        }[str[0]];\n\n        const year = str.substr(1, 4);\n\n        const rawMonth = parseInt(str.substr(5, 2)) - 1;\n        const month = rawMonth === -1 || isNaN(rawMonth) ? 'Unknown' : moment.months()[rawMonth];\n\n        const rawDay = parseInt(str.substr(7, 2));\n        const day = rawDay > 0 ? rawDay : '';\n\n\n        return `${modifier} ${day} ${month} ${year}`;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/common/helper/formatDate.ts","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\ninterface IntegerFieldEditorProps {\n    onChange: (s: string) => void;\n    value: string;\n}\n\nexport const IntegerFieldEditor : React.StatelessComponent<IntegerFieldEditorProps> =\n  (props: IntegerFieldEditorProps)  => {\n\n    const integerFieldChangeHandler = (e) => props.onChange((e.target as HTMLInputElement).value);\n\n    return (\n      <input type='number' value={props.value} onChange={integerFieldChangeHandler} />\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/entity_editor/IntegerFieldEditor.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { createTab } from '../Signaller';\nimport { DataStore } from '../DataStore';\n\ninterface AddTabButtonProps {\n    tabType: string;\n    uid: number;\n    dataStore: DataStore;\n    data?: any;\n}\n\nexport const AddTabButton : React.StatelessComponent<AddTabButtonProps> =\n    (props: AddTabButtonProps, context: any) => {\n\n        if (props.dataStore.tabs[props.tabType] !== undefined\n                && props.dataStore.tabs[props.tabType].has(`${props.tabType}-${props.uid}`)) {\n            return (<i className='fa fa-folder-open-o add button'\n                title='Open item'\n                onClick={() => context.router.transitionTo(`/edit/${props.tabType}/${props.uid}`)}> </i>);\n        }\n\n        return (\n        <i className='icon-list-add add button'\n            title='Add to list'\n            onClick={() => createTab.dispatch(props.tabType, props.uid, 'item', props.data)}></i>\n)};\n\nAddTabButton.contextTypes = {\n    router: React.PropTypes.object.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/AddTabButton.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { EditableSubfieldProps } from '../fields/EditableFieldComponent';\nexport { EditableFieldComponent } from '../fields/EditableFieldComponent';\nimport { ComboDropdown, ComboDropdownOption, ComboDropdownProps } from '../ComboDropdown';\n\ninterface EditableComboDropdownProps extends EditableSubfieldProps<ComboDropdownOption> {\n    comboSettings: ComboDropdownProps;\n}\n\nexport const EditableComboDropdown = (props: EditableComboDropdownProps) => {\n \n    if (props.edit) {\n        return (<div>\n            <ComboDropdown {...props.comboSettings}\n                value={props.value}\n                setValue={props.onChange}\n                allowNew={false}\n                createNewValue={() => {}} />\n            <button><i className='fa fa-check' onClick={props.acceptChanges} aria-hidden='true'></i></button>\n            <button><i className='fa fa-times' aria-hidden='true' onClick={props.cancelChanges}></i></button>\n        </div>\n        );\n    } else {\n        return (\n            <div>\n                {props.value !== null && props.value.key.length > 0 ? props.value.key\n                : (\n                    <em>No value</em>\n                )}\n                <sup>\n                    <i className='fa fa-pencil-square-o'\n                        title='Edit'\n                        aria-hidden='true'\n                        onClick={props.setEdit}>\n                    </i>\n                </sup>\n            </div>\n        );\n    }\n}; \n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/EditableComboDropdown.tsx","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { ApiService, AppUrls } from '../../../ApiService';\nimport { Entity } from 'falcon-core';\n\nimport { AddTabButton } from '../../AddTabButton';\n\nimport { DataStore } from '../../../DataStore';\n\ninterface EntityWorkspaceReferenceViewProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface EntityWorkspaceReferenceViewState {\n\n}\n\n// What can I do?\n// Entity Operations\n// - Delete the entity\n// - Merge the entity\n// - Split the entity\n// - Add 'same-as-ses' to the entity\n// Records\n// - Order records by type, source and date\n// - Add new records\n// - Adding a new predicate creates a new record with the\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\n//   to one of its parents. The range MUST be set.\n// Visualisations:\n// - Network graph of entity relationships\nexport class EntityWorkspaceReferenceView extends React.Component<EntityWorkspaceReferenceViewProps, EntityWorkspaceReferenceViewState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor(props : EntityWorkspaceReferenceViewProps, context: any) {\n        super();\n        this.state = {\n            comboValue: { key: 'test', value: ''},\n            comboSearchValue: ''\n        };\n    }\n\n    public update(data: any) {\n        this.props.api.patchItem(Entity, AppUrls.entity, this.props.id, data);\n    }\n\n    public render() {\n\n        return (\n          <section className='editor-body'>\n            <h2>References</h2>\n            <table className='table'>\n              <thead>\n                <tr>\n                  <th>Entity</th>\n                  <th>Property</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.referenceRecords.map((record) => {\n                  return (<tr key={`record-${record.uid}`}>\n                    <td>{record.entity} <AddTabButton tabType={'entity'} uid={record.entity} dataStore={this.props.dataStore}/></td>\n                    <td>{record.predicate} <AddTabButton\n                      tabType={'predicate'}\n                      uid={record.predicate}\n                      dataStore={this.props.dataStore}/></td>\n                  </tr>);\n                })}\n              </tbody>\n            </table>\n          </section>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/entity/EntityWorkspaceReferenceView.tsx","/**\n * @fileOverview Predicate editor workspace\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport * as React from 'react';\n\nimport { SameAsEditor } from '../fields/SameAsEditor';\nimport { ApiService, AppUrls } from '../../ApiService';\n\nimport { EntityType, Serializer } from 'falcon-core';\n\nimport { AddTabButton } from '../AddTabButton';\n\nimport { EditableHeader, EditableFieldComponent } from '../fields/EditableHeader';\nimport { EditableParagraph } from '../fields/EditableParagraph';\nimport { EditableComboDropdown } from '../fields/EditableComboDropdown';\nimport { ComboDropdownOption } from '../ComboDropdown';\n\nimport { showModal, createTab } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { DataStore } from '../../DataStore';\n\n\nclass StringEditableFieldComponent extends EditableFieldComponent<string> {}\nclass ComboEditableFieldComponent extends EditableFieldComponent<ComboDropdownOption> {}\n\ninterface EntityTypeWorkspaceProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface EntityTypeWorkspaceState {\n}\n\nexport class EntityTypeWorkspace extends React.Component<EntityTypeWorkspaceProps, EntityTypeWorkspaceState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor() {\n        super();\n        this.state = {\n        };\n    }\n\n    public update(data: any) {\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\n        this.props.api.patchItem(EntityType, AppUrls.entity_type, this.props.id, data)\n        .then(() => this.setState({ entityType: Object.assign({}, entityType, data)}));\n    }\n\n\n    public copy() {\n\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\n\n        const newEntityType = Serializer.fromJson(EntityType,\n            Object.assign({}, Serializer.toJson(entityType), { name: 'Copy of ' + entityType.label}));\n\n        this.props.api.postItem(EntityType, AppUrls.entity_type, newEntityType)\n            .then(([id]) => {\n                createTab.dispatch('entity_type', id, 'item');\n        });\n    }\n\n    public del() {\n        this.props.api.delItem(EntityType, AppUrls.entity_type, this.props.id)\n        .then(() => this.context.router.transitionTo('/edit/notfound'))\n        .catch((e) => {\n            e.data.data.then((data) => {\n\n                const conflictResolutionModal : ModalDefinition = {\n                    name: 'conflict_resolution',\n                    cancel: () => {},\n                    complete: (result) => {\n                        if (result === 'addToWorkspace') {\n                            data.entityType.forEach((datum) => {\n                                 createTab.dispatch('entity_type', datum.uid, 'item');\n                            });\n                            data.predicate.forEach((datum) => {\n                                 createTab.dispatch('predicate', datum.uid, 'item');\n                            });\n                            data.entity.forEach((datum) => {\n                                 createTab.dispatch('entity', datum.uid, 'item');\n                            });\n                        }\n                    },\n                    settings: {\n                        conflictingItems: data,\n                        message: 'Deleting Entity Type'\n                    }\n                };\n\n                showModal.dispatch(conflictResolutionModal);\n            });\n        });\n    }\n\n    public createEntity() {\n        const a : ModalDefinition = {\n            name: 'entity',\n            complete: ([id]) => {\n                 createTab.dispatch('entity', id, 'item');\n            },\n            cancel: () => { console.log('cancel'); },\n            settings: {\n                initialName: '',\n                initialType: this.props.id\n            }\n        };\n\n        showModal.dispatch(a);\n    }\n\n    public render() {\n\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\n        const potentialParents = this.props.dataStore.all.entity_type.value;\n\n\n        let parentName = '';\n        if (potentialParents !== null && entityType.parent !== undefined) {\n            const found = potentialParents.find((par) => par.uid === entityType.parent);\n            if (found !== undefined) {\n                parentName = found.label;\n            }\n        }\n\n        return (\n            <div className='workspace-editor'>\n\n                <header className='editor-header entity_type'>\n                  <div className='primary-toolbar'>\n                    <div className='main-toolbar'>\n                        <div className='bread-crumbs'>\n                            {entityType.parents.map((parent, i) => (\n                                <span key={`breadcrumb-${parent.uid}`}>\n                                    <span>  {parent.label} <AddTabButton\n                                        dataStore={this.props.dataStore}\n                                        tabType='entity_type'\n                                        uid={parent.uid} /> </span>\n                                    <i className='fa fa-angle-right'></i>\n                                </span>\n                            ))}\n                        </div>\n                        <i className='fa fa-tag item-icon'></i>\n                        <StringEditableFieldComponent\n                            value={entityType.label}\n                            component={EditableHeader}\n                            onChange={(value) => this.update({'label': value})}  />\n                    </div>\n                    <div className='sub-toolbar'>\n                        <i\n                            className='fa fa-plus add button'\n                            aria-hidden='true'\n                            onClick={this.createEntity.bind(this)}\n                        ></i>\n                         <i\n                            className='fa fa-trash delete button'\n                            aria-hidden='true'\n                            onClick={this.del.bind(this)}\n                        ></i>\n                        <i\n                            className='fa fa-clone button'\n                            aria-hidden='true'\n                            onClick={this.copy.bind(this)}\n                        ></i>\n                    </div>\n                  </div>\n                </header>\n\n                <section className='editor-body'>\n\n                    <div className='edit-group'>\n\n                        <label className='small'>Parent</label>\n                        <ComboEditableFieldComponent\n                            value={entityType.parent === null ? null : {key: parentName, value: entityType.parent}}\n                            component={EditableComboDropdown}\n                            onChange={(value) => this.update({'parent': value === null ? null : value.value})}\n                            additionalProps={{ comboSettings: {\n                                options: potentialParents.map((par) => ({ key: par.label, value: par.uid})),\n                                typeName: 'EntityType'\n                            }}} />\n                        {entityType.parent !== null ? (<AddTabButton\n                            tabType='entity_type'\n                            dataStore={this.props.dataStore}\n                            uid={entityType.parent} />) : null}\n                    </div>\n\n                    <div className='edit-group'>\n                        <label className='small'>Description</label>\n                        <StringEditableFieldComponent\n                            value={entityType.description}\n                            component={EditableParagraph}\n                            onChange={(value) => this.update({'description': value})}  />\n                    </div>\n\n                    <div className='edit-group'>\n                        <StringEditableFieldComponent\n                            value={entityType.sameAs}\n                            component={SameAsEditor}\n                            onChange={(value) => this.update({'sameAs': value})} />\n                    </div>\n\n                    <div>\n                        <h4>Direct Children</h4>\n                        <ul>\n                        {entityType.children\n                            .map((child) => this.props.dataStore.all.entity_type.value.find((et) => et.uid === child))\n                            .map((childEt) =>\n                                (<li key={`dc-${childEt.label}`}>{childEt.label} <AddTabButton\n                                    tabType='entity_type'\n                                    dataStore={this.props.dataStore}\n                                    uid={childEt.uid} /></li>\n                            ))}\n                        </ul>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/EntityTypeWorkspace.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { omit } from 'lodash';\n\nimport * as mousetrap from 'mousetrap';\n\nimport { EditableSubfieldProps } from './EditableFieldComponent';\n\ninterface SameAsEditorState {\n    temporaryValue: string;\n    urls: string[];\n}\n\nexport class SameAsEditor extends React.Component<EditableSubfieldProps<string>, SameAsEditorState> {\n\n    private keyboardShortcuts;\n\n    constructor(props: EditableSubfieldProps<string>) {\n        super();\n        this.state = {\n            temporaryValue: '',\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\n        };\n    }\n\n    public componentWillReceiveProps(props: EditableSubfieldProps<string>) {\n        this.setState({\n            temporaryValue: '',\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\n        });\n    }\n\n    public addItemToList() {\n        if (this.state.temporaryValue.length === 0) {\n            return;\n        }\n        this.setState({ urls: this.state.urls.concat([this.state.temporaryValue]), temporaryValue: ''},\n            () => this.props.onChange(this.state.urls.join(',')));\n    }\n\n    public removeItemFromList(itemId: number) {\n        this.setState({\n            urls: this.state.urls.filter((val, i) => i !== itemId)\n        }, () => this.props.onChange(this.state.urls.join(',')));\n    }\n\n    public setupKeyboardShortcuts(val: null | HTMLElement ) {\n        if (val !== null) {\n            val.focus();\n            this.keyboardShortcuts = new mousetrap(val);\n            this.keyboardShortcuts.bind('return', this.addItemToList.bind(this));\n            this.keyboardShortcuts.bind('escape', this.props.cancelChanges);\n            this.keyboardShortcuts.bind('ctrl+s', (e) => {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    // internet explorer\n                    e.returnValue = false;\n                }\n                this.props.acceptChanges();\n            });\n        } else {\n            this.keyboardShortcuts.unbind('return');\n            this.keyboardShortcuts.unbind('escape');\n            this.keyboardShortcuts.unbind('ctrl+s');\n        }\n    }\n\n    public render() {\n\n        return (\n        <div className='same-as-box'>\n            <label className='small'>Same As {!this.props.edit ? (\n                <sup>\n                    <i className='fa fa-pencil-square-o'\n                        title='Edit'\n                        aria-hidden='true'\n                        onClick={this.props.setEdit}>\n                    </i>\n                </sup>\n            ) : null }</label>\n            {this.props.edit ? (\n                <div className='edit-group'>\n                    <button onClick={this.props.acceptChanges}><i className='fa fa-check' aria-hidden='true'></i></button>\n                    <button onClick={this.props.cancelChanges}><i className='fa fa-times' aria-hidden='true'></i></button>\n                    <div className='input-addon-formgroup'>\n                        <input type='text' value={this.state.temporaryValue}\n                            ref={this.setupKeyboardShortcuts.bind(this)}\n                            onChange={(e) => this.setState({ temporaryValue: e.target.value })}\n                            className='form-control with-addon' />\n                        <span className='input-addon-icon right button' onClick={this.addItemToList.bind(this)}>\n                            <i className='fa fa-plus'></i>\n                        </span>\n                    </div>\n                </div>\n            ) : null}\n            <ul className='same-as-list'>\n                {this.state.urls.map((url, i) => (\n                    <li key={`li-${url}`}><a target='_blank' href={url}>{url}</a> {this.props.edit ? (<i \n                        className='fa fa-times close-button'\n                        onClick={this.removeItemFromList.bind(this,i)}></i>) : null}</li>\n                ))}\n            </ul>\n        </div>);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/SameAsEditor.tsx","module.exports = require(\"mousetrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mousetrap\"\n// module id = 51\n// module chunks = 0","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { EditableSubfieldProps } from './EditableFieldComponent';\nexport { EditableFieldComponent } from './EditableFieldComponent';\n\nimport * as mousetrap from 'mousetrap';\n\nexport const EditableParagraph : React.StatelessComponent<EditableSubfieldProps<string>> =\n    (props: EditableSubfieldProps<string>) => {\n\n    let keyBoardShortcuts;\n\n    const bindKeyboard = (val) => {\n        if (val !== null) {\n            val.focus();\n            keyBoardShortcuts = new mousetrap(val);\n            keyBoardShortcuts.bind('ctrl+return', props.acceptChanges);\n            keyBoardShortcuts.bind('escape', props.cancelChanges);\n        } else {\n            keyBoardShortcuts.unbind('ctrl+return');\n        }\n    };\n\n    if (!props.edit) {\n        return (\n            <div onClick={props.setEdit} className='editable-paragraph-box'>\n                <p>\n                    {props.value === null || props.value.length > 0 ? props.value\n                    : (\n                        <em>No value</em>\n                    )}\n                    <sup>\n                        <i className='fa fa-pencil-square-o'\n                            title='Edit'\n                            aria-hidden='true'\n                            >\n                        </i>\n                    </sup>\n                </p>\n            </div>\n        );\n    } else {\n        return (\n            <div>\n                <textarea\n                    value={props.value}\n                    ref={bindKeyboard}\n                    onChange={(e) => props.onChange((e.target as HTMLInputElement).value)}\n                    style={{ width: '100%', height: '6em'}}></textarea>\n                <button onClick={props.acceptChanges}>\n                    <i className='fa fa-check' aria-hidden='true'></i></button>\n                <button onClick={props.cancelChanges}><i className='fa fa-times' aria-hidden='true'></i></button>\n            </div>\n        );\n    }\n };\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/EditableParagraph.tsx","/**\n * @fileOverview Predicate editor workspace\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport * as React from 'react';\n\nimport { SameAsEditor } from '../fields/SameAsEditor';\nimport { Loading } from '../Loading';\nimport { ApiService, AppUrls } from '../../ApiService';\n\nimport { Source, Serializer, Element, SourceElement, Record } from 'falcon-core';\n\nimport { EditableHeader, EditableFieldComponent } from '../fields/EditableHeader';\nimport { EditableParagraph } from '../fields/EditableParagraph';\nimport { EditableComboDropdown } from '../fields/EditableComboDropdown';\nimport { ComboDropdownOption } from '../ComboDropdown';\n\nimport { keyBy, Dictionary } from 'lodash';\n\nimport { showModal, createTab } from '../../Signaller';\n\nimport { DataStore } from '../../DataStore';\nimport { AddTabButton } from '../AddTabButton';\n\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nclass StringEditableFieldComponent extends EditableFieldComponent<string> {}\nclass ComboEditableFieldComponent extends EditableFieldComponent<ComboDropdownOption> {}\n\ninterface SourceEditorProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface SourceEditorState {\n    metaData: _.Dictionary<SourceElement>;\n}\n\n// - Should state the number of times this predicate is used\n// - Widening the domain or range always okay\n// - Narrowing should check for conflicts and return them\n// - Asks 'Delete conflicting records?'\n// - Strong check (double button press or type) to confirm\n// - Changing name/description/sameAs - absolutly fine\n// - Cannot change 'readonly'\nexport class SourceEditorWorkspace extends React.Component<SourceEditorProps, SourceEditorState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor() {\n        super();\n        this.state = {\n            metaData: {}\n        };\n    }\n\n    public componentDidMount() {\n        this.loadData(this.props);\n    }\n\n    public componentWillReceiveProps(newProps: SourceEditorProps)  {\n        this.loadData(newProps);\n    }\n\n\n    public loadData(props: SourceEditorProps) {\n\n        const source = props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\n\n        this.setState({\n            metaData: keyBy(source.metaData, 'name')\n        });\n    }\n\n    public updateSource(field: string, value: string) {\n\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\n\n        this.props.api.patchItem(Source, AppUrls.source, source.uid, { [field]: value })\n        //.then((success) => {\n\n            // const updatedSource = new Source().deserialize(Object.assign({},\n            //     source.serialize(), { [field]: value }));\n\n            // this.setState({\n            //     source: updatedSource,\n            //     metaData: keyBy(updatedSource.metaData, 'name')\n            // });\n        //});\n    }\n\n    public updateSourceElement(element: Element, value: string) {\n\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\n\n        const compositeKey = {\n            order: ['source', 'element'],\n            values: {\n                source: this.props.id,\n                element: element.uid\n            }\n        };\n\n        if (source.metaData[element.label] !== undefined\n            && source.metaData[element.label].values.find((a) => a.source === this.props.id) !== undefined) {\n\n            this.props.api.patchItem(SourceElement, AppUrls.source_element,\n            compositeKey,\n                Serializer.fromJson(SourceElement, {\n                    uid: compositeKey,\n                    element: source.metaData[element.label].element_uid,\n                    source: this.props.id,\n                    value\n                }));\n        } else {\n            this.props.api.postItem(SourceElement, AppUrls.source_element,\n                Serializer.fromJson(SourceElement, {\n                    uid: compositeKey,\n                    value: value\n                }));\n        }\n    }\n\n    public del() {\n        this.props.api.delItem(Source, AppUrls.source, this.props.id)\n        .then(() => this.context.router.transitionTo('/edit/notfound'))\n        .catch((e) => {\n            e.data.data.then((data) => {\n\n                const conflictResolutionModal : ModalDefinition = {\n                    name: 'conflict_resolution',\n                    cancel: () => {},\n                    complete: (result) => {\n                        if (result === 'addToWorkspace') {\n                            data.source.forEach((datum) => {\n                                 createTab.dispatch('source', datum.uid, 'item');\n                            });\n                        }\n\n                        if (result === 'deleteAll') {\n                            Promise.all(data.source.map((datum) => this.props.api.delItem(Source, AppUrls.source, datum.uid)))\n                            .then(() => {\n                                this.del();\n                            });\n                        }\n                    },\n                    settings: {\n                        conflictingItems: data,\n                        message: 'Deleting Source'\n                    }\n                };\n\n                showModal.dispatch(conflictResolutionModal);\n            });\n        });\n    }\n\n\n    public createChild() {\n\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\n\n        const newSource = Serializer.fromJson(Source,\n            Object.assign({}, Serializer.toJson(source), { name: 'Child of ' + source.label, parent: this.props.id }));\n\n        this.props.api.postItem(Source, AppUrls.source, newSource)\n            .then(([id]) => {\n                createTab.dispatch('source', id, 'item');\n        });\n    }\n\n    // create entity with 'mentioned in' already set to this source\n    public createEntity() {\n        const a : ModalDefinition = {\n            name: 'preset_record',\n            complete: ([id]) => {\n                 createTab.dispatch('entity', id, 'item');\n            },\n            cancel: () => { },\n            settings: {\n                source: this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source\n            }\n        };\n\n        showModal.dispatch(a);\n    }\n\n    public render() {\n\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\n        const potentialParents = this.props.dataStore.all.source.value;\n\n        let parentName = '';\n        if (potentialParents !== null && source.parent !== undefined) {\n            const found = potentialParents.find((par) => par.uid === source.parent);\n            if (found !== undefined) {\n                parentName = found.label;\n            }\n        }\n\n        return (\n            <div className='workspace-editor'>\n                <header className='editor-header source'>\n                  <div className='primary-toolbar'>\n                    <div className='main-toolbar'>\n                        <div className='bread-crumbs'>\n                            {source.parents\n                                .slice()\n                                .reverse()\n                                .map((child) => this.props.dataStore.all.source.value.find((et) => et.uid === child))\n                                .map((parent, i) => (\n                                <span key={`breadcrumb-${parent.uid}`}>\n                                    <span>  {parent.label} <AddTabButton\n                                        dataStore={this.props.dataStore}\n                                        tabType='source'\n                                        uid={parent.uid} /> </span>\n                                    <i className='fa fa-angle-right'></i>\n                                </span>\n                            ))}\n                        </div>\n                        <i className='fa fa-sun-o item-icon'></i>\n                        <StringEditableFieldComponent\n                            value={source.label}\n                            component={EditableHeader}\n                            onChange={(value) => this.updateSource('label', value)}  />\n                    </div>\n                    <div className='sub-toolbar'>\n                        <i\n                            className='fa fa-plus add button'\n                            aria-hidden='true'\n                            onClick={this.createEntity.bind(this)}\n                        ></i>\n                        <i\n                            className='fa fa-trash delete button'\n                            aria-hidden='true'\n                            onClick={() => this.del()}\n                        ></i>\n                        <i\n                            className='fa fa-arrow-circle-o-down button'\n                            aria-hidden='true'\n                            onClick={this.createChild.bind(this)}\n                        ></i>\n                    </div>\n                  </div>\n                </header>\n\n                <section className='editor-body'>\n\n                    <div className='edit-group'>\n                        <label className='small'>Parent</label>\n                        <ComboEditableFieldComponent\n                            value={{key: parentName, value: source.parent}}\n                            component={EditableComboDropdown}\n                            onChange={(value) => this.updateSource('parent', value.value)}\n                            additionalProps={{ comboSettings: {\n                                options: potentialParents.map((par) => ({ key: par.label, value: par.uid})),\n                                typeName: 'Source'\n                            }}} />\n                            {source.parent !== null ? (<AddTabButton\n                                dataStore={this.props.dataStore}\n                                tabType='source'\n                                uid={source.parent} />) : null}\n                    </div>\n\n                    <div className='edit-group'>\n                        <StringEditableFieldComponent\n                            value={source.sameAs}\n                            component={SameAsEditor}\n                            onChange={(value) => this.updateSource('sameAs', value)} />\n                    </div>\n\n                    {this.props.dataStore.all.dublinCore.value.elements.map((element) => {\n\n                        const values = source.metaData.hasOwnProperty(element.label) ?\n                            source.metaData[element.label].values : [{ source: this.props.id, value: ''}];\n                        const editableValue = values[0].source == this.props.id ? values[0].value : '';\n\n                        return (\n                            <div key={`${element.label}-edit`}>\n                                <h5 className='section-header'>{element.label} <small><a href={element.url}>{element.uri}</a></small></h5>\n                                <p className='element-description'>{element.description}</p>\n                                <ul>\n                                    {values.map((value) => value.source != this.props.id ? (\n                                        <li key={`${element.uid}-${value.source}`}>{\n                                            this.props.dataStore.all.source.value.find((s) => s.uid === value.source).label\n                                        }: {value.value}</li>\n                                    ) : null)}\n                                </ul>\n                                <StringEditableFieldComponent\n                                    value={editableValue}\n                                    component={EditableParagraph}\n                                    onChange={(value) => this.updateSourceElement(element, value)}  />\n                            </div>\n                        );\n                    })}\n\n                    <div>\n                        <h4>Direct Children</h4>\n                        <ul>\n                        {source.children\n                            .map((child) => this.props.dataStore.all.source.value.find((et) => et.uid === child))\n                            .map((childEt) =>\n                                (<li key={`dc-${childEt.uid}`}>{childEt.label} <AddTabButton\n                                    tabType='source'\n                                    dataStore={this.props.dataStore}\n                                    uid={childEt.uid} /></li>\n                            ))}\n                        </ul>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/SourceEditorWorkspace.tsx","/**\n * @fileOverview Predicate editor workspace\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\nimport { SameAsEditor } from '../fields/SameAsEditor';\nimport { Loading } from '../Loading';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { showModal, createTab } from '../../Signaller';\n\nimport { Predicate, Serializer, Record } from 'falcon-core';\n\nimport { EditableHeader, EditableFieldComponent } from '../fields/EditableHeader';\nimport { EditableParagraph } from '../fields/EditableParagraph';\nimport { PredicateDescription } from '../fields/PredicateDescription';\nimport { ComboDropdownOption } from '../ComboDropdown';\n\nimport { literalTypes } from '../../literalTypes';\n\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { DataStore } from '../../DataStore';\n\nclass StringEditableFieldComponent extends EditableFieldComponent<string> {}\n\ninterface PredicateEditorProps {\n    api: ApiService;\n    id: number;\n    dataStore: DataStore;\n}\n\ninterface PredicateEditorState {\n    records: Record[];\n}\n\n// - Should state the number of times this predicate is used\n// - Widening the domain or range always okay\n// - Narrowing should check for conflicts and return them\n// - Asks 'Delete conflicting records?'\n// - Strong check (double button press or type) to confirm\n// - Changing name/description/sameAs - absolutly fine\n// - Cannot change 'readonly'\nexport class PredicateEditorWorkspace extends React.Component<PredicateEditorProps, PredicateEditorState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor() {\n        super();\n        this.state = {\n            records: []\n        };\n    }\n\n    public componentDidMount() {\n        this.loadData(this.props);\n    }\n\n    public componentWillReceiveProps(newProps: PredicateEditorProps) {\n        this.loadData(newProps);\n    }\n\n    public loadData(props: PredicateEditorProps) {\n        // Promise.all([\n        //     props.api.getCollection(Record, AppUrls.record, { predicate: props.id })\n        // ]).then(([records]) => {\n        //     this.setState({ records });\n        // });\n    }\n\n    public updatePredicate(field: string, value: string, rangeIsReferenceOverride: boolean | null = null) {\n\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\n\n        if (predicate === null) {\n            console.warn('Tried to edit unready predicate');\n            return;\n        }\n\n        const rangeIsReferenceVal = rangeIsReferenceOverride === null\n            ? predicate.rangeIsReference : rangeIsReferenceOverride;\n\n        this.props.api.patchItem(Predicate, AppUrls.predicate, predicate.uid,\n        {\n            [field]: value,\n            rangeIsReference: rangeIsReferenceVal\n        });\n    }\n\n    public copy() {\n\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\n\n        const newPredicate = Serializer.fromJson(Predicate,\n            Object.assign({}, Serializer.toJson(predicate), { name: 'Copy of ' + predicate.label}));\n\n        this.props.api.postItem(Predicate, AppUrls.predicate, newPredicate)\n            .then(([id]) => {\n                createTab.dispatch('predicate', id, 'item');\n        });\n    }\n\n    public del() {\n        this.props.api.delItem(Predicate, AppUrls.predicate, this.props.id)\n        .then(() => this.context.router.transitionTo('/edit/notfound'))\n        .catch((e) => {\n            e.data.data.then((data) => {\n\n                const conflictResolutionModal : ModalDefinition = {\n                    name: 'conflict_resolution',\n                    cancel: () => {},\n                    complete: (result) => {\n                        if (result === 'addToWorkspace') {\n                            data.forEach((datum) => {\n                                 createTab.dispatch('entity', datum.entity, 'item');\n                            });\n                        }\n\n                        if (result === 'deleteAll') {\n                            Promise.all(data.record.map((datum) => this.props.api.delItem(Record, AppUrls.record, datum.uid)))\n                            .then(() => {\n                                this.del();\n                            });\n                        }\n                    },\n                    settings: {\n                        conflictingItems: data,\n                        message: 'Deleting Predicate'\n                    }\n                };\n\n                showModal.dispatch(conflictResolutionModal);\n            });\n        });\n    }\n\n    public render() {\n\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\n        const entityTypes = this.props.dataStore.all.entity_type.value;\n\n        const currentDomainEntityType = entityTypes.find((t) => t.uid == predicate.domain);\n\n        let currentDomainEntityTypeName = '';\n\n        if (currentDomainEntityType !== undefined) {\n            currentDomainEntityTypeName = currentDomainEntityType.label;\n        }\n\n        const domain : ComboDropdownOption = {key: currentDomainEntityTypeName, value: predicate.domain.toString()};\n\n        const range : ComboDropdownOption = {key: '', value: predicate.range.toString()};\n\n        if (predicate.rangeIsReference) {\n            const currentRangeEntityType =\n                entityTypes.find((t) => t.uid == predicate.range);\n\n            if (currentRangeEntityType !== undefined) {\n                range.key = currentRangeEntityType.label;\n            }\n\n        } else {\n            const literalType = literalTypes.find((t) => t.value === predicate.range);\n            if (literalType !== undefined) {\n                range.key = literalType.label;\n            }\n        }\n\n        const entityTypeOptions = entityTypes.map((t) => {\n            if (t.uid === null) {\n                throw new Error('Encountered entity type with no id!');\n            }\n            return { key: t.label, value: t.uid.toString() };\n        });\n\n        const literalTypeOptions = literalTypes.map((t) => ({ key: t.label, value: t.value, meta: 'literal'}));\n\n        return (\n            <div className='workspace-editor'>\n                <header className='editor-header predicate'>\n                  <div className='primary-toolbar'>\n                    <div className='main-toolbar'>\n                        <i className='fa fa-long-arrow-right item-icon'></i>\n                        <StringEditableFieldComponent\n                            value={predicate.label}\n                            component={EditableHeader}\n                            onChange={(value) => this.updatePredicate('label', value)}  />\n                    </div>\n                    <div className='sub-toolbar'>\n                        <i\n                            className='fa fa-trash delete button'\n                            aria-hidden='true'\n                            onClick={this.del.bind(this)}\n                        ></i>\n                        <i\n                            className='fa fa-clone button'\n                            aria-hidden='true'\n                            onClick={this.copy.bind(this)}\n                        ></i>\n                    </div>\n                  </div>\n                </header>\n\n                <section className='editor-body'>\n\n                    <div><Link to={`/edit/entity?col1p=${this.props.id}&col1f=exists`}>Uses: {this.state.records.length}</Link></div>\n\n                    <div className='edit-group'>\n                        <label className='small'>Description</label>\n                        <StringEditableFieldComponent\n                            value={predicate.description}\n                            component={EditableParagraph}\n                            onChange={(value) => this.updatePredicate('description', value)}  />\n                    </div>\n\n                    <div className='edit-group'>\n                        <label className='small'>Typing</label>\n                        <PredicateDescription\n                            domain={domain}\n                            range={range}\n                            domainChanged={(value) => this.updatePredicate('domain', value.value)}\n                            rangeChanged={(value) => this.updatePredicate('range', value.value, value.meta !== 'literal')}\n                            mode='editSingle'\n                            domainOptions={entityTypeOptions}\n                            rangeOptions={literalTypeOptions.concat(entityTypeOptions)}\n                        />\n                    </div>\n\n                    <div>\n                        <StringEditableFieldComponent\n                            value={predicate.sameAs}\n                            component={SameAsEditor}\n                            onChange={(value) => this.updatePredicate('sameAs', value)} />\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/PredicateEditorWorkspace.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\nimport { noop } from 'lodash';\n\ninterface PredicateDescriptionProps {\n    domain: ComboDropdownOption;\n    range: ComboDropdownOption;\n    mode: 'editAll' | 'editSingle';\n    domainChanged: (s: ComboDropdownOption) => void;\n    rangeChanged: (s: ComboDropdownOption) => void;\n    domainOptions: ComboDropdownOption[];\n    rangeOptions: ComboDropdownOption[];\n}\n\ninterface PredicateDescriptionState {\n    editingDomain: boolean;\n    editingRange: boolean;\n    domainValue: ComboDropdownOption;\n    rangeValue: ComboDropdownOption;\n}\n\nexport class PredicateDescription extends React.Component<PredicateDescriptionProps, PredicateDescriptionState> {\n\n    constructor() {\n        super();\n        this.state = {\n            editingDomain: false,\n            editingRange: false,\n            rangeValue: {key: '', value: ''},\n            domainValue: {key: '', value: ''}\n        };\n    }\n\n    public componentWillMount() {\n        this.setState({\n            rangeValue: this.props.range,\n            domainValue: this.props.domain\n        });\n    }\n\n    public componentWillReceiveProps(newProps: PredicateDescriptionProps) {\n        this.setState({\n            rangeValue: newProps.range,\n            domainValue: newProps.domain\n        });\n    }\n\n    public acceptDomainChanges() {\n        this.props.domainChanged(this.state.domainValue);\n        this.setState({ editingDomain: false});\n    }\n\n    public cancelDomainChanges() {\n        this.setState({ editingDomain: false, domainValue: this.props.domain});\n    }\n\n    public acceptRangeChanges() {\n        this.props.rangeChanged(this.state.rangeValue);\n        this.setState({ editingRange: false});\n    }\n\n    public cancelRangeChanges() {\n        this.setState({ editingDomain: false, rangeValue: this.props.range});\n    }\n\n    public render() {\n\n        const domainChanged = this.props.mode === 'editAll' ?\n            this.props.domainChanged : (c) => this.setState({ domainValue: c });\n\n        const rangeChanged = this.props.mode === 'editAll' ?\n            this.props.rangeChanged : (c) => this.setState({ rangeValue: c });\n\n        return (\n        <div className='predicate-function-description'>\n            <div className='domain'>\n                {this.props.mode === 'editAll' || this.state.editingDomain ? (\n                <div>\n                    <label className='small'>Domain</label>\n                    <ComboDropdown\n                        options={this.props.domainOptions}\n                        typeName='entity type'\n                        allowNew={false}\n                        value={this.state.domainValue}\n                        setValue={domainChanged}\n                        createNewValue={noop} />\n                    {this.props.mode === 'editSingle' ? (\n                        <div>\n                            <button onClick={this.acceptDomainChanges.bind(this)}>\n                                <i className='fa fa-check' aria-hidden='true'></i>\n                            </button>\n                            <button onClick={this.cancelDomainChanges.bind(this)}>\n                                <i className='fa fa-times' aria-hidden='true'></i>\n                            </button>\n                        </div>\n                    ) : null}\n                </div>\n                ) : (<div>{this.props.domain.key} <i className='fa fa-pencil-square-o'\n                    title='Edit'\n                    aria-hidden='true'\n                    onClick={() => this.setState({ editingDomain: true })}>\n                </i></div>)}\n            </div>\n            <div className='arrow'><i className='fa fa-long-arrow-right' aria-hidden='true'></i></div>\n            <div className='range'>\n                {this.props.mode === 'editAll' || this.state.editingRange ? (\n                    <div>\n                        <label className='small'>Range</label>\n                        <ComboDropdown\n                            options={this.props.rangeOptions}\n                            typeName='entity type'\n                            allowNew={false}\n                            value={this.state.rangeValue}\n                            setValue={rangeChanged}\n                            createNewValue={noop} />\n                        {this.props.mode === 'editSingle' ? (\n                        <div>\n                            <button  onClick={this.acceptRangeChanges.bind(this)}>\n                                <i className='fa fa-check' aria-hidden='true'></i>\n                            </button>\n                            <button  onClick={this.cancelRangeChanges.bind(this)}>\n                                <i className='fa fa-times' aria-hidden='true'></i>\n                            </button>\n                        </div>\n                    ) : null}\n                    </div>\n                ) : (<div>{this.props.range.key} <i className='fa fa-pencil-square-o'\n                    title='Edit'\n                    aria-hidden='true'\n                    onClick={() => this.setState({ editingRange: true })}>\n                </i></div>)}\n            </div>\n        </div>);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/fields/PredicateDescription.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nexport const literalTypes: { label: string, value: string, url: string, description: string }[] = [\n    { label: 'text', value: 'string', url: '', description: 'some text' },\n    { label: 'number', value: 'integer', url: '', description: 'a number' },\n    { label: 'date', value: 'date', url: '', description: 'a date'},\n   // { name: 'point', value: 'point', url: '', description: 'a point on a map '},\n   // { name: 'region', value: 'region', url: '', description: 'a region on a map'},\n    { label: 'source', value: 'source', url: '', description: 'a source in the database'}\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/literalTypes.ts","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ApiService } from '../../ApiService';\n\ninterface AdvancedSearchWorkspaceProps {\n    api: ApiService;\n}\n\nexport const AdvancedSearchWorkspace : React.StatelessComponent<AdvancedSearchWorkspaceProps> =\n    (props: AdvancedSearchWorkspaceProps) => (\n    <div className='workspace-editor'>\n        <h2>Advanced Search</h2>\n    </div>\n);\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/AdvancedSearchWorkspace.tsx","/**\n * @fileOverview Empty workspace for when nothing is open!\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { ApiService } from '../../ApiService';\n\nimport { EntityList } from '../object_list/EntityList';\nimport { PredicateList } from '../object_list/PredicateList';\nimport { SourceList } from '../object_list/SourceList';\nimport { EntityTypeList } from '../object_list/EntityTypeList';\n\nimport { DataStore } from '../../DataStore';\n\ninterface ObjectListWorkspaceProps {\n    api: ApiService;\n    name: string;\n    listType: string;\n    dataStore: DataStore;\n    query: any;\n}\n\nexport const ObjectListWorkspace : React.StatelessComponent<ObjectListWorkspaceProps> =\n    (props: ObjectListWorkspaceProps) => (\n    <div className='workspace-editor object-list'>\n        {(() => {\n            switch(props.listType) {\n                case 'entity':\n                    return (<EntityList api={props.api} query={props.query} dataStore={props.dataStore} />);\n                case 'source':\n                    return (<SourceList api={props.api} dataStore={props.dataStore} />);\n                case 'predicate':\n                    return (<PredicateList api={props.api} dataStore={props.dataStore} />);\n                case 'entity_type':\n                    return (<EntityTypeList api={props.api} dataStore={props.dataStore} />);\n            }\n        })()}\n    </div>\n);\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/workspace/ObjectListWorkspace.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport * as lev from 'levenshtein';\n\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { Entity, EntityType, Predicate, Record } from 'falcon-core';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\nimport { noop, cloneDeep, isUndefined } from 'lodash';\n\nimport { AddTabButton } from '../AddTabButton';\n\nimport { showModal, createTab } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { formatDate } from '../../helper/formatDate';\n\ninterface EntityListProps {\n    api: ApiService;\n    dataStore: DataStore;\n    query: any;\n}\n\ninterface ColumnSettings {\n    predicate: number;\n    sort: 'none' | 'asc' | 'desc';\n    filterType: 'any' | 'exists' | 'contains' | 'similar';\n    invertFilter: boolean;\n    filterValue: string;\n}\n\ninterface EntityListState {\n    entities: Entity[];\n    entityTypes: EntityType[];\n    predicates: Predicate[];\n    columns: ColumnSettings[];\n    results: Record[];\n    entityType: ComboDropdownOption;\n    queryData: any;\n}\n\nconst sortIcons = {\n    'none': 'fa fa-sort',\n    'asc': 'fa fa-sort-asc',\n    'desc': 'fa fa-sort-desc'\n};\n\nconst customColumns = (predicates, columns, updateColumnParams, rotateSort) => {\n    return [0, 1, 2].map((id) => {\n\n        const comboValue = { key: '', value: ''};\n\n        if (columns[id].predicate !== -1) {\n            const thisPred = predicates.find((pred) => pred.uid == columns[id].predicate);\n            if (thisPred !== undefined) {\n                comboValue.key = thisPred.label;\n            }\n            comboValue.value = columns[id].predicate;\n        }\n\n        return (\n            <td key={`col-${id}`}>\n                <div className='list-combo-header'>\n                    <div className='combo-wrapper'>\n                        <ComboDropdown\n                            value={comboValue}\n                            typeName='predicate'\n                            allowNew={false}\n                            setValue={(value) => updateColumnParams(id, 'p' , value === null ? null : value.value)}\n                            options={predicates.map((pred) => ({ key: pred.label, value: pred.uid.toString()}))}\n                            createNewValue={noop}\n                            compact={true}\n                        />\n                    </div>\n                    <div className='order-wrapper'>\n                        <i className={sortIcons[columns[id].sort]} onClick={() => rotateSort(id)}></i>\n                    </div>\n                </div>\n            </td>\n        );\n    });\n};\n\nexport class EntityList extends React.Component<EntityListProps, EntityListState> {\n\n    public static contextTypes = {\n        router: React.PropTypes.object.isRequired\n    };\n\n    constructor(props: EntityListProps) {\n        super();\n        this.state = {\n            entities: [],\n            entityTypes: [],\n            predicates: [],\n            columns: [\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' }\n            ],\n            results: [],\n            entityType: { key: 'Any', value: 0}\n        };\n    }\n\n    public componentDidMount() {\n      this.update(this.props);\n    }\n\n    public componentWillReceiveProps(newProps: EntityListProps) {\n      this.update(newProps);\n    }\n\n    public update(props: EntityListProps) {\n        const queryStringOptions = props.query;\n        const columns = cloneDeep(this.state.columns);\n        if (queryStringOptions !== null) {\n            for (let i = 1; i < 4; i += 1 ) {\n              columns[i - 1].predicate = queryStringOptions[`col${i}p`] || null;\n              columns[i - 1].sort = queryStringOptions[`col${i}s`] || null;\n              columns[i - 1].filterType = queryStringOptions[`col${i}f`] || '';\n              columns[i - 1].filterValue = queryStringOptions[`col${i}v`] || '';\n              columns[i - 1].invertFilter = queryStringOptions[`col${i}i`] || null;\n            }\n        }\n         this.setState({\n            columns,\n            queryData: queryStringOptions === null ? {} : queryStringOptions,\n        }, this.reload.bind(this));\n    }\n\n    public reload() {\n\n        const setColumns = this.state.columns.filter((col) => col.predicate != -1);\n\n        this.props.api.getCollection(Record, AppUrls.record, {\n            predicate: setColumns.map((col) => col.predicate),\n            entity: this.props.dataStore.all.entity.value.map((entity) => entity.uid)\n        })\n        .then((results) => this.setState({ results }));\n    }\n\n    public addNew() {\n        const a : ModalDefinition = {\n            name: 'entity',\n            complete: () => {\n            },\n            cancel: () => { console.log('cancel'); },\n            settings: {\n                initialName: ''\n            }\n        };\n\n        showModal.dispatch(a);\n    }\n\n    public updateColumnParams(colId: number, key: string, value: any) {\n        this.context.router.transitionTo({\n          pathname: '/edit/entity',\n          query: Object.assign(this.state.queryData, { [`col${colId + 1}${key}`]: value })\n        });\n    }\n\n    public rotateSort(colId: number) {\n        const columns = cloneDeep(this.state.columns);\n        switch (columns[colId].sort) {\n            case 'none':\n                columns[colId].sort = 'asc';\n                break;\n            case 'asc':\n                columns[colId].sort = 'desc';\n                break;\n            case 'desc':\n                columns[colId].sort = 'none';\n        }\n        this.setState({\n            columns\n        }, this.reload.bind(this));\n    }\n\n    public addViewTab() {\n      createTab.dispatch('entity', Date.now(), 'view', this.state.queryData);\n    }\n\n    public render() {\n\n        const entities = this.props.dataStore.all.entity.value;\n        const predicates = this.props.dataStore.all.predicate.value;\n        const entityTypes = this.props.dataStore.all.entity_type.value;\n\n        const entityTypeOptions = entityTypes.map((entityType) => ({ key: entityType.label, value: entityType.uid}));\n\n        const tableData = entities.map((entity) => {\n            const entityType = entityTypes.find((t) => t.uid === entity.entityType);\n            const entityData = this.state.results.filter((res) => res.entity === entity.uid);\n\n            return {\n                uid: entity.uid,\n                label: entity.label,\n                entityType,\n                columns: this.state.columns.map((col) => {\n                        let value = '';\n\n                        if (entityData !== undefined && col.predicate !== -1) {\n                            const predicateData = entityData\n                            .filter((record) => record.predicate == col.predicate);\n\n                            if (predicateData !== undefined) {\n                                value = predicateData.map((pred) => {\n\n                                    if (pred.valueType === 'date') {\n                                        return formatDate(pred.value);\n                                    }\n\n                                    if (pred.valueType === 'source') {\n                                        if (pred.value === null) {\n                                            return 'Not set';\n                                        }\n                                        return this.props.dataStore.all.source.value.find((source) => source.uid === pred.value).label;\n                                    }\n\n                                    if (pred.valueType === 'entity') {\n                                        if (pred.value === null) {\n                                            return 'Not set';\n                                        }\n                                        return this.props.dataStore.all.entity.value.find((entity) => entity.uid === pred.value).label;\n                                    }\n\n                                    return pred.value;\n                                }).join(', ');\n                            }\n                            return value;\n                        }\n                })\n            };\n        })\n        .filter((row) => {\n            let keepRow = true;\n            this.state.columns.forEach((col, i) => {\n                if (col.filterType === 'contains' && col.filterValue.length > 0 && col.predicate !== null) {\n                    if (row.columns[i].toLowerCase().indexOf(col.filterValue.toLowerCase()) === -1) {\n                        keepRow = false;\n                    }\n                }\n\n                if (col.filterType === 'exists' && col.predicate !== null) {\n                    if (row.columns[i].length === 0) {\n                        keepRow = false;\n                    }\n                }\n\n                if (col.filterType === 'similar' && col.predicate !== null && col.filterValue.length > 0) {\n                    if (new lev(row.columns[i], col.filterValue).distance >= col.filterValue.length + 2) {\n                        keepRow = false;\n                    }\n                }\n\n\n            });\n            return keepRow;\n        })\n        .sort((row1, row2) => {\n            let score = 0;\n            this.state.columns.forEach((col, i) => {\n                if (col.sort !== 'none' && row1.columns[i] !== row2.columns[i]) {\n                    score += (row1.columns[i] > row2.columns[i] ? 1 : -1) * (Math.pow(10, 3 - i)) * (col.sort === 'asc' ? -1 : 1);\n                }\n            });\n            return score;\n        });\n\n        return (\n        <div className='workspace-editor'>\n            <header className='editor-header entity'>\n              <div className='primary-toolbar'>\n                <div className='main-toolbar'>\n                    <h2>All Entities <i\n                            className='fa fa-plus-circle add button'\n                            title='Add new entity'\n                            aria-hidden='true'\n                            onClick={this.addNew.bind(this)}\n                    ></i></h2>\n                </div>\n                 <div className='sub-toolbar'>\n                        <i\n                            className='fa fa-folder-open-o'\n                            aria-hidden='true'\n                            onClick={this.addViewTab.bind(this)}\n                        ></i>\n                    </div>\n              </div>\n            </header>\n\n            <section className='editor-body'>\n                <table className='table'>\n                    <thead>\n                        <tr>\n                            <td>#</td>\n                            <td>Label</td>\n                            <td>Type</td>\n                            { customColumns(predicates, this.state.columns, this.updateColumnParams.bind(this), this.rotateSort.bind(this))}\n                        </tr>\n                        <tr>\n                            <td></td>\n                            <td></td>\n                            <td>\n                                <ComboDropdown\n                                    value={this.state.entityType}\n                                    typeName='entity type'\n                                    allowNew={false}\n                                    setValue={(entityType) => this.setState({ entityType })}\n                                    options={entityTypeOptions}\n                                    createNewValue={noop}\n                                    compact={true}\n                                />\n                            </td>\n\n                            {this.state.columns.map((col, id) => (\n                                <td key={`col-${id}`}>\n                                    <div className='flex-fill'>\n                                        <div>\n                                            <select value={col.filterType}\n                                                    className='padded'\n                                                    onChange={(e) => this.updateColumnParams(id, 'f', e.target.value)}>\n                                                <option value='any'>Any</option>\n                                                <option value='exists'>Exists</option>\n                                                <option value='contains'>Contains</option>\n                                                <option value='similar'>Similar</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <input type='text'\n                                                disabled={col.filterType === 'any' || col.filterType === 'exists'}\n                                                onChange={(e) => this.updateColumnParams(id, 'v', e.target.value)}\n                                                value={col.filterValue} />\n                                        </div>\n                                    </div>\n                                </td>\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {tableData.map((row) => (\n                            <tr key={`entity-${row.uid}`}>\n                                <td>{row.uid}</td>\n                                <td>{row.label} <AddTabButton\n                                    dataStore={this.props.dataStore}\n                                    uid={row.uid}\n                                    tabType='entity'/></td>\n                                <td>{row.entityType ? row.entityType.label : ''}</td>\n                                {[0,1,2].map((id) => (<td key={`col-val-${id}`}>{row.columns[id]}</td>))}\n                            </tr>\n                        )\n                    )}\n                    </tbody>\n                </table>\n            </section>\n        </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/object_list/EntityList.tsx","module.exports = require(\"levenshtein\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"levenshtein\"\n// module id = 60\n// module chunks = 0","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { ApiService } from '../../ApiService';\nimport { Predicate } from 'falcon-core';\n\nimport { AddTabButton } from '../AddTabButton';\nimport { DataStore } from '../../DataStore';\n\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { SearchBar } from '../SearchBar';\n\n\ninterface PredicateListProps {\n    api: ApiService;\n    dataStore: DataStore;\n}\n\ninterface PredicateListState {\n    filterFunc: (p: Predicate) => boolean;\n}\n\ninterface ColumnSettings {\n    name: string;\n    nullable: boolean;\n\n}\n\nexport class PredicateList extends React.Component<PredicateListProps, PredicateListState> {\n\n    constructor() {\n        super();\n        this.state = {\n            filterFunc: () => true\n        };\n    }\n\n    public addNew() {\n        const a : ModalDefinition = {\n            name: 'predicate',\n            complete: () => {\n            },\n            cancel: () => { console.log('cancel')},\n            settings: {\n                initialName: ''\n            }\n        };\n\n        showModal.dispatch(a);\n    }\n\n    public render() {\n        return (\n        <div className='workspace-editor'>\n            <header className='editor-header predicate'>\n              <div className='primary-toolbar'>\n                <div className='main-toolbar'>\n                    <h2>All Properties <i\n                        className='fa fa-plus-circle add button'\n                        title='Add new property'\n                        aria-hidden='true'\n                        onClick={this.addNew.bind(this)}\n                    ></i></h2>\n                </div>\n              </div>\n            </header>\n\n            <section className='editor-body'>\n\n                <SearchBar\n                    getValue={(a: Predicate) => a.label}\n                    setFilterFunc={(f) => this.setState({ filterFunc: f })}\n                />\n\n                <table className='table gap'>\n                    <thead>\n                        <tr>\n                            <td>#</td>\n                            <td>Label</td>\n                            <td>Domain</td>\n                            <td>Range</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.props.dataStore.all.predicate.value.filter(this.state.filterFunc).map((predicate) => {\n                        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === predicate.domain);\n                        const rangeType = predicate.rangeIsReference ?\n                            this.props.dataStore.all.entity_type.value.find((t) => t.uid === predicate.range) :\n                            predicate.range;\n                        return (\n                            <tr key={`predicate-${predicate.uid}`}>\n                                <td>{predicate.uid} <AddTabButton\n                                    dataStore={this.props.dataStore}\n                                    uid={predicate.uid}\n                                    tabType='predicate' /></td>\n                                <td>{predicate.label}</td>\n                                <td>{entityType ? entityType.label : ''}</td>\n                                <td>{predicate.rangeIsReference ? rangeType ? rangeType.label : '' : rangeType}</td>\n                            </tr>\n                        );}\n                    )}\n                    </tbody>\n                </table>\n            </section>\n        </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/object_list/PredicateList.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { ApiService } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\n\nimport { Source } from 'falcon-core';\n\nimport { AddTabButton } from '../AddTabButton';\n\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { SearchBar } from '../SearchBar';\n\ninterface SourceListProps {\n    api: ApiService;\n    dataStore: DataStore;\n}\n\ninterface SourceListState {\n    filterFunc: (p: Source) => boolean;\n    mode: 'list' | 'tree';\n}\n\ninterface ColumnSettings {\n    name: string;\n    nullable: boolean;\n\n}\n\nexport class SourceList extends React.Component<SourceListProps, SourceListState> {\n\n    constructor() {\n        super();\n        this.state = {\n            filterFunc: () => true,\n            mode: 'list'\n        };\n    }\n\n    public addNew() {\n        const a : ModalDefinition = {\n            name: 'source',\n            complete: () => {\n            },\n            cancel: () => { console.log('cancel')},\n            settings: {}\n        };\n\n        showModal.dispatch(a);\n    }\n\n\n    public render() {\n        return (\n         <div className='workspace-editor'>\n            <header className='editor-header source'>\n              <div className='primary-toolbar'>\n                <div className='main-toolbar'>\n                    <h2>All Sources <i\n                        className='fa fa-plus-circle add button'\n                        aria-hidden='true'\n                        title='Add new source'\n                        onClick={this.addNew.bind(this)}\n                    ></i></h2>\n                </div>\n              </div>\n              <div className='secondary-toolbar'>\n                <div className='tab-bar'>\n\n                  <div className={'source ' + (this.state.mode === 'list' ? 'selected' : '')}\n                    onClick={() => this.setState({ mode: 'list' })}>LIST</div>\n\n                  <div  className={'source ' + (this.state.mode === 'tree' ? 'selected' : '')}\n                    onClick={() => this.setState({ mode: 'tree' })}>TREE</div>\n\n                </div>\n              </div>\n            </header>\n\n            <section className='editor-body'>\n\n                <SearchBar\n                    getValue={(a: Source) => a.label}\n                    setFilterFunc={(f) => this.setState({ filterFunc: f })}\n                />\n\n                {this.state.mode === 'list' ? (\n                  <table className='table gap'>\n                    <thead>\n                        <tr>\n                            <td>#</td>\n                            <td>Name</td>\n                            <td>Parent</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.props.dataStore.all.source.value.filter(this.state.filterFunc).map((source) => {\n                        return (\n                            <tr key={`source-${source.uid}`}>\n                                <td>{source.uid} <AddTabButton\n                                    dataStore={this.props.dataStore}\n                                    uid={source.uid}\n                                    tabType='source' /></td>\n                                <td>{source.label}</td>\n                                <td>{source.parent}</td>\n                            </tr>\n                        );}\n                    )}\n                    </tbody>\n                  </table>\n                ) : null}\n\n\n            </section>\n        </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/object_list/SourceList.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { ApiService } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { EntityType } from 'falcon-core';\n\nimport { AddTabButton } from '../AddTabButton';\n\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from '../modal/ModalDefinition';\n\nimport { SearchBar } from '../SearchBar';\n\ninterface EntityTypeListProps {\n    api: ApiService;\n    dataStore: DataStore;\n}\n\ninterface EntityTypeListState {\n    filterFunc: (t: EntityType) => boolean;\n}\n\nexport class EntityTypeList extends React.Component<EntityTypeListProps, EntityTypeListState> {\n\n    constructor() {\n        super();\n        this.state = {\n            filterFunc: () => true\n        };\n    }\n\n    public addNew() {\n        const a : ModalDefinition = {\n            name: 'entity_type',\n            complete: () => {\n            },\n            cancel: () => { console.log('cancel')},\n            settings: {}\n        };\n\n        showModal.dispatch(a);\n    }\n\n\n    public render() {\n        return (\n        <div className='workspace-editor'>\n\n            <header className='editor-header entity_type'>\n              <div className='primary-toolbar'>\n                <div className='main-toolbar'>\n                    <h2>All Entity Types <i\n                        className='fa fa-plus-circle add button'\n                        aria-hidden='true'\n                        title='Add new entity type'\n                        onClick={this.addNew.bind(this)}\n                    ></i></h2>\n                </div>\n              </div>\n            </header>\n\n            <section className='editor-body'>\n\n                <SearchBar\n                    getValue={(a: EntityType) => a.label}\n                    setFilterFunc={(f) => this.setState({ filterFunc: f })}\n                />\n\n                <table className='table gap'>\n                    <thead>\n                        <tr>\n                            <td>#</td>\n                            <td>Name</td>\n                            <td>Parent</td>\n                            <td>Description</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.props.dataStore.all.entity_type.value.filter(this.state.filterFunc).map((entityType) => {\n                        return (\n                            <tr key={`entityType-${entityType.uid}`}>\n                                <td>{entityType.uid} <AddTabButton\n                                    dataStore={this.props.dataStore}\n                                    uid={entityType.uid}\n                                    tabType='entity_type' /></td>\n                                <td>{entityType.label}</td>\n                                <td>{entityType.parent}</td>\n                                <td>{entityType.description}</td>\n                            </tr>\n                        );}\n                    )}\n                    </tbody>\n                </table>\n            </section>\n        </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/object_list/EntityTypeList.tsx","/**\n * @fileOverview Toast controller\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\nimport { showToast } from '../Signaller';\n\ninterface SingleToast {\n    id: number;\n    title: string;\n    message: string;\n    level: string;\n    lifeTime: number;\n}\n\ninterface ToastProps {\n}\n\ninterface ToastState {\n    toasts: SingleToast[];\n    nextId: number;\n}\n\nexport class Toast extends React.Component<ToastProps, ToastState> {\n\n    private boundShowToast;\n\n    constructor() {\n        super();\n        this.state = {\n            toasts: [],\n            nextId: 0\n       };\n\n       this.boundShowToast = this.addToast.bind(this);\n       showToast.add(this.boundShowToast);\n    }\n\n    public componentWillUnmount() {\n        showToast.remove(this.boundShowToast);\n    }\n\n    public addToast(title: string, message: string, level: string = 'warning', lifeTime: number = 3000) {\n\n        const id = this.state.nextId;\n\n        this.setState({\n            toasts: this.state.toasts.concat([{ title, message, level, lifeTime, id }]),\n            nextId: id + 1\n        });\n\n        setTimeout(() => {\n            this.setState({\n                toasts: this.state.toasts.filter((toast) => toast.id !== id)\n            })\n        }, lifeTime);\n    }\n\n    public render() {\n        return (<span>\n            {this.state.toasts.map((toast, i) => (\n                <div key={`toast-${toast.id}`} style={{bottom: (1 + 7 * i) + 'em'}} className={`toast ${toast.level}`}>\n                    <div className='title'>\n                        {toast.title}\n                    </div>\n                    <div className='message'>\n                        {toast.message}\n                    </div>\n                </div>\n            ))}\n        </span>);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Toast.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { PredicateDescription } from '../fields/PredicateDescription';\nimport { Predicate, EntityType, Serializer } from 'falcon-core';\nimport { literalTypes } from '../../literalTypes';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { ComboDropdownOption } from '../ComboDropdown';\n\n\ninterface CreatePredicateProps {\n    initialName: string;\n    cancel: () => void;\n    complete: (newPredicate: Predicate) => void;\n    api: ApiService;\n    initialDomain?: number;\n    dataStore: DataStore;\n}\n\ninterface CreatePredicateState {\n    name: string;\n    domain: ComboDropdownOption;\n    range: ComboDropdownOption;\n    domainOptions: ComboDropdownOption[];\n    rangeOptions: ComboDropdownOption[];\n}\n\nexport class CreatePredicate extends React.Component<CreatePredicateProps, CreatePredicateState> {\n\n    constructor() {\n        super();\n        this.state = {\n            name: '',\n            domain: {key: '', value: ''},\n            range: {key: '', value: ''},\n            domainOptions: [],\n            rangeOptions: []\n        };\n    }\n\n    public componentWillMount() {\n        this.setState({ name: this.props.initialName });\n    }\n\n    public componentDidMount() {\n        if (this.props.initialDomain !== undefined) {\n             this.props.api.getItem(EntityType, AppUrls.entity_type, this.props.initialDomain)\n            .then((result) => {\n\n                if (result.uid === null) {\n                    throw new Error('Unexpected null uid');\n                }\n\n                this.setState({\n                domain: { key: result.label, value: result.uid.toString()},\n                domainOptions: [\n                    { key: result.label, value: result.uid.toString()}\n                ].concat(result.parents.map((entityType) => {\n                    if (entityType.uid === null) {\n                        throw new Error('Unexpected null uid');\n                    }\n                    return { key: entityType.label, value: entityType.uid.toString() }\n                }))});\n            });\n        }\n\n        const results = this.props.dataStore.all.entity_type.value;\n        const entityTypeMap : ComboDropdownOption[] = results.map((entityType) => {\n            if (entityType.uid === null) {\n                throw new Error('Unexpected null uid');\n            }\n            return { key: entityType.label, value: entityType.uid.toString() }\n        });\n\n        if (this.props.initialDomain === undefined) {\n            this.setState({ domainOptions: entityTypeMap });\n        }\n\n        this.setState({\n            rangeOptions:  literalTypes.map((lit) => ({ key: lit.label, value: lit.value, meta: 'literal'})).concat(entityTypeMap)\n        });\n    }\n\n    public create() {\n\n        const newPredicate = Serializer.fromJson(Predicate, {\n            name: this.state.name,\n            domain: this.state.domain.value,\n            range: this.state.range.value,\n            rangeIsReference: this.state.range.meta !== 'literal'\n        });\n\n        this.props.api.postItem(Predicate, AppUrls.predicate, newPredicate)\n            .then((result) => {\n                newPredicate.uid = result[0];\n                this.props.complete(newPredicate);\n            });\n    }\n\n    public render() {\n        return (\n        <Overlay>\n            <h2><i className='fa fa-plus' aria-hidden='true'></i> Create Property</h2>\n            <label className='small'>Name</label>\n\n            <input type='text'\n                className='gap'\n                ref={(a) =>  { if(a !== null) a.focus(); }}\n                value={this.state.name}\n                onChange={(e) => this.setState({ name: (e.target as HTMLInputElement).value })} />\n\n            <PredicateDescription\n                domain={this.state.domain}\n                range={this.state.range}\n                domainChanged={(s) => this.setState({ domain: s })}\n                rangeChanged={(s) => this.setState({ range: s })}\n                domainOptions={this.state.domainOptions}\n                rangeOptions={this.state.rangeOptions}\n                mode='editAll' />\n            <div className='modal-toolbar'>\n                <button onClick={this.props.cancel} className='pull-left'>Cancel</button>\n                <button onClick={this.create.bind(this)} className='pull-right'>Create Property</button>\n            </div>\n        </Overlay>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreatePredicate.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\ninterface OverlayProps {\n\n}\n\ninterface OverlayState{\n\n}\n\nexport class Overlay extends React.Component<OverlayProps, OverlayState> {\n\n    public render() {\n        return (\n        <div className='full-page-overlay'>\n            <div className='overlay-container'>\n                {this.props.children}\n            </div>\n        </div>\n        );\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Overlay.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { Record, Predicate, Serializer } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\n\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from './ModalDefinition';\n\nimport { toString } from 'lodash';\n\ninterface CreateRecordProps {\n    api: ApiService;\n    options: { key: string, value: string, meta: Predicate}[];\n    complete: (s: any) => void;\n    cancel: () => void;\n    entityUid: number;\n    entityType: number;\n}\n\ninterface CreateRecordState {\n    comboValue: ComboDropdownOption;\n    searchValue: string;\n}\n\nexport class CreateRecord extends React.Component<CreateRecordProps, CreateRecordState> {\n\n    constructor() {\n        super();\n        this.state = {\n            comboValue: {key: '', value: ''},\n            searchValue: ''\n        };\n    }\n\n    public componentDidMount() {\n        ((this.refs['comboDropDown'] as React.Component<any, any>).refs['comboDropDownInputBox'] as HTMLElement).focus();\n    }\n\n    public createNewPredicate() {\n        const modalDef: ModalDefinition = {\n            name: 'predicate',\n            complete: (data : Predicate) => {\n                console.log('Predicate editor called complete');\n                this.setComboValue({ key: data.label, value: data.uid === null ? null : data.uid.toString(), meta: data});\n            },\n            cancel: () => {\n                console.log('Predicate editor called cancel');\n            },\n            settings: {\n                initialName: this.state.searchValue,\n                initialDomain: this.props.entityType\n            }\n        };\n\n        showModal.dispatch(modalDef);\n    }\n\n    public setComboValue(opt: { key: string, value: string | null, meta: Predicate }) {\n        this.props.api.postItem(Record, AppUrls.record,\n            Serializer.fromJson(Record, {\n                predicate: opt.meta.uid,\n                entity: this.props.entityUid,\n                valueType: opt.meta.rangeIsReference ? 'entity' : opt.meta.range,\n                score: 3\n            }))\n        .then((result) => this.props.complete(result))\n        .catch(this.props.cancel);\n    }\n\n    public render() {\n        return (\n        <Overlay>\n            <h2>Create Record</h2>\n            <ComboDropdown\n                ref='comboDropDown'\n                options={this.props.options}\n                typeName='predicate'\n                value={this.state.comboValue}\n                setValue={this.setComboValue.bind(this)}\n                createNewValue={this.createNewPredicate.bind(this)}\n                updateSearchString={(s) => this.setState({ searchValue: s})}\n            />\n        </Overlay>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreateRecord.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { Record, Serializer, Source } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\n\nimport { showModal } from '../../Signaller';\nimport { ModalDefinition } from './ModalDefinition';\n\ninterface CreatePresetRecordProps {\n    api: ApiService;\n    complete: (s: any) => void;\n    cancel: () => void;\n    source: Source;\n    dataStore: DataStore;\n}\n\ninterface CreatePresetRecordState {\n}\n\nexport class CreatePresetRecord extends React.Component<CreatePresetRecordProps, CreatePresetRecordState> {\n\n    private static openEntityDialog : boolean = true;\n\n    constructor() {\n        super();\n        this.state = {\n          };\n    }\n\n    public componentDidMount() {\n        if (CreatePresetRecord.openEntityDialog) {\n            CreatePresetRecord.openEntityDialog = false;\n            this.createNewEntity();\n        } else {\n            CreatePresetRecord.openEntityDialog = true;\n        }\n    }\n\n    public createNewEntity() {\n        const modalDef: ModalDefinition = {\n            name: 'entity',\n            complete: (data : number[]) => {\n\n                const isMentioned = this.props.dataStore.all.predicate.value.find((pred) => pred.label === 'is mentioned');\n\n                this.props.api.postItem(Record, AppUrls.record,\n                    Serializer.fromJson(Record, {\n                        predicate: isMentioned.uid,\n                        entity: data[0],\n                        valueType: 'source',\n                        source: this.props.source.uid,\n                        score: 3\n                    }))\n                .then((result) => {\n                    this.props.complete(result);\n                })\n                .catch(this.props.cancel);\n            },\n            cancel: () => {\n            },\n            settings: {}\n        };\n\n        showModal.dispatch(modalDef);\n    }\n\n    public render() {\n        return null;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreatePresetRecord.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { Source, Serializer } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\n\nimport * as mousetrap from 'mousetrap';\n\ninterface CreateSourceProps {\n    api: ApiService;\n    complete: (s: string) => void;\n    cancel: () => void;\n    initialValue: string;\n}\n\ninterface CreateSourceState {\n    internalValue: string;\n}\n\nexport class CreateSource extends React.Component<CreateSourceProps, CreateSourceState> {\n\n    private keyboardShortcuts;\n\n    public static defaultProps : CreateSourceProps = {\n       initialValue: ''\n    }\n\n    constructor() {\n        super();\n        this.state = {\n            internalValue: ''\n        };\n    }\n\n    public componentWillMount() {\n        this.setState({ internalValue: this.props.initialValue});\n    }\n\n    public createSource() {\n        this.props.api.postItem(Source, AppUrls.source,\n            Serializer.fromJson(Source, {\n                name: this.state.internalValue\n            }))\n        .then(this.props.complete);\n    }\n\n    public inputRef(val: HTMLElement | null) {\n        if (val !== null) {\n            val.focus();\n            this.keyboardShortcuts = new mousetrap(val);\n            this.keyboardShortcuts.bind('return', this.createSource.bind(this));\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\n        } else {\n            this.keyboardShortcuts.unbind('return');\n            this.keyboardShortcuts.unbind('escape');\n        }\n    }\n\n    public render() {\n        return (\n        <Overlay>\n            <h2>Create Source</h2>\n            <label className='small'>Name</label>\n            <input type='text'\n                value={this.state.internalValue}\n                ref={this.inputRef.bind(this)}\n                onChange={(e) => this.setState({ internalValue: e.target.value })} />\n            <button onClick={() => this.props.cancel()} className='pull-left'>Cancel</button>\n            <button onClick={this.createSource.bind(this)} className='pull-right'>Create Source</button>\n        </Overlay>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreateSource.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { Entity, EntityType, Serializer } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\n\nimport { noop } from 'lodash';\n\ninterface CreateEntityProps {\n    api: ApiService;\n    complete: (s: string) => void;\n    cancel: () => void;\n    initialName?: string,\n    initialType?: number\n}\n\ninterface CreateEntityState {\n    label: string;\n    entityType: ComboDropdownOption;\n    allEntityTypes: EntityType[];\n}\n\nexport class CreateEntity extends React.Component<CreateEntityProps, CreateEntityState> {\n\n    constructor() {\n        super();\n        this.state = {\n            label: '',\n            entityType: { key: '', value: ''},\n            allEntityTypes: []\n        };\n    }\n\n    public componentWillMount() {\n        this.props.api.getCollection(EntityType, AppUrls.entity_type, {})\n        .then((allEntityTypes) => {\n            if (this.props.initialType !== undefined) {\n                const initialType = allEntityTypes.find((et) => et.uid === this.props.initialType);\n                this.setState({\n                    entityType:  { key: initialType.label, value: initialType.uid.toString() }\n                })\n            }\n            this.setState({ allEntityTypes });\n        });\n    }\n\n    public CreateEntity() {\n        this.props.api.postItem(Entity, AppUrls.entity,\n            Serializer.fromJson(Entity, {\n                label: this.state.label,\n                entityType: this.state.entityType.value\n            }))\n        .then(this.props.complete);\n    }\n\n    public render() {\n        return (\n        <Overlay>\n            <h2>Create Entity</h2>\n\n            <label className='small'>Label</label>\n            <input type='text'\n                value={this.state.label}\n                ref={(a) => { if(a !== null) a.focus(); }}\n                name='new-entity-name'\n                className='gap'\n                onChange={(e) => this.setState({ label: e.target.value })} />\n\n            <label className='small'>Type</label>\n            <ComboDropdown\n                options={this.state.allEntityTypes.map((t) => ({ key: t.label, value: t.uid.toString() }))}\n                typeName='entity type'\n                value={this.state.entityType}\n                setValue={(entityType) => this.setState({entityType})}\n                createNewValue={noop}\n                allowNew={false}\n            />\n            <button name='cancel-modal' onClick={() => this.props.cancel()} className='pull-left'>Cancel</button>\n            <button name='create-entity' onClick={this.CreateEntity.bind(this)} className='pull-right'>Create Entity</button>\n        </Overlay>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreateEntity.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { EntityType, Serializer } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\n\nimport * as mousetrap from 'mousetrap';\n\ninterface CreateEntityTypeProps {\n    api: ApiService;\n    complete: (s: string) => void;\n    cancel: () => void;\n}\n\ninterface CreateEntityTypeState {\n    internalValue: string;\n}\n\nexport class CreateEntityType extends React.Component<CreateEntityTypeProps, CreateEntityTypeState> {\n\n    private keyboardShortcuts;\n\n    constructor() {\n        super();\n        this.state = {\n            internalValue: ''\n        };\n    }\n\n    public createEntityType() {\n        this.props.api.postItem(EntityType, AppUrls.entity_type,\n            Serializer.fromJson(EntityType, {\n                name: this.state.internalValue\n            }))\n        .then(this.props.complete);\n    }\n\n    public inputRef(val: HTMLElement | null) {\n        if (val !== null) {\n            val.focus();\n            this.keyboardShortcuts = new mousetrap(val);\n            this.keyboardShortcuts.bind('return', this.createEntityType.bind(this));\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\n        } else {\n            this.keyboardShortcuts.unbind('return');\n        }\n    }\n\n    public render() {\n        return (\n        <Overlay>\n            <h2>Create Entity Type</h2>\n            <label className='small'>Name</label>\n            <input type='text'\n                value={this.state.internalValue}\n                ref={this.inputRef.bind(this)}\n                onChange={(e) => this.setState({ internalValue: e.target.value })} />\n            <button onClick={() => this.props.cancel()} className='pull-left'>Cancel</button>\n            <button onClick={this.createEntityType.bind(this)} className='pull-right'>Create Entity Type</button>\n        </Overlay>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/CreateEntityType.tsx","/**\n * @fileOverview Sidebar for editor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport * as React from 'react';\n\nimport { Overlay } from '../Overlay';\nimport { Entity, EntityType, Record, Predicate } from 'falcon-core';\nimport { ApiService, AppUrls } from '../../ApiService';\nimport { DataStore } from '../../DataStore';\nimport { ComboDropdown, ComboDropdownOption } from '../ComboDropdown';\n\nimport { noop } from 'lodash';\n\ninterface ConflictResolutionProps {\n    api: ApiService;\n    dataStore: DataStore;\n    complete: (s: string) => void;\n    cancel: () => void;\n    message: string;\n    conflictingItems: {\n        record: Record[],\n        entity: Entity[],\n        predicate: Predicate[]\n    };\n}\n\ninterface ConflictResolutionState {\n    label: string;\n    entityType: ComboDropdownOption;\n    allEntityTypes: EntityType[];\n}\n\nexport class ConflictResolution extends React.Component<ConflictResolutionProps, ConflictResolutionState> {\n\n    constructor() {\n        super();\n        this.state = {\n            label: '',\n            entityType: { key: '', value: ''},\n            allEntityTypes: []\n        };\n    }\n\n\n    public render() {\n        return (\n        <Overlay>\n            <h2><i className='fa fa-exclamation-triangle warning'></i> Conflict: {this.props.message}</h2>\n            {this.props.conflictingItems.record !== undefined && this.props.conflictingItems.record.length > 0 ? (\n                <span>\n                    <p>The following records conflict with your request change:</p>\n                    <table className='table'>\n                        <thead>\n                            <tr>\n                                <th>Entity</th>\n                                <th>Predicate</th>\n                                <th>Value</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {this.props.conflictingItems.record.map((record) => {\n\n                            const entityName = this.props.dataStore.all.entity.value\n                                .find((entity) => entity.uid == record.entity).label;\n\n                            const predicateName = this.props.dataStore.all.predicate.value\n                                .find((predicate) => predicate.uid == record.predicate).label;\n\n\n                            return (\n                            <tr key={`row-${record.uid}`}>\n                                <td>\n                                    {entityName}\n                                </td>\n                                <td>\n                                    {predicateName}\n                                </td>\n                                <td>\n                                    {record.value}\n                                </td>\n                            </tr>);\n                        })}\n                        </tbody>\n                    </table>\n                </span>\n            ) : null }\n\n\n            {this.props.conflictingItems.entity !== undefined && this.props.conflictingItems.entity.length > 0 ? (\n                <span>\n                    <p>The following entities conflict with your request change:</p>\n                    <table className='table'>\n                        <thead>\n                            <tr>\n                                <th>Entity</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {this.props.conflictingItems.entity.map((entity) => {\n                            return (\n                            <tr key={`row-${entity.uid}`}>\n                                <td>\n                                    {entity.label}\n                                </td>\n                            </tr>);\n                        })}\n                        </tbody>\n                    </table>\n                </span>\n            ) : null }\n\n            {this.props.conflictingItems.entityType !== undefined && this.props.conflictingItems.entityType.length > 0 ? (\n                <span>\n                    <p>The following entity types conflict with your request change:</p>\n                    <table className='table'>\n                        <thead>\n                            <tr>\n                                <th>Entity Type</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {this.props.conflictingItems.entityType.map((entityType) => {\n                            return (\n                            <tr key={`row-${entityType.uid}`}>\n                                <td>\n                                    {entityType.label}\n                                </td>\n                            </tr>);\n                        })}\n                        </tbody>\n                    </table>\n                </span>\n            ) : null }\n\n             {this.props.conflictingItems.source !== undefined && this.props.conflictingItems.source.length > 0 ? (\n                <span>\n                    <p>The following sources conflict with your request change:</p>\n                    <table className='table'>\n                        <thead>\n                            <tr>\n                                <th>Sources</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {this.props.conflictingItems.source.map((source) => {\n                            return (\n                            <tr key={`row-${source.uid}`}>\n                                <td>\n                                    {source.label}\n                                </td>\n                            </tr>);\n                        })}\n                        </tbody>\n                    </table>\n                </span>\n            ) : null }\n\n\n            <div className='block-buttons'>\n                <button onClick={() => this.props.cancel()}>Cancel</button>\n                <button onClick={() => this.props.complete('addToWorkspace')}>\n                    <i className='icon-list-add'></i>Cancel and add conflicting records to workspace\n                </button>\n                <button onClick={() => this.props.complete('deleteAll')}>\n                    <i className='fa fa-trash'></i> Continue and delete all conflicting records\n                </button>\n            </div>\n\n        </Overlay>\n        );\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/modal/ConflictResolution.tsx","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport { Map } from 'immutable';\nimport { Predicate, EntityType, Entity, Record, Source, SourceElement, ElementSet } from 'falcon-core';\nimport * as moment from 'moment';\n\nexport interface DataStoreEntry<T> {\n    value: T;\n    lastUpdate: moment.Moment | null;\n}\n\nexport interface DataStore {\n  all: {\n    entity: DataStoreEntry<Entity[]>;\n    entity_type: DataStoreEntry<EntityType[]>;\n    predicate: DataStoreEntry<Predicate[]>;\n    source: DataStoreEntry<Source[]>;\n    dublinCore: DataStoreEntry<ElementSet>;\n  };\n\n  records: Map<string, DataStoreEntry<Record>>;\n\n  tabs: {\n\n    entity: Map<string, DataStoreEntry<{\n      entity: Entity;\n      records: Record[];\n      referenceRecords: Record[];\n    }>>;\n\n    entity_type: Map<string, DataStoreEntry<EntityType>>;\n\n    predicate: Map<string, DataStoreEntry<Predicate>>;\n\n    source: Map<string, DataStoreEntry<{\n      source: Source;\n      elements: SourceElement;\n    }>>;\n\n  };\n}\n\nexport const emptyDataStore : DataStore = {\n\n  all: {\n    entity: { value: [], lastUpdate: null },\n    entity_type: { value: [], lastUpdate: null },\n    predicate: { value: [], lastUpdate: null },\n    source: { value: [], lastUpdate: null },\n    dublinCore: { value: new ElementSet(), lastUpdate: null }\n  },\n\n  records: Map<string, DataStoreEntry<Record>>(),\n\n  tabs: {\n    entity: Map<string, DataStoreEntry<{\n      entity: Entity;\n      records: Record[];\n      referenceRecords: Record[];\n    }>>(),\n\n    entity_type: Map<string, DataStoreEntry<EntityType>>(),\n    predicate: Map<string, DataStoreEntry<Predicate>>(),\n\n    source: Map<string, DataStoreEntry<{\n      source: Source;\n      elements: SourceElement;\n    }>>()\n  }\n};\n\nexport const emptyTabs = [\n    {entity: Map<string, DataStoreEntry<{\n      entity: Entity;\n      records: Record[];\n    }>>()},\n\n    {entity_type: Map<string, DataStoreEntry<EntityType>>()},\n    {predicate: Map<string, DataStoreEntry<Predicate>>()},\n\n    {source: Map<string, DataStoreEntry<{\n      source: Source;\n      elements: SourceElement;\n    }>>()\n  }];\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/DataStore.ts","module.exports = require(\"immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = 74\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nimport { FalconItem, Entity, Record, Source, Predicate, EntityType, SourceElement, ElementSet } from 'falcon-core';\nimport { ApiService, AppUrls } from './ApiService';\nimport { DataStore, emptyTabs } from './DataStore';\nimport { Tab } from './components/Sidebar';\nimport { Map } from 'immutable';\n\nimport { cloneDeep, find, groupBy } from 'lodash';\n\nimport * as moment from 'moment';\n\nconst loadTabData = (api: ApiService, tab: Tab) : Promise<FalconItem> => {\n    if (tab.tabClass !== 'item') {\n      return Promise.resolve(new Entity());\n    }\n    switch (tab.tabType) {\n        case 'entity':\n            return Promise.all([\n                api.getItem(Entity, AppUrls.entity, tab.uid),\n                api.getCollection(Record, AppUrls.record, { entity: tab.uid }),\n                api.getCollection(Record, AppUrls.record, { value_type: 'entity', value_entity: tab.uid })\n            ]).then(([entity, records, referenceRecords]) => ({ entity, records, referenceRecords }));\n        case 'predicate':\n            return api.getItem(Predicate, AppUrls.predicate, tab.uid);\n        case 'entity_type':\n            return api.getItem(EntityType, AppUrls.entity_type, tab.uid);\n        case 'source':\n            return Promise.all([\n                api.getItem(Source, AppUrls.source, tab.uid),\n                api.getCollection(SourceElement, AppUrls.source_element, { source: tab.uid })\n            ]).then(([source, source_element]) => ({ source, source_element }));\n        default:\n            throw new Error('Unexpected tab type requested');\n    }\n};\n\nexport const reload = (api: ApiService, tabs: Tab[],\n  force: boolean = false, failureCallback: (workspace: string, uid: number) => void) : Promise<DataStore> => {\n\n  const groupedTabs = groupBy(tabs, 'tabType');\n\n  const tabPromise = Promise.all(\n    Object.keys(groupedTabs).map((tabType) =>\n      Promise.all(groupedTabs[tabType].map((tab) =>\n        loadTabData(api, tab)\n        .then((value) => {\n          return { [`${tab.tabType}-${tab.uid}`]: { value, lastUpdate: moment() }};\n        })\n        .catch((err) => {\n          failureCallback(tab.tabType, tab.uid);\n        })\n      ))\n      .then((tabData) => {\n        return { [tabType]: Map(Object.assign({}, ...tabData)) };\n      })\n    )\n  );\n\n  // load lists of data commonly required by views\n  const allPromise = Promise.all([\n      api.getCollection(Predicate, AppUrls.predicate, {}),\n      api.getCollection(Source, AppUrls.source, {}),\n      api.getCollection(Entity, AppUrls.entity, {}),\n      api.getCollection(EntityType, AppUrls.entity_type, {}),\n      api.getItem(ElementSet, AppUrls.element_set, 1)\n  ])\n  .then(([predicates, sources, entities, entityType, dublinCore]) => {\n\n      return {\n          predicate: { value: predicates, lastUpdate: moment() },\n          source: { value: sources, lastUpdate: moment() },\n          entity: { value: entities, lastUpdate: moment() },\n          entity_type: { value: entityType, lastUpdate: moment() },\n          dublinCore: { value: dublinCore, lastUpdate: moment() }\n      };\n  });\n\n  return Promise.all([tabPromise, allPromise])\n  .then(([tabsArray, all]) => {\n      const tabs = Object.assign({}, ...tabsArray);\n      return { tabs, all };\n  });\n};\n\nexport const DataController = {\n  reload\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/DataController.ts","/**\n * @fileOverview Abstract interface for sources\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\n\nimport * as Knex from 'knex';\nimport { omit } from 'lodash';\n\nimport { KeyNotFoundException, DatabaseIntegrityError } from './Exceptions';\n\nexport class Database {\n\n    private knex : Knex;\n\n    constructor(config: Knex.Config) {\n        this.knex = Knex(config);\n    }\n\n    public query() : Knex {\n        return this.knex;\n    }\n\n    public select(tableName: string, options: string[] | '*' = '*') {\n        return this.knex.select().from(tableName);\n    }\n\n    public loadItem(a: string, uid: number) : Promise<any> {\n        const query = this.knex.select()\n            .from(a)\n            .where({ uid: uid })\n            .first();\n\n        return query.then((result) => result === undefined ? Promise.reject(new KeyNotFoundException()) : result);\n    }\n\n    public loadCollection(a: string, params: Object) : Promise<any[]> {\n        let query = this.knex.select()\n            .from(a);\n\n        Object.keys(params).forEach((param) => {\n            query = query.whereIn(param, params[param]);\n        });\n\n        return query.then((results) => results === undefined ? Promise.reject(new KeyNotFoundException()) : results);\n    }\n\n    public createItem(tableName: string, data: any) : Promise<any> {\n        // throw warning if called with uid\n        // validate that everything else has been sent\n        const withoutUid = omit(data, ['uid']);\n\n        return this.knex.transaction((trx) => {\n            return this.knex(tableName).transacting(trx).insert(withoutUid, 'uid').returning('uid')\n            .then((results) => {\n                return this.checkIntegrity(trx)\n                .then((valid) => {\n                    if (!valid) {\n                        throw new DatabaseIntegrityError();\n                    }\n                    return results;\n                });\n            })\n            .then(trx.commit)\n            .catch(trx.rollback);\n        });\n    }\n\n    public updateItem(tableName: string, data: any) : Promise<any> {\n        // assert - must have uid\n        // validation?\n        return this.knex.transaction((trx) => {\n            return this.knex(tableName).transacting(trx)\n            .where({ 'uid': data.uid })\n            .update(data)\n            .then((results) => {\n                return this.checkIntegrity(trx)\n                .then((valid) => {\n                    if (!valid) {\n                        throw new DatabaseIntegrityError();\n                    }\n                    return results;\n                });\n            })\n            .then(trx.commit)\n            .catch(trx.rollback);\n        });\n    }\n\n    public deleteItem(tableName: string, uid: number) : Promise<any> {\n\n        return this.knex.transaction((trx) => {\n            return this.knex(tableName).transacting(trx)\n            .where({ uid })\n            .del()\n            .then((results) => {\n                return this.checkIntegrity(trx)\n                .then((valid) => {\n                    if (!valid) {\n                        throw new DatabaseIntegrityError();\n                    }\n                    return results;\n                });\n            })\n            .then(trx.commit)\n            .catch(trx.rollback);\n        });\n    }\n\n    public getAncestorsOf(uid: number, tableName: string) : Promise<number[]> {\n        return this.knex.raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM ${tableName}),\n                ancestor(uid) AS (\n                SELECT parent FROM parent_of WHERE uid=${uid}\n                UNION ALL\n                SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\t\t\t\tSELECT * from ancestor`)\n            .then((result) => {\n                return result.filter((a) => a.uid !== null).map((a) => a.uid);\n            });\n    }\n\n    public getChildrenOf(uid: number, tableName: string) : Promise<number[]> {\n        return this.knex.raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM ${tableName}),\n                ancestor(parent) AS (\n                SELECT uid FROM parent_of WHERE uid=${uid}\n                UNION ALL\n                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n\t\t\t\tSELECT * from ancestor`)\n            .then((result) => {\n                return result.filter((a) => a.parent !== null).map((a) => a.parent);\n            });\n    }\n\n    public checkIntegrity(trx: Knex.Transaction) : Promise<boolean> {\n        return Promise.all([\n            this.knex.transacting(trx).select(this.knex.raw('SUM((records.value_type != predicates.range_type)) AS valid'))\n            .from('records')\n            .innerJoin('predicates', 'records.predicate', 'predicates.uid'),\n\n            this.knex.transacting(trx).select(this.knex.raw(`\n                SUM((\n\n                entities.type not in (\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM entity_types),\n                                ancestor(parent) AS (\n                                SELECT uid FROM parent_of WHERE uid=predicates.range_ref\n                                UNION ALL\n                                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n                                SELECT * from ancestor\n                )\n\n                )) as valid\n            `))\n            .from('records')\n            .innerJoin('predicates', 'records.predicate', 'predicates.uid')\n            .innerJoin('entities', 'entities.uid', 'records.value_entity')\n            .where('records.value_type', '=', 'entity'),\n\n            this.knex.transacting(trx).select(this.knex.raw(`\n               SUM((\n\n                entities.type not in (\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM entity_types),\n                                ancestor(parent) AS (\n                                SELECT uid FROM parent_of WHERE uid=predicates.domain\n                                UNION ALL\n                                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n                                SELECT * from ancestor\n                )\n\n                )) as valid\n            `))\n            .from('records')\n            .innerJoin('predicates', 'records.predicate', 'predicates.uid')\n            .innerJoin('entities', 'entities.uid', 'records.entity')\n\n          ]).then(([[a], [b], [c]]) => {\n            return (a.valid + b.valid + c.valid) === 0;\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/core/Database.ts","module.exports = require(\"knex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"knex\"\n// module id = 77\n// module chunks = 0","/**\n * @fileOverview <Description Missing>\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.1.0\n */\n\nexport class KeyNotFoundException extends Error {\n    public data: string;\n    constructor(message: string = 'Could not find the given key') {\n        super(message);\n        this.data = message;\n    }\n}\n\nexport class CollectionNotFoundException extends Error {\n    public data: string;\n    constructor(message: string = 'Could not find the given collection') {\n        super(message);\n        this.data = message;\n    }\n}\n\nexport class OperationNotPermittedException extends Error {\n    public data: { message: string, data: any};\n    constructor(data: { message: string, data: any}) {\n        super(data.message);\n        this.data = data;\n    }\n}\n\nexport class DatabaseIntegrityError extends Error {\n    public data: string;\n    constructor(message: string = `A database integrity constraint has been broken - your change has not been\n submitted. This is likely due to a change which violates the property types model; please check the types of \n what you are trying to do. Please also contact the Digital Humanities team, this error should not occur.`) {\n        super(message);\n        this.data = message;\n    }\n}\n\n\nexport const exceptions = {\n    KeyNotFoundException,\n    CollectionNotFoundException,\n    OperationNotPermittedException,\n    DatabaseIntegrityError\n};\n\n\n// WEBPACK FOOTER //\n// ./src/server/core/Exceptions.ts","/**\n * @fileOverview Map of URIs to controllers\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\n// Vendor\nimport * as Koa from 'koa';\nimport * as KoaRouter from 'koa-router';\n\n// Database\nimport { Database } from '../core/Database';\nimport { ServerApiService, AppUrls } from '../core/ServerApiService';\nimport { QueryEngine } from '../core/QueryEngine';\n\nimport * as koaConditionalGet from 'koa-conditional-get';\nimport * as koaEtags from 'koa-etag';\n\nimport { Serializer, TrackedFalconItem } from 'falcon-core';\n\n// Controllers\nimport { IController } from '../controllers/IController';\n\nimport {\n    EntityController,\n    EntityTypeController,\n    ElementSetController,\n    PredicateController,\n    SourceController,\n    RecordController,\n    ElementController,\n    SourceElementController\n} from '../controllers/controllers';\n\nimport {\n  Entity, EntityType, ElementSet, Predicate, Source, Record, Element, SourceElement\n} from 'falcon-core';\n\nexport const wrapDatabase : (s: Database, fakeCreator: boolean) => ServerApiService =\n    (db: Database, fakeCreator: boolean) => {\n    const routes = new Map<string, IController>([\n        [AppUrls.element_set, new ElementSetController(db)],\n        [AppUrls.record, new RecordController(db)],\n        [AppUrls.entity_type, new EntityTypeController(db)],\n        [AppUrls.entity, new EntityController(db)],\n        [AppUrls.predicate, new PredicateController(db)],\n        [AppUrls.source, new SourceController(db)],\n        [AppUrls.element, new ElementController(db)],\n        [AppUrls.source_element, new SourceElementController(db)]\n    ]);\n\n    return new ServerApiService(db, routes, new QueryEngine(db), fakeCreator);\n};\n\nconst sourceElementSpecial = (router: any, serverApiContext: ServerApiService, typeMap: any) => {\n\n  router.use(koaConditionalGet());\n  router.use(koaEtags());\n\n    router.get(`/api/v1/${AppUrls.source_element}/:source/:element`, function* (next : Koa.Context) {\n        yield serverApiContext\n            .getItem<TrackedFalconItem>(typeMap[AppUrls.source_element], AppUrls.source_element, {\n                order: ['source', 'element'],\n                values: {\n                    source: this.params.source,\n                    element: this.params.element\n                }\n            })\n            .then((data) => this.body = Serializer.toJson(data));\n    });\n\n    router.put(`/api/v1/${AppUrls.source_element}/:source/:element`, function* (next : Koa.Context) {\n        yield serverApiContext\n            .putItem<TrackedFalconItem>(typeMap[AppUrls.source_element], AppUrls.source_element, {\n                order: ['source', 'element'],\n                values: {\n                    source: this.params.source,\n                    element: this.params.element\n                }\n            }, this.request.body)\n            .then((data) => this.body = data);\n    });\n\n    router.patch(`/api/v1/${AppUrls.source_element}/:source/:element`, function* (next : Koa.Context) {\n        yield serverApiContext\n            .patchItem<TrackedFalconItem>(typeMap[AppUrls.source_element], AppUrls.source_element, {\n                order: ['source', 'element'],\n                values: {\n                    source: this.params.source,\n                    element: this.params.element\n                }\n            }, this.request.body)\n            .then((data) => this.body = data);\n    });\n\n    router.del(`/api/v1/${AppUrls.source_element}/:source/:element`, function* (next : Koa.Context) {\n        yield serverApiContext\n            .delItem<TrackedFalconItem>(typeMap[AppUrls.source_element], AppUrls.source_element, {\n                order: ['source', 'element'],\n                values: {\n                    source: this.params.source,\n                    element: this.params.element\n                }\n            })\n            .then((data) => this.body = data);\n    });\n};\n\n// would be cleaner if it allowed 2nd level REST urls\n//  /entity/{entity_id}/predicate/{predicate_id}\n// /source/{source_id}/element/{element_id}\n\nexport const api : (router: KoaRouter, s: ServerApiService) => KoaRouter\n    = (router: KoaRouter, serverApiContext: ServerApiService) => {\n\n    router.use()\n\n    const typeMap = {\n        [AppUrls.element_set]: ElementSet,\n        [AppUrls.record]: Record,\n        [AppUrls.entity_type]: EntityType,\n        [AppUrls.entity]: Entity,\n        [AppUrls.predicate] : Predicate,\n        [AppUrls.source] : Source,\n        [AppUrls.element] : Element,\n        [AppUrls.source_element]: SourceElement\n    };\n\n    router.use(function* (next: Koa.Context) {\n        if (this.req.method === 'GET' || this.isAuthenticated()) {\n            yield next;\n        } else {\n            this.status = 403;\n            this.body = 'You must be authorised to modify this resource';\n        }\n    });\n\n    router.use(function* (next: Koa.Context){\n        try {\n            yield next;\n        } catch (err) {\n            switch (err.constructor.name) {\n                case 'KeyNotFoundException':\n                    this.status = 404;\n                    break;\n                case 'CollectionNotFoundException':\n                    this.status = 404;\n                    break;\n                case 'OperationNotPermittedException':\n                    this.status = 422;\n                    break;\n                default:\n                    this.status = 500;\n            }\n            this.type = 'application/json';\n            if ( err.data !== undefined) {\n                yield err.data.data.then((data) => {\n                    this.body = JSON.stringify(Object.assign({}, err.data, { data: data }));\n                });\n            } else {\n                this.body = err.message;\n            }\n        }\n    });\n\n    router.get('/api/v1/query', function* (next : Koa.Context) {\n        yield serverApiContext.queryEngine.runQuery(this.query.query)\n            .then((result) => this.body = result);\n    });\n\n    sourceElementSpecial(router, serverApiContext, typeMap);\n\n    router.get('/api/v1/:route/:id', function* (next : Koa.Context) {\n        yield serverApiContext\n            .getItem<any>(typeMap[this.params.route], this.params.route, parseInt(this.params.id))\n            .then((data) => this.body = Serializer.toJson(data));\n    });\n\n\n    router.get('/api/v1/:route', function* (next : Koa.Context) {\n        yield serverApiContext\n            .getCollection<any>(typeMap[this.params.route], this.params.route, this.query)\n            .then((data) => this.body = data.map((datum) => Serializer.toJson(datum)));\n    });\n\n    router.post('/api/v1/:route', function* (next : Koa.Context) {\n        yield serverApiContext\n            .postItem<any>(typeMap[this.params.route],this.params.route,\n              Serializer.fromJson(typeMap[this.params.route], Object.assign(this.request.body, {\n                creator: this.req.user.uid\n            })))\n            .then((data) => this.body = data);\n    });\n\n    router.put('/api/v1/:route/:id', function* (next : Koa.Context) {\n        yield serverApiContext\n            .putItem<any>(typeMap[this.params.route], this.params.route, parseInt(this.params.id),\n            Serializer.fromJson(typeMap[this.params.route],this.request.body))\n            .then((data) => this.body = data);\n    });\n\n    router.patch('/api/v1/:route/:id', function* (next : Koa.Context) {\n        yield serverApiContext\n            .patchItem<any>(typeMap[this.params.route], this.params.route, parseInt(this.params.id), this.request.body)\n            .then((data) => this.body = data);\n    });\n\n    router.del('/api/v1/:route/:id', function* (next : Koa.Context) {\n        yield serverApiContext\n            .delItem<any>(typeMap[this.params.route], this.params.route, parseInt(this.params.id))\n            .then((data) => this.body = data);\n    });\n\n    return router;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/routes/api.ts","/**\n * @fileOverview Abstract interface for sources\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { ApiService } from '../../common/ApiService';\n\nimport { IController } from '../controllers/IController';\nimport { CollectionNotFoundException } from './Exceptions';\n\nimport { QueryEngine } from './QueryEngine';\n\nimport { CompositeKey, TrackedFalconItem, Serializer } from 'falcon-core';\n\nimport * as moment from 'moment';\n\nimport { triggerReload } from '../../common/Signaller';\n\nexport { AppUrls } from '../../common/ApiService';\n\nimport { Database } from './Database';\n\nimport { GeneralStatisticsController } from '../stats/GeneralStatisticsController';\n\nexport class ServerApiService implements ApiService {\n\n    private controllerMap: Map<string, IController>;\n    private db: Database;\n\n    public queryEngine: QueryEngine;\n    public fakeCreator: boolean;\n\n    constructor(db: Database, routesMap: Map<string, IController>, queryEngine: QueryEngine, fakeCreator: boolean) {\n        this.controllerMap = routesMap;\n        this.queryEngine = queryEngine;\n        this.fakeCreator = fakeCreator;\n        this.db = db;\n    }\n\n    public getItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey) : Promise<T> {\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.getItemJson<T>(obj, uid);\n    }\n\n    public getCollection<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, params: any) : Promise<T[]> {\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.getCollectionJson<T>(obj, params);\n    }\n\n    public postItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, data: T)  : Promise<boolean> {\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.postItem<T>(obj, Object.assign(data, {\n            creationTimestamp: moment().toISOString(),\n            lastmodifiedTimestamp: moment().toISOString(),\n            creator: this.fakeCreator ? 0 : data.creator\n        }))\n        .then((result) => {\n            triggerReload.dispatch();\n            return Promise.resolve(result);\n        });\n    }\n\n    public putItem<T extends TrackedFalconItem>(obj: { new(): T; },\n            baseUrl : string, uid: number | CompositeKey, data: T) : Promise<boolean> {\n\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.putItem<T>(obj, uid, Object.assign(data, {\n            lastmodifiedTimestamp: moment().toISOString()\n        }))\n        .then((result) => {\n            triggerReload.dispatch();\n            return Promise.resolve(result);\n        });\n    }\n\n    public patchItem<T extends TrackedFalconItem>(obj: { new(): T; },\n            baseUrl : string, uid: number | CompositeKey, data : any) : Promise<boolean> {\n\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.patchItem<T>(obj, uid, Object.assign(data, {\n            lastmodifiedTimestamp: moment().toISOString()\n        }))\n        .then((result) => {\n            triggerReload.dispatch();\n            return Promise.resolve(result);\n        });\n    }\n\n    public delItem<T extends TrackedFalconItem>(obj: { new(): T; }, baseUrl : string, uid: number | CompositeKey) {\n        const controller = this.controllerMap.get(baseUrl);\n        if (controller === undefined) {\n            return Promise.reject(new CollectionNotFoundException('Controller not found'));\n        }\n        return controller.deleteItem<T>(obj, uid)\n        .then((result) => {\n            triggerReload.dispatch();\n            return Promise.resolve(result);\n        });\n    }\n\n\n    public query(graphQLQuery: string) : Promise<any> {\n        return Promise.resolve({});\n    }\n\n    public getStats() : Promise<any> {\n      return GeneralStatisticsController(this.db.query());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/core/ServerApiService.ts","/**\n * @fileOverview Map of URIs to controllers\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport * as Knex from 'knex';\n\nimport { GeneralStatistics } from '../../common/stats/GeneralStatistics';\n\nexport const GeneralStatisticsController = (db : Knex) : Promise<GeneralStatistics> => {\n\n    return Promise.all([\n      db('entities').count(),\n      db('entity_types').count(),\n      db('sources').count(),\n      db('records').count(),\n      db('predicates').count()\n    ]).then(([[entityCount], [entityTypeCount], [sourceCount], [recordCount], [predicateCount]]) => {\n\n      const statistics : GeneralStatistics = {\n        entity: entityCount['count(*)'],\n        entityType: entityTypeCount['count(*)'],\n        source: sourceCount['count(*)'],\n        record: recordCount['count(*)'],\n        predicate: predicateCount['count(*)']\n      };\n\n      return statistics;\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/stats/GeneralStatisticsController.ts","/**\n * @fileOverview Query processor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport {\n  graphql,\n  GraphQLSchema,\n  GraphQLObjectType,\n  GraphQLString,\n  GraphQLList\n} from 'graphql';\n\nimport { Database } from './Database';\n\nimport { entityQLType } from '../graphql/entityQLType';\nimport { predicateQLType } from '../graphql/predicateQLType';\n\nexport class QueryEngine {\n\n    private schema: GraphQLSchema;\n\n    constructor(db: Database) {\n\n        const entityType = entityQLType(db, predicateQLType(db));\n\n        // Define the Query type\n        const queryType = new GraphQLObjectType({\n            name: 'Query',\n            fields: {\n                entity: {\n                    type: new GraphQLList(entityType),\n                    // `args` describes the arguments that the `user` query accepts\n                    args: {\n                        uid: { type: GraphQLString }\n                    },\n                    resolve: (_, {uid}) => {\n                        if (uid === undefined) {\n                            return db.query()('entities');\n                        }\n                        return db.query()('entities').where({ uid });\n                    }\n                }\n            }\n        });\n\n        this.schema = new GraphQLSchema({\n            query: queryType\n        });\n    }\n\n    public runQuery(query: any) : Promise<any> {\n        return graphql(this.schema, query);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/server/core/QueryEngine.ts","module.exports = require(\"graphql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql\"\n// module id = 83\n// module chunks = 0","/**\n * @fileOverview Query processor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport {\n  GraphQLObjectType,\n  GraphQLString,\n  GraphQLList\n} from 'graphql';\n\nimport { Database } from '../core/Database';\n\nexport const entityQLType = (db: Database, predicateType: GraphQLObjectType) : GraphQLObjectType => {\n    return new GraphQLObjectType({\n        name: 'Entity',\n        fields: {\n\n            uid: {\n                type: GraphQLString,\n                resolve: (parent, {}) => {\n                    return parent.uid;\n                }\n            },\n\n            label: {\n                type: GraphQLString,\n                resolve: (parent, {}) => {\n                    return parent.label;\n                }\n            },\n\n            type: {\n                type: GraphQLString,\n                resolve: (parent, {}) => {\n                    return db.query()('entity_types').where({ uid: parent.type }).first().then((data) => data.label);\n                }\n            },\n\n            predicate: {\n                type: predicateType,\n                args: {\n                    name: { type: GraphQLString },\n                    uid: { type: GraphQLString }\n                },\n                resolve: (entity, {name, uid}) => {\n                    if (name !== undefined) {\n                        return db.query()('predicates').where({ name }).first().then((predicate) => ({ predicate, entity }));\n                    }\n                    if (uid !== undefined) {\n                        return db.query()('predicates').where({ uid }).first().then((predicate) => ({ predicate, entity }));\n                    }\n                }\n            },\n\n            predicates: {\n                type: new GraphQLList(predicateType),\n                args: {\n                    names: { type: new GraphQLList(GraphQLString) },\n                    uids: { type: new GraphQLList(GraphQLString) }\n                },\n                resolve: (entity, {names, uids}) => {\n                    if (names !== undefined) {\n                        return db.query()('predicates')\n                            .whereIn('name', names)\n                            .then((predicates) => predicates.map((predicate) => ({ predicate, entity })));\n                    }\n                    if (uids !== undefined) {\n                        return db.query()('predicates')\n                            .whereIn('uid', uids)\n                            .then((predicates) => predicates.map((predicate) => ({ predicate, entity })));\n                    }\n                }\n            }\n        }\n    });\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/graphql/entityQLType.ts","/**\n * @fileOverview Query processor\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport {\n  GraphQLObjectType,\n  GraphQLString,\n  GraphQLList\n} from 'graphql';\n\nimport { Database } from '../core/Database';\n\nexport const predicateQLType = (db: Database) : GraphQLObjectType => {\n        return new GraphQLObjectType({\n        name: 'Predicate',\n        fields: {\n\n            uid: {\n                type: GraphQLString,\n                resolve: ({ predicate }, {}) => {\n                    return predicate.uid;\n                }\n            },\n\n            name: {\n                type: GraphQLString,\n                resolve: ({ predicate }, {}) => {\n                    return predicate.label;\n                }\n            },\n\n            values: {\n                type: new GraphQLList(GraphQLString),\n                resolve: ({ entity, predicate }, {}) => {\n                    return db.query()('records')\n                    .select('value_string')\n                    .where({ entity: entity.uid, predicate: predicate.uid })\n                    .then((results) => results.map((result) => result.value_string));\n                }\n            }\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/graphql/predicateQLType.ts","module.exports = require(\"koa-conditional-get\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-conditional-get\"\n// module id = 86\n// module chunks = 0","module.exports = require(\"koa-etag\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-etag\"\n// module id = 87\n// module chunks = 0","/**\n * @fileOverview Collated list of controllers\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nexport { ElementSetController } from './ElementSetController';\nexport { EntityController } from './EntityController';\nexport { EntityTypeController } from './EntityTypeController';\nexport { PredicateController } from './PredicateController';\nexport { RecordController } from './RecordController';\nexport { SourceController } from './SourceController';\nexport { ElementController } from './ElementController';\nexport { SourceElementController } from './SourceElementController';\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/controllers.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { ElementSet, Serializer } from 'falcon-core';\nimport { GenericController } from './GenericController';\n\nimport { omit } from 'lodash';\n\nexport class ElementSetController extends GenericController<ElementSet> {\n\n    constructor(db : Database) {\n        super(db, 'element_sets');\n    }\n\n    public static toSchema(data: ElementSet) : any {\n        return omit(Serializer.toJson(data), 'elements');\n    }\n\n    public static fromSchema(data: any) : ElementSet {\n        return { ... Object.create(ElementSet.prototype), ... data};\n        // return Object.assign(Object.create(ElementSet.prototype), data);\n    }\n\n    protected toSchema(data: ElementSet) : any {\n        return ElementSetController.toSchema(data);\n    }\n\n    protected fromSchema(data: any) : ElementSet {\n        return ElementSetController.fromSchema(data);\n    }\n\n    public getItemJson(obj: { new(): ElementSet }, uid: number) : Promise<ElementSet> {\n        return super.getItemJson(obj, uid)\n        .then((elementSet) => {\n\n            if (elementSet.uid === null) {\n                throw new Error('could not find source');\n            }\n\n            return this.db.select('elements')\n                .where({ 'element_set': elementSet.uid })\n                .then((elements) => {\n                    elementSet.elements = elements;\n                    return elementSet;\n                });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/ElementSetController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { IController } from './IController';\nimport { Database } from '../core/Database';\n\nimport { CompositeKey, FalconItem } from 'falcon-core';\n\nexport abstract class GenericController<T extends FalconItem> implements IController {\n\n    protected tableName: string;\n    protected db : Database;\n\n    constructor(\n        db: Database,\n        table: string) {\n        this.db = db;\n        this.tableName = table;\n    }\n\n    protected abstract fromSchema(data: any) : T;\n    protected abstract toSchema(data: T) : any;\n\n\n    public getItemJson(obj: { new(): T; }, uid: number | CompositeKey) : Promise<T> {\n\n        if (typeof(uid) !== 'number') {\n            throw new Error('Expected single column identifier');\n        }\n\n        return this.db.loadItem(this.tableName, uid)\n        .then((data) => this.fromSchema(data));\n    }\n\n    public getCollectionJson(obj: { new(): T; }, params: any = {}) : Promise<T[]> {\n        return this.db.loadCollection(this.tableName, params)\n         .then((data) => data.map((datum) =>  this.fromSchema(datum)));\n    }\n\n    public postItem(obj: { new(): T; }, data: T) : Promise<any> {\n        return this.db.createItem(this.tableName, this.toSchema(data));\n    }\n\n    public putItem(obj: { new(): T; }, uid: number | CompositeKey, data: T) : Promise<string> {\n\n        if (typeof(uid) !== 'number') {\n            throw new Error('Expected single column identifier');\n        }\n\n        return this.db.updateItem(this.tableName, this.toSchema(data));\n    }\n\n    public patchItem(obj: { new(): T; }, uid: number | CompositeKey, data: T) : Promise<boolean> {\n\n        if (typeof(uid) !== 'number') {\n            throw new Error('Expected single column identifier');\n        }\n\n        return this.db.loadItem(this.tableName, uid)\n        .then((originalData) => {\n            return this.db.updateItem(this.tableName, this.toSchema(Object.assign(this.fromSchema(originalData), data)));\n        });\n    }\n\n    public deleteItem(obj: { new(): T; }, uid: number | CompositeKey) : Promise<string> {\n\n        if (typeof(uid) !== 'number') {\n            throw new Error('Expected single column identifier');\n        }\n\n        return this.db.deleteItem(this.tableName, uid);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/GenericController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { Entity, Serializer } from 'falcon-core';\nimport { GenericController } from './GenericController';\n\nimport { OperationNotPermittedException } from '../core/Exceptions';\n\nimport { omit, isArray } from 'lodash';\n\nexport class EntityController extends GenericController<Entity> {\n\n    constructor(db : Database) {\n        super(db, 'entities');\n    }\n\n    public static fromSchema(data: any) : Entity {\n        return Object.assign(Object.create(Entity.prototype), {\n            entityType: data.type,\n            uid: data.uid,\n            label: data.label,\n            parent: data.parent\n        });\n    }\n\n    public static toSchema(data: Entity) : any {\n       return Object.assign(omit(Serializer.toJson(data),\n            'entityType',\n            'creationTimestamp',\n            'lastmodifiedTimestamp'), {\n            type: data.entityType,\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\n        });\n    }\n\n    protected fromSchema(data: any) : Entity {\n        return EntityController.fromSchema(data);\n    }\n\n    protected toSchema(data: Entity) : any {\n       return EntityController.toSchema(data);\n    }\n\n    public getCollectionJson(obj: { new(): Entity; }, params: any = {}) : Promise<Entity[]>  {\n        if (params.type !== undefined) {\n            return this.db.getChildrenOf(isArray(params.type) ? params.type[0] : params.type, 'entity_types')\n            .then((ancestors) => {\n                return this.db.select('entities').whereIn('type', ancestors)\n                .then((results) => results.map((result) => this.fromSchema(result)));\n            });\n        } else {\n            return super.getCollectionJson(obj, params);\n        }\n    }\n\n    public deleteItem(obj: { new(): Entity; }, uid: number) : Promise<string> {\n        // check if this entity is the parent of another entity or if it has any relationships\n        // pointing towards it.\n        return Promise.all([\n            this.db.select(this.tableName).where('parent', '=', uid),\n            this.db.select('records').where('value_entity', '=', uid)\n        ]).then(([entities, records]) => {\n            if (entities.length + records.length === 0) {\n                return this.db.deleteItem(this.tableName, uid);\n            } else {\n                throw new OperationNotPermittedException({\n                    message: 'The operation could not be completed as the entity is referenced in other sources',\n                    data: Promise.resolve({\n                        entity: entities,\n                        record: records\n                    })\n                });\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/EntityController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { EntityType, Serializer } from 'falcon-core';\nimport { GenericController } from './GenericController';\n\nimport { PredicateController } from './PredicateController';\n\nimport { EntityController } from './EntityController';\n\nimport { OperationNotPermittedException } from '../core/Exceptions';\n\nimport { omit } from 'lodash';\n\nexport class EntityTypeController extends GenericController<EntityType> {\n\n    constructor(db : Database) {\n        super(db, 'entity_types');\n    }\n\n    public toSchema(data: EntityType) {\n        return Object.assign(omit(Serializer.toJson(data),\n                'sameAs',\n                'parents',\n                'children',\n                'creationTimestamp',\n                'lastmodifiedTimestamp'), {\n            same_as: data.sameAs,\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\n        });\n    }\n\n    public fromSchema(data: any) : EntityType {\n        return Object.assign(Object.create(EntityType.prototype), Object.assign(data, {\n            'sameAs': data.same_as\n        }));\n    }\n\n    public getItemJson(obj: { new(): EntityType; }, uid: number) : Promise<EntityType> {\n        return super.getItemJson(obj, uid)\n        .then((result) => {\n            return Promise.all([\n\n                this.db.getAncestorsOf(uid, 'entity_types')\n                .then((ancestors) => {\n                    return this.db.select('entity_types').whereIn('uid', ancestors)\n                    .then((results) => results.map((result) => this.fromSchema(result)));\n                }),\n\n                this.db.select('entity_types', ['uid']).where({ parent: uid })\n            ])\n            .then(([parents, children]) => {\n                result.parents = parents;\n                result.children = children.map((child) => child.uid);\n                return result;\n            });\n        });\n    }\n\n    public deleteItem(obj: { new(): EntityType; }, uid: number) : Promise<string> {\n        // check if this entity is the parent of another entity or if it has any relationships\n        // pointing towards it.\n        return Promise.all([\n            this.db.select(this.tableName).where('parent', '=', uid),\n            this.db.select('entities').where('type', '=', uid),\n            this.db.select('predicates').where('domain', '=', uid).orWhere('range_ref', '=', uid)\n        ]).then(([entityTypes, entities, predicates]) => {\n            if (entities.length + entityTypes.length + predicates.length === 0) {\n                return this.db.deleteItem(this.tableName, uid);\n            } else {\n                throw new OperationNotPermittedException({\n                    message: 'The operation could not be completed as the entity is referenced in other sources',\n                    data: Promise.resolve({\n                        entityType: entityTypes.map((entityType) => EntityController.fromSchema(entityType)),\n                        entity: entities.map((entity) => EntityController.fromSchema(entity)),\n                        predicate: predicates.map((predicate) => PredicateController.fromSchema(predicate))\n                    })\n                });\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/EntityTypeController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { Predicate, Serializer } from 'falcon-core';\n\nimport { GenericController } from './GenericController';\n\nimport { OperationNotPermittedException } from '../core/Exceptions';\n\nimport { RecordController } from './RecordController';\n\nimport { omit, isArray } from 'lodash';\n\nexport class PredicateController extends GenericController<Predicate> {\n\n    constructor(db : Database) {\n        super(db, 'predicates');\n    }\n\n    public static toSchema(data: Predicate) {\n        const out : { [s: string] : any } = Object.assign(omit(Serializer.toJson(data),\n            'range',\n            'rangeIsReference',\n            'sameAs',\n            'creationTimestamp',\n            'lastmodifiedTimestamp'\n        ), {\n            same_as: data.sameAs,\n            range_type: data.rangeIsReference ? 'entity' : data.range,\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\n        });\n\n        if (data.rangeIsReference) {\n            out['range_ref'] = data.range;\n        } else {\n            out['range_ref'] = null;\n        }\n\n        return out;\n    }\n\n    public static fromSchema(data: any) : Predicate {\n        if (data.range_type === 'entity') {\n            data.range = data.range_ref;\n            data.rangeIsReference = true;\n        } else {\n            data.range = data.range_type;\n            data.rangeIsReference = false;\n        }\n\n        return Object.assign(Object.create(Predicate.prototype), Object.assign(data, {\n            'sameAs': data.same_as\n        }));\n    }\n\n\n    protected toSchema(data: Predicate) {\n        return PredicateController.toSchema(data);\n    }\n\n    protected fromSchema(data: any) : Predicate {\n        return PredicateController.fromSchema(data);\n    }\n\n    public getCollectionJson(obj: { new(): Predicate; }, params: any = {}) : Promise<Predicate[]>  {\n        if (params.domain !== undefined) {\n            //TODO: this check should be unecessery\n            return this.db.getAncestorsOf(isArray(params.domain) ? params.domain[0] : params.domain, 'entity_types')\n            .then((ancestors) => {\n                return this.db.select('predicates').whereIn('domain', ancestors.concat([params.domain[0]]))\n                .then((results) => results.map((result) => this.fromSchema(result)));\n            });\n        } else {\n            return super.getCollectionJson(obj, params);\n        }\n    }\n\n    public putItem(obj: { new(): Predicate; }, uid: number, data: Predicate) : Promise<string> {\n\n        if (typeof(uid) !== 'number') {\n            throw new Error('Expected single column identifier');\n        }\n\n        return this.db.updateItem(this.tableName, Serializer.toJson(data));\n    }\n\n    public patchItem(obj: { new(): Predicate; }, uid: number, data: Predicate) : Promise<boolean> {\n\n        if (data.domain !== undefined) {\n            return this.db.select('records', ['entities.type as entityType'])\n                .distinct()\n                .where({ predicate: uid })\n                .innerJoin('entities', 'records.entity', 'entities.uid')\n            .then((records) => {\n\n                if (records.length > 0) {\n\n                    return this.db.getChildrenOf(data.domain, 'entity_types')\n                    .then((res) => {\n                        records.map((e) => e.entityType)\n                        .forEach((e) => {\n                            if (res.indexOf(e) === -1) {\n                                throw new OperationNotPermittedException({\n                                    message: 'The operation could not be completed as it would invalidate predicate relationships',\n                                    data: Promise.resolve({})\n                                });\n                            }\n                        });\n                    }).then(() => super.patchItem(obj, uid, data));\n                }\n\n                return super.patchItem(obj, uid, data);\n            });\n        }\n\n        //TODO: fix range enforcement\n        if (data.range !== undefined) {\n\n            return this.db.select('records')\n                .where({ predicate: uid })\n            .then((records) => {\n\n                if (records.length > 0) {\n\n                    if (data.rangeIsReference === false) {\n                        throw new OperationNotPermittedException({\n                            message: 'The operation could not be completed as it would invalidate predicate relationships',\n                            data: Promise.resolve({})\n                        });\n                    }\n\n                    return this.db.getChildrenOf(data.range, 'entity_types')\n                    .then((res) => {\n                        records.map((e) => e.value_entity)\n                        .forEach((e) => {\n                            if (res.indexOf(e) === -1) {\n                                throw new OperationNotPermittedException({\n                                    message: 'The operation could not be completed as it would invalidate predicate relationships',\n                                    data: Promise.resolve({})\n                                });\n                            }\n                        });\n                    }).then(() => super.patchItem(obj, uid, data));\n                }\n\n                return super.patchItem(obj, uid, data);\n            });\n        }\n\n        return super.patchItem(obj, uid, data);\n    }\n\n     public deleteItem(obj: { new(): Predicate; }, uid: number) : Promise<string> {\n        // check if this entity is the parent of another entity or if it has any relationships\n        // pointing towards it.\n        return Promise.all([\n            this.db.loadCollection('records', { predicate: uid})\n        ]).then(([records]) => {\n            if (records.length === 0) {\n                return this.db.deleteItem(this.tableName, uid);\n            } else {\n                throw new OperationNotPermittedException({\n                    message: 'The operation could not be completed as the predicate is used by other records',\n                    data: Promise.resolve({\n                        record: records.map((record) => RecordController.fromSchema(record))\n                    })\n                });\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/PredicateController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { Record, Serializer } from 'falcon-core';\nimport { GenericController } from './GenericController';\n\nimport { OperationNotPermittedException } from '../core/Exceptions';\n\nimport { omit } from 'lodash';\n\nexport class RecordController extends GenericController<Record> {\n\n    constructor(db : Database) {\n        super(db, 'records');\n    }\n\n    public static toSchema(data: Record) {\n        const schemaOutput = omit(Serializer.toJson(data),\n            'value',\n            'valueType',\n            'creationTimestamp',\n            'label',\n            'lastmodifiedTimestamp');\n\n        schemaOutput.value_type = data.valueType;\n\n        if (data.valueType !== undefined && data.valueType !== 'source') {\n            schemaOutput['value_' + data.valueType] = data.value;\n        }\n\n        return Object.assign({}, schemaOutput, {\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\n        });\n    }\n\n    public static fromSchema(data: any) : Record {\n\n        data.valueType = data.value_type;\n\n        switch (data.value_type) {\n            case 'entity':\n                data.value = data.value_entity;\n                break;\n            case 'string':\n                data.value = data.value_string;\n                break;\n            case 'date':\n                data.value = data.value_date;\n                break;\n            case 'integer':\n                data.value = data.value_integer;\n                break;\n            case 'point':\n                data.value = data.value_point;\n                break;\n            case 'region':\n                data.value = data.value_region;\n                break;\n            case 'source':\n                data.value = data.source;\n                break;\n            default:\n                data.value = null;\n        }\n\n        return Object.assign(Object.create(Record.prototype), data);\n    }\n\n    protected toSchema(data: Record) {\n      return RecordController.toSchema(data);\n    }\n\n    protected fromSchema(data: any) {\n      return RecordController.fromSchema(data);\n    }\n\n    public postItem(obj: { new(): Record; }, data: Record) : Promise<string> {\n\n        // predicate domain must equal value_type\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\n        .then(([predicate]) => {\n            if (data.valueType === predicate.range_type) {\n                //TODO: still need to check entity type constraints\n                return super.postItem(obj, data);\n            }\n            throw new OperationNotPermittedException({\n                message: 'Attempted to add a record with an incorrect type!',\n                data: Promise.resolve({})\n            });\n        });\n    }\n\n    public putItem(obj: { new(): Record; }, uid: number, data: Record) : Promise<string> {\n\n        //TODO: what happens if we only update the value - and do not send the valueType again?\n\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\n        .then(([predicate]) => {\n            if (data.valueType === predicate.range_type) {\n                //TODO: still need to check entity type constraints\n                return super.putItem(obj, uid, data);\n            }\n            throw new OperationNotPermittedException({\n                message: 'Attempted to add a record with an incorrect type!',\n                data: Promise.resolve({})\n            });\n        });\n    }\n\n    public patchItem(obj: { new(): Record; }, uid: number, data: Record) : Promise<boolean> {\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\n        .then(([predicate]) => {\n            if (data.valueType === predicate.range_type) {\n                //TODO: still need to check entity type constraints\n                return super.patchItem(obj, uid, data);\n            }\n            throw new OperationNotPermittedException({\n                message: 'Attempted to add a record with an incorrect type!',\n                data: Promise.resolve({})\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/RecordController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { Source, Serializer } from 'falcon-core';\nimport { GenericController } from './GenericController';\n\nimport { OperationNotPermittedException } from '../core/Exceptions';\n\nimport { RecordController } from './RecordController';\n\nimport { omit, groupBy, flatten, map as pluck } from 'lodash';\n\nexport class SourceController extends GenericController<Source> {\n\n    constructor(db : Database) {\n        super(db, 'sources');\n    }\n\n    public toSchema(data: Source) {\n        return Object.assign({}, omit(Serializer.toJson(data),\n            'metaData',\n            'sameAs',\n            'parents',\n            'children',\n            'creationTimestamp',\n            'lastmodifiedTimestamp'\n        ), {\n            same_as: data.sameAs,\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\n        });\n    }\n\n    public fromSchema(data: any) : Source {\n        return Object.assign(Object.create(Source.prototype), Object.assign(data, {\n            'sameAs': data.same_as\n        }));\n    }\n\n    // override the getItemJson and getCollectionJson functions to also get information about the\n    // metadata associated with the retrieved source\n\n    private getMetadata(fields : string[], sourceId: number) : Promise<any> {\n\n        return this.db.query().raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM sources),\n                ancestor(uid) AS (\n                SELECT parent FROM parent_of WHERE uid=?\n                UNION ALL\n                SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\n            SELECT *\n                FROM ancestor;\n        `, sourceId).then((parents) => {\n            parents = pluck(parents, 'uid');\n            parents.pop();\n            parents = [sourceId].concat(parents);\n            return Promise.all(parents.map((parent) =>\n                this.db.query().select(fields)\n                .from('source_elements')\n                .innerJoin('elements', function() { this.on('source_elements.element', '=', 'elements.uid'); })\n                .innerJoin('element_sets', function() { this.on('element_sets.uid', '=', 'elements.element_set'); })\n                .where({ 'source_elements.source': parent })\n\n            )).then((results) => {\n                const a = groupBy(flatten(results), 'label');\n                return Object.keys(a).reduce((prev, cur) => {\n                    const meta = omit(a[cur][0], 'source', 'value');\n                    meta['values'] = a[cur]\n                        .map((val) => ({ source: val.source, value: val.value, uid: val.uid }))\n                        .sort((a, b) => parents.indexOf(a.source) - parents.indexOf(b.source));\n                    return Object.assign(prev, { [cur]: meta });\n                }, {});\n            });\n        });\n    }\n\n    public getItemJson(obj: { new(): Source; }, uid: number) : Promise<Source> {\n        return super.getItemJson(obj, uid)\n        .then((source) => {\n\n            if (source.uid === null) {\n                throw new Error('could not find source');\n            }\n\n            return Promise.all([\n                this.getMetadata([\n                'source_elements.source as source',\n                'elements.label',\n                'source_elements.value',\n                'elements.description',\n                'element_sets.label as element_set',\n                'elements.comment',\n                'elements.uri',\n                'elements.uid as element_uid'], source.uid),\n\n                this.db.query().select('uid').from('sources').where({ parent: uid }),\n\n                this.db.query().raw(`\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM sources),\n                    ancestor(uid) AS (\n                    SELECT parent FROM parent_of WHERE uid=?\n                    UNION ALL\n                    SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\n                    SELECT uid\n                    FROM ancestor;\n                `, uid)\n            ])\n            .then(([sourceElements, children, parents]) => {\n                source.metaData = sourceElements;\n                source.children = children.map((child) => child.uid).filter((child) => child !== null);\n                source.parents = parents.map((parent) => parent.uid).filter((parent) => parent !== null);\n                return source;\n            });\n        });\n    }\n\n    public getCollectionJson(obj: { new(): Source; }, params: any = {}) : Promise<Source[]> {\n        return super.getCollectionJson(obj, params)\n        .then((sources) => {\n            return Promise.all(sources.map((source) => {\n\n                if (source.uid === null) {\n                    throw new Error('could not find source');\n                }\n\n                return this.getMetadata([\n                    'elements.label',\n                    'source_elements.value'\n                ], source.uid)\n                .then((sourceElements) => {\n                    source.metaData = sourceElements;\n                    return source;\n                });\n\n            }));\n        });\n    }\n\n    //TODO should find every child source, not just the direct children\n    public deleteItem(obj: { new(): Source; }, uid: number) : Promise<string> {\n        // check if this entity is the parent of another entity or if it has any relationships\n        // pointing towards it.\n        return Promise.all([\n            this.db.loadCollection('records', { source: uid}),\n            this.db.loadCollection('sources', { parent: uid})\n        ]).then(([records, sources]) => {\n            if (records.length + sources.length === 0) {\n                return this.db.deleteItem(this.tableName, uid);\n            } else {\n                throw new OperationNotPermittedException({\n                    message: 'The operation could not be completed as the source is used by other records',\n                    data: Promise.resolve({\n                        record: records.map((record) => RecordController.fromSchema(record)),\n                        source: sources.map((source) => this.fromSchema(source))\n                    })\n                });\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/SourceController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { Element, Serializer } from 'falcon-core';\n\nimport { GenericController } from './GenericController';\n\nexport class ElementController extends GenericController<Element> {\n\n    constructor(db : Database) {\n        super(db, 'elements');\n    }\n\n    public toSchema(data: Element) : any {\n        return Serializer.toJson(data);\n    }\n\n    public fromSchema(data: any) : Element {\n        return Object.assign(Object.create(Element.prototype), data);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/ElementController.ts","/**\n * @fileOverview Controller for element sets\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\n * @version 0.0.1\n */\n\nimport { Database } from '../core/Database';\n\nimport { SourceElement, Serializer, CompositeKey } from 'falcon-core';\n\nimport { GenericController } from './GenericController';\n\nimport { KeyNotFoundException } from '../core/Exceptions';\n\nimport { omit } from 'lodash';\n\nexport class SourceElementController extends GenericController<SourceElement> {\n\n    constructor(db : Database) {\n        super(db, 'source_elements');\n    }\n\n     public toSchema(data: SourceElement) {\n        return Object.assign(omit(Serializer.toJson(data),\n            'creationTimestamp',\n            'lastmodifiedTimestamp',\n            'uid',\n            'label'\n        ), {\n            creation_timestamp: data.creationTimestamp,\n            lastmodified_timeStamp: data.lastmodifiedTimestamp,\n            // TODO: check these exist\n            source: data.uid.values['source'],\n            element: data.uid.values['element']\n        });\n    }\n\n    public fromSchema(data: any) : SourceElement {\n        return Object.assign(Object.create(SourceElement.prototype), Object.assign(data, {\n                uid: {\n                order: ['source', 'element'],\n                values: {\n                    source: data.source,\n                    element: data.element\n                }\n            }\n        }));\n    }\n\n    public getItemJson(obj: { new(): SourceElement; }, uid: CompositeKey) : Promise<SourceElement> {\n        return this.db.query().select()\n        .from(this.tableName)\n        .where(uid.values)\n        .first()\n        .then((result) => result === undefined ? Promise.reject(new KeyNotFoundException()) : result)\n        .then((data) => this.fromSchema(data));\n    }\n\n    public putItem(obj: { new(): SourceElement; }, uid: CompositeKey, data: SourceElement) : Promise<string> {\n        return this.db.query()(this.tableName)\n            .where(uid.values)\n            .update(this.toSchema(data));\n    }\n\n    public patchItem(obj: { new(): SourceElement; }, uid: CompositeKey, data: SourceElement) : Promise<boolean> {\n        const schemaData = this.toSchema(data);\n\n        const keys = Object.keys(schemaData);\n\n        const updateObject = {};\n\n        for (let i = 0; i < keys.length; i += 1) {\n            if (schemaData[keys[i]] !== undefined) {\n                updateObject[keys[i]] = schemaData[keys[i]];\n            }\n        }\n\n        return this.db.query()(this.tableName)\n            .where(uid.values)\n            .update(updateObject)\n            .then(() => true)\n            .catch((err) => { throw new Error(err); });\n    }\n\n    public deleteItem(obj: { new(): SourceElement; }, uid: CompositeKey) : Promise<string> {\n        return this.db.query()(this.tableName)\n            .where(uid.values)\n            .del();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/SourceElementController.ts","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 98\n// module chunks = 0"],"sourceRoot":""}