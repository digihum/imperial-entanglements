/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst react_dom_1 = __webpack_require__(1);\r\nconst react_1 = __webpack_require__(2);\r\nconst FalconApp_1 = __webpack_require__(3);\r\nconst Database_1 = __webpack_require__(76);\r\nconst api_1 = __webpack_require__(79);\r\nconst react_router_1 = __webpack_require__(4);\r\nconst electron = __webpack_require__(98);\r\nconst databaseFile = electron.remote.dialog.showOpenDialog({ properties: ['openFile'], filters: [\r\n        { name: 'Database Files', extensions: ['sqlite'] }\r\n    ] });\r\nif (databaseFile !== undefined) {\r\n    electron.remote.getCurrentWindow().setTitle(`Imperial Entanglements (${databaseFile[0]})`);\r\n    const db = new Database_1.Database({\r\n        client: 'sqlite3',\r\n        useNullAsDefault: true,\r\n        connection: {\r\n            filename: databaseFile[0]\r\n        },\r\n        pool: {\r\n            afterCreate: (conn, cb) => {\r\n                conn.run('PRAGMA foreign_keys = ON', cb);\r\n            }\r\n        }\r\n    });\r\n    document.addEventListener('DOMContentLoaded', (event) => {\r\n        react_dom_1.render(react_1.createElement(FalconApp_1.FalconApp, {\r\n            api: api_1.wrapDatabase(db, true),\r\n            environment: 'app',\r\n            connected: false,\r\n            router: react_router_1.MemoryRouter,\r\n            routerSettings: {\r\n                initialEntries: ['/'],\r\n                initialIndex: 0\r\n            }\r\n        }), document.getElementById('falcon-container'));\r\n    });\r\n}\r\nelse {\r\n    electron.remote.app.quit();\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC5lbGVjdHJvbi50cz85YzM0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsd0NBQXVCLENBQVcsQ0FBQztBQUNuQyxvQ0FBOEIsQ0FBTyxDQUFDO0FBQ3RDLHdDQUEwQixDQUFxQixDQUFDO0FBQ2hELHVDQUF5QixFQUF5QixDQUFDO0FBQ25ELGtDQUE2QixFQUFzQixDQUFDO0FBQ3BELDJDQUE2QixDQUFjLENBQUM7QUFFNUMsTUFBWSxRQUFRLHVCQUFNLEVBQVUsQ0FBQztBQUVyQyxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBQyxVQUFVLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRyxPQUFPLEVBQUU7UUFDNUYsRUFBQyxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUM7S0FDakQsRUFBQyxDQUFDLENBQUM7QUFFTixFQUFFLENBQUMsQ0FBQyxZQUFZLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztJQUUvQixRQUFRLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsUUFBUSxDQUFDLDJCQUEyQixZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRTNGLE1BQU0sRUFBRSxHQUFHLElBQUksbUJBQVEsQ0FBQztRQUN0QixNQUFNLEVBQUUsU0FBUztRQUNqQixnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCLFVBQVUsRUFBRTtZQUNWLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO1NBQzFCO1FBQ0QsSUFBSSxFQUFFO1lBQ0osV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0MsQ0FBQztTQUNGO0tBRUYsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLENBQUMsS0FBSztRQUNoRCxrQkFBTSxDQUFDLHFCQUFhLENBQUMscUJBQVMsRUFBRTtZQUM1QixHQUFHLEVBQUUsa0JBQVksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDO1lBQzNCLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLE1BQU0sRUFBRSwyQkFBWTtZQUNwQixjQUFjLEVBQUU7Z0JBQ2QsY0FBYyxFQUFFLENBQUMsR0FBRyxDQUFDO2dCQUNyQixZQUFZLEVBQUUsQ0FBQzthQUNoQjtTQUNKLENBQUMsRUFBVyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFBQyxJQUFJLENBQUMsQ0FBQztJQUNOLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQzdCLENBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBBYnN0cmFjdCBpbnRlcmZhY2UgZm9yIHNvdXJjZXNcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjAuMVxuICovXG5cbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRmFsY29uQXBwIH0gZnJvbSAnLi4vY29tbW9uL0ZhbGNvbkFwcCc7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL3NlcnZlci9jb3JlL0RhdGFiYXNlJztcbmltcG9ydCB7IHdyYXBEYXRhYmFzZSB9IGZyb20gJy4uL3NlcnZlci9yb3V0ZXMvYXBpJztcbmltcG9ydCB7IE1lbW9yeVJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmltcG9ydCAqIGFzIGVsZWN0cm9uIGZyb20gJ2VsZWN0cm9uJztcblxuY29uc3QgZGF0YWJhc2VGaWxlID0gZWxlY3Ryb24ucmVtb3RlLmRpYWxvZy5zaG93T3BlbkRpYWxvZyh7cHJvcGVydGllczogWydvcGVuRmlsZSddLCAgZmlsdGVyczogW1xuICAgIHtuYW1lOiAnRGF0YWJhc2UgRmlsZXMnLCBleHRlbnNpb25zOiBbJ3NxbGl0ZSddfVxuICBdfSk7XG5cbmlmIChkYXRhYmFzZUZpbGUgIT09IHVuZGVmaW5lZCkge1xuXG4gIGVsZWN0cm9uLnJlbW90ZS5nZXRDdXJyZW50V2luZG93KCkuc2V0VGl0bGUoYEltcGVyaWFsIEVudGFuZ2xlbWVudHMgKCR7ZGF0YWJhc2VGaWxlWzBdfSlgKTtcblxuICBjb25zdCBkYiA9IG5ldyBEYXRhYmFzZSh7XG4gICAgY2xpZW50OiAnc3FsaXRlMycsXG4gICAgdXNlTnVsbEFzRGVmYXVsdDogdHJ1ZSxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBmaWxlbmFtZTogZGF0YWJhc2VGaWxlWzBdXG4gICAgfSxcbiAgICBwb29sOiB7XG4gICAgICBhZnRlckNyZWF0ZTogKGNvbm4sIGNiKSA9PiB7XG4gICAgICAgIGNvbm4ucnVuKCdQUkFHTUEgZm9yZWlnbl9rZXlzID0gT04nLCBjYik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vZGVidWc6IHRydWVcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIChldmVudCkgPT4ge1xuICAgICAgcmVuZGVyKGNyZWF0ZUVsZW1lbnQoRmFsY29uQXBwLCB7XG4gICAgICAgICAgYXBpOiB3cmFwRGF0YWJhc2UoZGIsIHRydWUpLFxuICAgICAgICAgIGVudmlyb25tZW50OiAnYXBwJyxcbiAgICAgICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIHJvdXRlcjogTWVtb3J5Um91dGVyLFxuICAgICAgICAgIHJvdXRlclNldHRpbmdzOiB7XG4gICAgICAgICAgICBpbml0aWFsRW50cmllczogWycvJ10sXG4gICAgICAgICAgICBpbml0aWFsSW5kZXg6IDBcbiAgICAgICAgICB9XG4gICAgICB9KSwgPEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZhbGNvbi1jb250YWluZXInKSk7XG4gIH0pO1xufSBlbHNlIHtcbiAgZWxlY3Ryb24ucmVtb3RlLmFwcC5xdWl0KCk7XG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9hcHAuZWxlY3Ryb24udHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = require(\"react-dom\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb21cIj81ZTk5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWFjdC1kb21cIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = require(\"react\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiPzNjNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3RcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n//https://react-router.now.sh/Match\r\nconst React = __webpack_require__(2);\r\nconst react_router_1 = __webpack_require__(4);\r\nconst RouteNotFound_1 = __webpack_require__(5);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst itemTypes_1 = __webpack_require__(7);\r\nconst Admin_1 = __webpack_require__(8);\r\nconst AdminApp_1 = __webpack_require__(10);\r\nconst User_1 = __webpack_require__(11);\r\nconst UserManagement_1 = __webpack_require__(12);\r\nconst AppDownload_1 = __webpack_require__(13);\r\nconst DatabaseUpload_1 = __webpack_require__(14);\r\nconst react_router_2 = __webpack_require__(4);\r\nconst ObjectEditor_1 = __webpack_require__(15);\r\nclass FalconApp extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            user: '',\r\n            stats: null\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.environment === 'website' && window !== undefined) {\r\n            fetch('/admin/currentuser', { credentials: 'same-origin' })\r\n                .then((response) => response.json())\r\n                .then((userData) => this.setState({ user: userData.username }));\r\n        }\r\n        this.props.api.getStats()\r\n            .then((stats) => {\r\n            this.setState({ stats });\r\n        });\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {id: 'main', className: 'flex-fill'}, \r\n            React.createElement(this.props.router, __assign({}, this.props.routerSettings, {className: 'flex-fill', basename: '/admin'}), \r\n                React.createElement(\"div\", {className: 'flex-fill', style: { flexDirection: 'column' }}, \r\n                    React.createElement(\"div\", {className: 'header'}, \r\n                        React.createElement(react_router_2.Link, {to: '/', className: 'logo-link'}, \r\n                            React.createElement(\"div\", {className: 'logo'}, \"VRE\")\r\n                        ), \r\n                        React.createElement(react_router_2.Link, {to: '/', className: 'header-link'}, \"Home\"), \r\n                        React.createElement(react_router_2.Link, {accessKey: 's', to: '/edit/' + ApiService_1.AppUrls.source, className: 'header-link source'}, itemTypes_1.itemTypes.source.plural), \r\n                        React.createElement(react_router_2.Link, {accessKey: 'e', to: '/edit/' + ApiService_1.AppUrls.entity, className: 'header-link entity'}, itemTypes_1.itemTypes.entity.plural), \r\n                        React.createElement(react_router_2.Link, {accessKey: 'p', to: '/edit/' + ApiService_1.AppUrls.predicate, className: 'header-link predicate'}, itemTypes_1.itemTypes.predicate.plural), \r\n                        React.createElement(react_router_2.Link, {accessKey: 't', to: '/edit/' + ApiService_1.AppUrls.entity_type, className: 'header-link entity_type'}, itemTypes_1.itemTypes.entity_type.plural), \r\n                        this.props.environment === 'website' ? (React.createElement(\"div\", {className: 'right-header'}, \r\n                            React.createElement(react_router_2.Link, {to: '/user', className: 'header-link'}, \r\n                                React.createElement(\"span\", {className: 'current-user'}, this.state.user)\r\n                            ), \r\n                            React.createElement(\"a\", {href: '/admin/logout', className: 'header-link'}, \"Logout\"), \r\n                            React.createElement(\"a\", {href: '/', className: 'header-link'}, \r\n                                React.createElement(\"i\", {className: 'fa fa-external-link'})\r\n                            ))) : null), \r\n                    this.props.environment === 'website' ? (React.createElement(react_router_1.Match, {exactly: true, pattern: '/', render: (matchprops) => (React.createElement(Admin_1.Admin, __assign({}, matchprops, {stats: this.state.stats})))})) : (React.createElement(react_router_1.Match, {exactly: true, pattern: '/', render: (matchprops) => (React.createElement(AdminApp_1.AdminApp, __assign({}, matchprops, {stats: this.state.stats})))})), \r\n                    React.createElement(react_router_1.Match, {exactly: true, pattern: '/user', component: User_1.User}), \r\n                    React.createElement(react_router_1.Match, {exactly: true, pattern: '/users', component: UserManagement_1.UserManagement}), \r\n                    React.createElement(react_router_1.Match, {exactly: true, pattern: '/app', component: AppDownload_1.AppDownload}), \r\n                    React.createElement(react_router_1.Match, {exactly: true, pattern: '/upload', component: DatabaseUpload_1.DatabaseUpload}), \r\n                    React.createElement(react_router_1.Match, {exactly: true, pattern: '/search', render: (matchprops) => (React.createElement(ObjectEditor_1.ObjectEditor, __assign({api: this.props.api}, matchprops, {workspace: 'search'})))}), \r\n                    React.createElement(react_router_1.Match, {pattern: '/edit/:workspace', render: (matchprops) => (React.createElement(ObjectEditor_1.ObjectEditor, __assign({api: this.props.api}, matchprops, {workspace: matchprops.params.workspace === 'property' ? 'predicate' : matchprops.params.workspace})))}), \r\n                    React.createElement(react_router_1.Miss, {component: RouteNotFound_1.RouteNotFound}))\r\n            )\r\n        ));\r\n    }\r\n}\r\nexports.FalconApp = FalconApp;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0ZhbGNvbkFwcC50c3g/YmFmNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOzs7Ozs7Ozs7O0FBRUgsbUNBQW1DO0FBRW5DLE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsMkNBQTRCLENBQWMsQ0FBQztBQUUzQyw0Q0FBOEIsQ0FBdUIsQ0FBQztBQUV0RCx5Q0FBb0MsQ0FBYyxDQUFDO0FBRW5ELHdDQUEwQixDQUFhLENBQUM7QUFFeEMsb0NBQXNCLENBQWUsQ0FBQztBQUN0Qyx1Q0FBeUIsRUFBaUIsQ0FBQztBQUUzQyxtQ0FBcUIsRUFBYyxDQUFDO0FBQ3BDLDZDQUErQixFQUF3QixDQUFDO0FBQ3hELDBDQUE0QixFQUFxQixDQUFDO0FBQ2xELDZDQUErQixFQUF3QixDQUFDO0FBRXhELDJDQUFxQixDQUFjLENBQUM7QUFDcEMsMkNBQTZCLEVBQXNCLENBQUM7QUFpQnBELHdCQUErQixLQUFLLENBQUMsU0FBUztJQUUxQyxZQUFZLEtBQXFCO1FBQzdCLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRSxJQUFJO1NBQ2QsQ0FBQztJQUNOLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEtBQUssU0FBUyxJQUFJLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQy9ELEtBQUssQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsQ0FBQztpQkFDdEQsSUFBSSxDQUFDLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDbkMsSUFBSSxDQUFDLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENB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V0FBVyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsU0FBVSxHQUNoRyxDQUNiLEVBQUc7b0JBRUosb0JBQUMsbUJBQUksR0FBQyxTQUFTLEVBQUUsNkJBQWMsRUFBRyxDQUNoQzthQUNVO1NBQ2xCLENBQUMsQ0FBQztJQUNaLENBQUM7QUFFTCxDQUFDO0FBdEZZLGlCQUFTLFlBc0ZyQiIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuLy9odHRwczovL3JlYWN0LXJvdXRlci5ub3cuc2gvTWF0Y2hcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWF0Y2gsIE1pc3MgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgeyBSb3V0ZU5vdEZvdW5kIH0gZnJvbSAnLi92aWV3cy9Sb3V0ZU5vdEZvdW5kJztcblxuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4vQXBpU2VydmljZSc7XG5cbmltcG9ydCB7IGl0ZW1UeXBlcyB9IGZyb20gJy4vaXRlbVR5cGVzJztcblxuaW1wb3J0IHsgQWRtaW4gfSBmcm9tICcuL3ZpZXdzL0FkbWluJztcbmltcG9ydCB7IEFkbWluQXBwIH0gZnJvbSAnLi4vYXBwL0FkbWluQXBwJztcblxuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4vdmlld3MvVXNlcic7XG5pbXBvcnQgeyBVc2VyTWFuYWdlbWVudCB9IGZyb20gJy4vdmlld3MvVXNlck1hbmFnZW1lbnQnO1xuaW1wb3J0IHsgQXBwRG93bmxvYWQgfSBmcm9tICcuL3ZpZXdzL0FwcERvd25sb2FkJztcbmltcG9ydCB7IERhdGFiYXNlVXBsb2FkIH0gZnJvbSAnLi92aWV3cy9EYXRhYmFzZVVwbG9hZCc7XG5cbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgT2JqZWN0RWRpdG9yIH0gZnJvbSAnLi92aWV3cy9PYmplY3RFZGl0b3InO1xuXG5pbXBvcnQgeyBHZW5lcmFsU3RhdGlzdGljcyB9IGZyb20gJy4vc3RhdHMvR2VuZXJhbFN0YXRpc3RpY3MnO1xuXG5pbnRlcmZhY2UgRmFsY29uQXBwUHJvcHMge1xuICAgIHJvdXRlcjogYW55O1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICByb3V0ZXJTZXR0aW5nczogYW55O1xuICAgIGVudmlyb25tZW50OiAnYXBwJyB8ICd3ZWJzaXRlJztcbiAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBGYWxjb25BcHBTdGF0ZSB7XG4gICAgdXNlcjogc3RyaW5nO1xuICAgIHN0YXRzOiBHZW5lcmFsU3RhdGlzdGljcyB8IG51bGw7XG59XG5cbmV4cG9ydCBjbGFzcyBGYWxjb25BcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RmFsY29uQXBwUHJvcHMsIEZhbGNvbkFwcFN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogRmFsY29uQXBwUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHVzZXI6ICcnLFxuICAgICAgICAgICAgc3RhdHM6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmVudmlyb25tZW50ID09PSAnd2Vic2l0ZScgJiYgd2luZG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZldGNoKCcvYWRtaW4vY3VycmVudHVzZXInLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB0aGlzLnNldFN0YXRlKHsgdXNlcjogdXNlckRhdGEudXNlcm5hbWUgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5hcGkuZ2V0U3RhdHMoKVxuICAgICAgICAudGhlbigoc3RhdHMpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RhdHMgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD0nbWFpbicgY2xhc3NOYW1lPSdmbGV4LWZpbGwnPlxuICAgICAgICAgICAgPHRoaXMucHJvcHMucm91dGVyIHsuLi50aGlzLnByb3BzLnJvdXRlclNldHRpbmdzfSBjbGFzc05hbWU9J2ZsZXgtZmlsbCcgYmFzZW5hbWU9Jy9hZG1pbic+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZmlsbCcgc3R5bGU9e3sgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoZWFkZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89Jy8nIGNsYXNzTmFtZT0nbG9nby1saW5rJz48ZGl2IGNsYXNzTmFtZT0nbG9nbyc+VlJFPC9kaXY+PC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89Jy8nIGNsYXNzTmFtZT0naGVhZGVyLWxpbmsnPkhvbWU8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TGluayBhY2Nlc3NLZXk9J3MnIHRvPXsnL2VkaXQvJyArIEFwcFVybHMuc291cmNlfSBjbGFzc05hbWU9J2hlYWRlci1saW5rIHNvdXJjZSc+e2l0ZW1UeXBlcy5zb3VyY2UucGx1cmFsfTwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGFjY2Vzc0tleT0nZScgdG89eycvZWRpdC8nICsgQXBwVXJscy5lbnRpdHl9IGNsYXNzTmFtZT0naGVhZGVyLWxpbmsgZW50aXR5Jz57aXRlbVR5cGVzLmVudGl0eS5wbHVyYWx9PC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgYWNjZXNzS2V5PSdwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPXsnL2VkaXQvJyArIEFwcFVybHMucHJlZGljYXRlfSBjbGFzc05hbWU9J2hlYWRlci1saW5rIHByZWRpY2F0ZSc+e2l0ZW1UeXBlcy5wcmVkaWNhdGUucGx1cmFsfTwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGFjY2Vzc0tleT0ndCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz17Jy9lZGl0LycgKyBBcHBVcmxzLmVudGl0eV90eXBlfSBjbGFzc05hbWU9J2hlYWRlci1saW5rIGVudGl0eV90eXBlJz57aXRlbVR5cGVzLmVudGl0eV90eXBlLnBsdXJhbH08L0xpbms+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5lbnZpcm9ubWVudCA9PT0gJ3dlYnNpdGUnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyaWdodC1oZWFkZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz0nL3VzZXInIGNsYXNzTmFtZT0naGVhZGVyLWxpbmsnPjxzcGFuIGNsYXNzTmFtZT0nY3VycmVudC11c2VyJz57dGhpcy5zdGF0ZS51c2VyfTwvc3Bhbj48L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Jy9hZG1pbi9sb2dvdXQnIGNsYXNzTmFtZT0naGVhZGVyLWxpbmsnPkxvZ291dDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0nLycgY2xhc3NOYW1lPSdoZWFkZXItbGluayc+PGkgY2xhc3NOYW1lPSdmYSBmYS1leHRlcm5hbC1saW5rJz48L2k+PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmVudmlyb25tZW50ID09PSAnd2Vic2l0ZScgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8TWF0Y2ggZXhhY3RseSBwYXR0ZXJuPScvJyByZW5kZXI9e1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hdGNocHJvcHMpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEFkbWluIHsuLi5tYXRjaHByb3BzfSBzdGF0cz17dGhpcy5zdGF0ZS5zdGF0c30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX0vPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPE1hdGNoIGV4YWN0bHkgcGF0dGVybj0nLycgcmVuZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaHByb3BzKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxBZG1pbkFwcCB7Li4ubWF0Y2hwcm9wc30gc3RhdHM9e3RoaXMuc3RhdGUuc3RhdHN9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICA8TWF0Y2ggZXhhY3RseSBwYXR0ZXJuPScvdXNlcicgY29tcG9uZW50PXtVc2VyfSAvPlxuICAgICAgICAgICAgICAgICAgICA8TWF0Y2ggZXhhY3RseSBwYXR0ZXJuPScvdXNlcnMnIGNvbXBvbmVudD17VXNlck1hbmFnZW1lbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxNYXRjaCBleGFjdGx5IHBhdHRlcm49Jy9hcHAnIGNvbXBvbmVudD17QXBwRG93bmxvYWR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxNYXRjaCBleGFjdGx5IHBhdHRlcm49Jy91cGxvYWQnIGNvbXBvbmVudD17RGF0YWJhc2VVcGxvYWR9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgPE1hdGNoIGV4YWN0bHkgcGF0dGVybj0nL3NlYXJjaCcgcmVuZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaHByb3BzKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9iamVjdEVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfSB7Li4ubWF0Y2hwcm9wc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlPXsnc2VhcmNoJ30gLz4pXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cblxuICAgICAgICAgICAgICAgICAgICA8TWF0Y2ggcGF0dGVybj0nL2VkaXQvOndvcmtzcGFjZScgcmVuZGVyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXRjaHByb3BzKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9iamVjdEVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfSB7Li4ubWF0Y2hwcm9wc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlPXttYXRjaHByb3BzLnBhcmFtcy53b3Jrc3BhY2UgPT09ICdwcm9wZXJ0eScgPyAncHJlZGljYXRlJyA6IG1hdGNocHJvcHMucGFyYW1zLndvcmtzcGFjZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4pXG4gICAgICAgICAgICAgICAgICAgIH0gLz5cblxuICAgICAgICAgICAgICAgICAgICA8TWlzcyBjb21wb25lbnQ9e1JvdXRlTm90Rm91bmR9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMucm91dGVyPlxuICAgICAgICA8L2Rpdj4pO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9GYWxjb25BcHAudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("module.exports = require(\"react-router\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1yb3V0ZXJcIj9lZTE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyZWFjdC1yb3V0ZXJcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.RouteNotFound = (props) => (React.createElement(\"section\", null, \r\n    React.createElement(\"h1\", null, \r\n        \"The page at \", \r\n        props.url, \r\n        \" does not exist :(\")\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL1JvdXRlTm90Rm91bmQudHN4P2ExYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBRWxCLHFCQUFhLEdBQUcsQ0FBQyxLQUFzQixLQUFLLENBQ3JELHFCQUFDLE9BQU87SUFDSixxQkFBQyxFQUFFO1FBQUMsY0FBWTtRQUFDLEtBQUssQ0FBQyxHQUFJO1FBQUMsb0JBQWlCLENBQUs7Q0FDNUMsQ0FDYixDQUFFIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBSb3V0ZU5vdEZvdW5kID0gKHByb3BzOiB7IHVybDogc3RyaW5nIH0pID0+IChcbiAgICA8c2VjdGlvbj5cbiAgICAgICAgPGgxPlRoZSBwYWdlIGF0IHtwcm9wcy51cmx9IGRvZXMgbm90IGV4aXN0IDooPC9oMT5cbiAgICA8L3NlY3Rpb24+XG4pIDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vdmlld3MvUm91dGVOb3RGb3VuZC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst itemTypes_1 = __webpack_require__(7);\r\nexports.AppUrls = {\r\n    element_set: itemTypes_1.itemTypes.element_set.machineName,\r\n    record: itemTypes_1.itemTypes.record.machineName,\r\n    entity: itemTypes_1.itemTypes.entity.machineName,\r\n    entity_type: itemTypes_1.itemTypes.entity_type.machineName,\r\n    predicate: itemTypes_1.itemTypes.predicate.machineName,\r\n    source: itemTypes_1.itemTypes.source.machineName,\r\n    source_element: itemTypes_1.itemTypes.source_element.machineName,\r\n    element: 'element'\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0FwaVNlcnZpY2UudHM/MDM1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUlILHdDQUEwQixDQUFhLENBQUM7QUFFM0IsZUFBTyxHQVNoQjtJQUNBLFdBQVcsRUFBRSxxQkFBUyxDQUFDLFdBQVcsQ0FBQyxXQUFXO0lBQzlDLE1BQU0sRUFBRyxxQkFBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXO0lBQ3JDLE1BQU0sRUFBRyxxQkFBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXO0lBQ3JDLFdBQVcsRUFBRyxxQkFBUyxDQUFDLFdBQVcsQ0FBQyxXQUFXO0lBQy9DLFNBQVMsRUFBRyxxQkFBUyxDQUFDLFNBQVMsQ0FBQyxXQUFXO0lBQzNDLE1BQU0sRUFBRyxxQkFBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXO0lBQ3JDLGNBQWMsRUFBRyxxQkFBUyxDQUFDLGNBQWMsQ0FBQyxXQUFXO0lBQ3JELE9BQU8sRUFBRSxTQUFTO0NBQ3JCLENBQUMiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCB7IEZhbGNvbkl0ZW0sIENvbXBvc2l0ZUtleSB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuaW1wb3J0IHsgaXRlbVR5cGVzIH0gZnJvbSAnLi9pdGVtVHlwZXMnO1xuXG5leHBvcnQgY29uc3QgQXBwVXJscyA6IHtcbiAgICBlbGVtZW50X3NldDogc3RyaW5nLFxuICAgIHJlY29yZDogc3RyaW5nLFxuICAgIGVudGl0eTogc3RyaW5nLFxuICAgIGVudGl0eV90eXBlOiBzdHJpbmcsXG4gICAgcHJlZGljYXRlOiBzdHJpbmcsXG4gICAgc291cmNlOiBzdHJpbmcsXG4gICAgc291cmNlX2VsZW1lbnQ6IHN0cmluZyxcbiAgICBlbGVtZW50OiBzdHJpbmdcbn0gPSB7XG4gICAgZWxlbWVudF9zZXQ6IGl0ZW1UeXBlcy5lbGVtZW50X3NldC5tYWNoaW5lTmFtZSxcbiAgICByZWNvcmQ6ICBpdGVtVHlwZXMucmVjb3JkLm1hY2hpbmVOYW1lLFxuICAgIGVudGl0eTogIGl0ZW1UeXBlcy5lbnRpdHkubWFjaGluZU5hbWUsXG4gICAgZW50aXR5X3R5cGU6ICBpdGVtVHlwZXMuZW50aXR5X3R5cGUubWFjaGluZU5hbWUsXG4gICAgcHJlZGljYXRlOiAgaXRlbVR5cGVzLnByZWRpY2F0ZS5tYWNoaW5lTmFtZSxcbiAgICBzb3VyY2U6ICBpdGVtVHlwZXMuc291cmNlLm1hY2hpbmVOYW1lLFxuICAgIHNvdXJjZV9lbGVtZW50OiAgaXRlbVR5cGVzLnNvdXJjZV9lbGVtZW50Lm1hY2hpbmVOYW1lLFxuICAgIGVsZW1lbnQ6ICdlbGVtZW50J1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBBcGlTZXJ2aWNlIHtcbiAgICBnZXRJdGVtPFQgZXh0ZW5kcyBGYWxjb25JdGVtPihvYmo6IHsgbmV3KCk6IFQ7IH0sIGJhc2VVcmwgOiBzdHJpbmcsIHVpZDogbnVtYmVyIHwgQ29tcG9zaXRlS2V5KSA6IFByb21pc2VMaWtlPFQ+O1xuICAgIGdldENvbGxlY3Rpb248VCBleHRlbmRzIEZhbGNvbkl0ZW0+KG9iajogeyBuZXcoKTogVDsgfSwgYmFzZVVybCA6IHN0cmluZywgcGFyYW1zOiBhbnkpIDogUHJvbWlzZUxpa2U8VFtdPjtcblxuICAgIHBvc3RJdGVtPFQgZXh0ZW5kcyBGYWxjb25JdGVtPihvYmo6IHsgbmV3KCk6IFQ7IH0sIGJhc2VVcmwgOiBzdHJpbmcsIGRhdGE6IFQpIDogUHJvbWlzZUxpa2U8YW55PjtcbiAgICBwdXRJdGVtPFQgZXh0ZW5kcyBGYWxjb25JdGVtPihvYmo6IHsgbmV3KCk6IFQ7IH0sIGJhc2VVcmwgOiBzdHJpbmcsIHVpZDogbnVtYmVyIHwgQ29tcG9zaXRlS2V5LCBkYXRhOiBUKSA6IFByb21pc2VMaWtlPGFueT47XG5cbiAgICAvL1RPRE86IHBhdGNoIGl0ZW0gdGFrZXMgYSBzdWJzZXQgb2YgYW4gb2JqZWN0cyBwcm9wZXJ0aWVzLiBUaGlzIGlzIGN1cnJlbnRseSBiZWluZyBsb29rZWQgYXQgaW4gVFMgaW4gdGhlXG4gICAgLy9jb250ZXh0IG9mIHRoZSAnc2V0U3RhdGUnIGZ1bmN0aW9uIGluIHJlYWN0XG4gICAgcGF0Y2hJdGVtPFQgZXh0ZW5kcyBGYWxjb25JdGVtPihvYmo6IHsgbmV3KCk6IFQ7IH0sIGJhc2VVcmwgOiBzdHJpbmcsIHVpZDogbnVtYmVyIHwgQ29tcG9zaXRlS2V5LCBkYXRhIDogYW55KSA6IFByb21pc2VMaWtlPGFueT47XG4gICAgZGVsSXRlbTxUIGV4dGVuZHMgRmFsY29uSXRlbT4ob2JqOiB7IG5ldygpOiBUOyB9LCBiYXNlVXJsIDogc3RyaW5nLCB1aWQ6IG51bWJlciB8IENvbXBvc2l0ZUtleSkgOiBQcm9taXNlTGlrZTxhbnk+O1xuXG4gICAgcXVlcnkoZ3JhcGhRTFF1ZXJ5OiBzdHJpbmcpIDogUHJvbWlzZUxpa2U8YW55PjtcbiAgICBnZXRTdGF0cygpIDogUHJvbWlzZUxpa2U8YW55Pjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vQXBpU2VydmljZS50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nexports.itemTypes = {\r\n    element_set: {\r\n        machineName: 'element_set',\r\n        name: 'Element Set',\r\n        plural: 'Element Sets',\r\n        workspace: ''\r\n    },\r\n    record: {\r\n        machineName: 'record',\r\n        name: 'Record',\r\n        plural: 'Records',\r\n        workspace: ''\r\n    },\r\n    entity: {\r\n        machineName: 'entity',\r\n        name: 'Entity',\r\n        plural: 'Entities',\r\n        workspace: 'entity'\r\n    },\r\n    entity_type: {\r\n        machineName: 'entity_type',\r\n        name: 'Entity Type',\r\n        plural: 'Entity Types',\r\n        workspace: 'entity_type'\r\n    },\r\n    predicate: {\r\n        machineName: 'property',\r\n        name: 'Property',\r\n        plural: 'Properties',\r\n        workspace: 'predicate'\r\n    },\r\n    source: {\r\n        machineName: 'source',\r\n        name: 'Source',\r\n        plural: 'Sources',\r\n        workspace: 'source'\r\n    },\r\n    source_element: {\r\n        machineName: 'source_element',\r\n        name: 'Source Element',\r\n        plural: 'Source Elements',\r\n        workspace: ''\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2l0ZW1UeXBlcy50cz8wMTVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBbUJVLGlCQUFTLEdBQWU7SUFFakMsV0FBVyxFQUFFO1FBQ1QsV0FBVyxFQUFFLGFBQWE7UUFDMUIsSUFBSSxFQUFFLGFBQWE7UUFDbkIsTUFBTSxFQUFFLGNBQWM7UUFDdEIsU0FBUyxFQUFFLEVBQUU7S0FDaEI7SUFFRCxNQUFNLEVBQUU7UUFDSixXQUFXLEVBQUUsUUFBUTtRQUNyQixJQUFJLEVBQUUsUUFBUTtRQUNkLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLFNBQVMsRUFBRSxFQUFFO0tBQ2hCO0lBRUQsTUFBTSxFQUFHO1FBQ0wsV0FBVyxFQUFFLFFBQVE7UUFDckIsSUFBSSxFQUFFLFFBQVE7UUFDZCxNQUFNLEVBQUUsVUFBVTtRQUNsQixTQUFTLEVBQUUsUUFBUTtLQUN0QjtJQUVELFdBQVcsRUFBRTtRQUNULFdBQVcsRUFBRSxhQUFhO1FBQzFCLElBQUksRUFBRSxhQUFhO1FBQ25CLE1BQU0sRUFBRSxjQUFjO1FBQ3RCLFNBQVMsRUFBRSxhQUFhO0tBQzNCO0lBRUQsU0FBUyxFQUFFO1FBQ1AsV0FBVyxFQUFFLFVBQVU7UUFDdkIsSUFBSSxFQUFFLFVBQVU7UUFDaEIsTUFBTSxFQUFFLFlBQVk7UUFDcEIsU0FBUyxFQUFFLFdBQVc7S0FDekI7SUFFRCxNQUFNLEVBQUU7UUFDSixXQUFXLEVBQUUsUUFBUTtRQUNyQixJQUFJLEVBQUUsUUFBUTtRQUNkLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLFNBQVMsRUFBRSxRQUFRO0tBQ3RCO0lBRUQsY0FBYyxFQUFFO1FBQ1osV0FBVyxFQUFFLGdCQUFnQjtRQUM3QixJQUFJLEVBQUUsZ0JBQWdCO1FBQ3RCLE1BQU0sRUFBRSxpQkFBaUI7UUFDekIsU0FBUyxFQUFFLEVBQUU7S0FDaEI7Q0FDSixDQUFDIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbnRlcmZhY2UgSXRlbURlc2NyaXB0aW9uIHtcbiAgICBtYWNoaW5lTmFtZTogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwbHVyYWw6IHN0cmluZztcbiAgICB3b3Jrc3BhY2U6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEl0ZW1UeXBlcyB7XG4gICAgZWxlbWVudF9zZXQ6IEl0ZW1EZXNjcmlwdGlvbjtcbiAgICByZWNvcmQ6IEl0ZW1EZXNjcmlwdGlvbjtcbiAgICBlbnRpdHk6IEl0ZW1EZXNjcmlwdGlvbjtcbiAgICBlbnRpdHlfdHlwZTogSXRlbURlc2NyaXB0aW9uO1xuICAgIHByZWRpY2F0ZTogSXRlbURlc2NyaXB0aW9uO1xuICAgIHNvdXJjZTogSXRlbURlc2NyaXB0aW9uO1xuICAgIHNvdXJjZV9lbGVtZW50OiBJdGVtRGVzY3JpcHRpb247XG59XG5cbmV4cG9ydCBjb25zdCBpdGVtVHlwZXMgOiBJdGVtVHlwZXMgPSB7XG5cbiAgICBlbGVtZW50X3NldDoge1xuICAgICAgICBtYWNoaW5lTmFtZTogJ2VsZW1lbnRfc2V0JyxcbiAgICAgICAgbmFtZTogJ0VsZW1lbnQgU2V0JyxcbiAgICAgICAgcGx1cmFsOiAnRWxlbWVudCBTZXRzJyxcbiAgICAgICAgd29ya3NwYWNlOiAnJ1xuICAgIH0sXG5cbiAgICByZWNvcmQ6IHtcbiAgICAgICAgbWFjaGluZU5hbWU6ICdyZWNvcmQnLFxuICAgICAgICBuYW1lOiAnUmVjb3JkJyxcbiAgICAgICAgcGx1cmFsOiAnUmVjb3JkcycsXG4gICAgICAgIHdvcmtzcGFjZTogJydcbiAgICB9LFxuXG4gICAgZW50aXR5OiAge1xuICAgICAgICBtYWNoaW5lTmFtZTogJ2VudGl0eScsXG4gICAgICAgIG5hbWU6ICdFbnRpdHknLFxuICAgICAgICBwbHVyYWw6ICdFbnRpdGllcycsXG4gICAgICAgIHdvcmtzcGFjZTogJ2VudGl0eSdcbiAgICB9LFxuXG4gICAgZW50aXR5X3R5cGU6IHtcbiAgICAgICAgbWFjaGluZU5hbWU6ICdlbnRpdHlfdHlwZScsXG4gICAgICAgIG5hbWU6ICdFbnRpdHkgVHlwZScsXG4gICAgICAgIHBsdXJhbDogJ0VudGl0eSBUeXBlcycsXG4gICAgICAgIHdvcmtzcGFjZTogJ2VudGl0eV90eXBlJ1xuICAgIH0sXG5cbiAgICBwcmVkaWNhdGU6IHtcbiAgICAgICAgbWFjaGluZU5hbWU6ICdwcm9wZXJ0eScsXG4gICAgICAgIG5hbWU6ICdQcm9wZXJ0eScsXG4gICAgICAgIHBsdXJhbDogJ1Byb3BlcnRpZXMnLFxuICAgICAgICB3b3Jrc3BhY2U6ICdwcmVkaWNhdGUnXG4gICAgfSxcblxuICAgIHNvdXJjZToge1xuICAgICAgICBtYWNoaW5lTmFtZTogJ3NvdXJjZScsXG4gICAgICAgIG5hbWU6ICdTb3VyY2UnLFxuICAgICAgICBwbHVyYWw6ICdTb3VyY2VzJyxcbiAgICAgICAgd29ya3NwYWNlOiAnc291cmNlJ1xuICAgIH0sXG5cbiAgICBzb3VyY2VfZWxlbWVudDoge1xuICAgICAgICBtYWNoaW5lTmFtZTogJ3NvdXJjZV9lbGVtZW50JyxcbiAgICAgICAgbmFtZTogJ1NvdXJjZSBFbGVtZW50JyxcbiAgICAgICAgcGx1cmFsOiAnU291cmNlIEVsZW1lbnRzJyxcbiAgICAgICAgd29ya3NwYWNlOiAnJ1xuICAgIH1cbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9pdGVtVHlwZXMudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst react_router_1 = __webpack_require__(4);\r\nconst StatsGrid_1 = __webpack_require__(9);\r\nexports.Admin = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"Welcome to the admin pages\"), \r\n        React.createElement(\"ul\", {className: 'links-list'}, \r\n            React.createElement(\"li\", null, \r\n                React.createElement(react_router_1.Link, {to: '/users'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-users'}), \r\n                    \" Manage Users\")\r\n            ), \r\n            React.createElement(\"li\", null, \r\n                React.createElement(react_router_1.Link, {to: '/app'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-download'}), \r\n                    \" Download app\")\r\n            ), \r\n            React.createElement(\"li\", null, \r\n                React.createElement(\"a\", {href: '/admin/snapshot'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-cloud-download'}), \r\n                    \" Download database snapshot\")\r\n            ), \r\n            React.createElement(\"li\", null, \r\n                React.createElement(react_router_1.Link, {to: '/upload'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-cloud-upload'}), \r\n                    \" Upload database file\")\r\n            ))), \r\n    props.stats !== null ? (React.createElement(StatsGrid_1.StatsGrid, {stats: props.stats})) : null));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL0FkbWluLnRzeD81MDFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUMvQiwyQ0FBcUIsQ0FBYyxDQUFDO0FBRXBDLHdDQUEwQixDQUFvQixDQUFDO0FBTWxDLGFBQUssR0FBRyxDQUFDLEtBQWtCLEtBQUssQ0FDekMscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxNQUFNO0lBQ2pCLHFCQUFDLE9BQU87UUFDSixxQkFBQyxFQUFFLFNBQUMsNEJBQTBCLENBQUs7UUFDbkMscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyxZQUFZO1lBQ3RCLHFCQUFDLEVBQUU7Z0JBQUMsb0JBQUMsbUJBQUksR0FBQyxFQUFFLEVBQUMsUUFBUTtvQkFBQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGFBQWEsRUFBSztvQkFBQyxlQUFZLENBQU87YUFBSztZQUM5RSxxQkFBQyxFQUFFO2dCQUFDLG9CQUFDLG1CQUFJLEdBQUMsRUFBRSxFQUFDLE1BQU07b0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxnQkFBZ0IsRUFBSztvQkFBQyxlQUFZLENBQU87YUFBSztZQUMvRSxxQkFBQyxFQUFFO2dCQUFDLHFCQUFDLENBQUMsSUFBQyxJQUFJLEVBQUMsaUJBQWlCO29CQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsc0JBQXNCLEVBQUs7b0JBQUMsNkJBQTBCLENBQUk7YUFBSztZQUMxRyxxQkFBQyxFQUFFO2dCQUFDLG9CQUFDLG1CQUFJLEdBQUMsRUFBRSxFQUFDLFNBQVM7b0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxvQkFBb0IsRUFBSztvQkFBQyx1QkFBb0IsQ0FBTzthQUFLLENBQzdGLENBQ0M7SUFDVCxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksR0FBRyxDQUN0QixvQkFBQyxxQkFBUyxHQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUFHLENBQ2xDLEdBQUcsSUFBSyxDQUVOLENBQ1YsQ0FBQyIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBHZW5lcmFsU3RhdGlzdGljcyB9IGZyb20gJy4uL3N0YXRzL0dlbmVyYWxTdGF0aXN0aWNzJztcbmltcG9ydCB7IFN0YXRzR3JpZCB9IGZyb20gJy4uL3N0YXRzL1N0YXRzR3JpZCc7XG5cbmludGVyZmFjZSBBZG1pblByb3BzIHtcbiAgc3RhdHM6IEdlbmVyYWxTdGF0aXN0aWNzIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IEFkbWluID0gKHByb3BzIDogQWRtaW5Qcm9wcykgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8aDE+V2VsY29tZSB0byB0aGUgYWRtaW4gcGFnZXM8L2gxPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0nbGlua3MtbGlzdCc+XG4gICAgICAgICAgICAgICAgPGxpPjxMaW5rIHRvPScvdXNlcnMnPjxpIGNsYXNzTmFtZT0nZmEgZmEtdXNlcnMnPjwvaT4gTWFuYWdlIFVzZXJzPC9MaW5rPjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxMaW5rIHRvPScvYXBwJz48aSBjbGFzc05hbWU9J2ZhIGZhLWRvd25sb2FkJz48L2k+IERvd25sb2FkIGFwcDwvTGluaz48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPScvYWRtaW4vc25hcHNob3QnPjxpIGNsYXNzTmFtZT0nZmEgZmEtY2xvdWQtZG93bmxvYWQnPjwvaT4gRG93bmxvYWQgZGF0YWJhc2Ugc25hcHNob3Q8L2E+PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PExpbmsgdG89Jy91cGxvYWQnPjxpIGNsYXNzTmFtZT0nZmEgZmEtY2xvdWQtdXBsb2FkJz48L2k+IFVwbG9hZCBkYXRhYmFzZSBmaWxlPC9MaW5rPjwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIHtwcm9wcy5zdGF0cyAhPT0gbnVsbCA/IChcbiAgICAgICAgICA8U3RhdHNHcmlkIHN0YXRzPXtwcm9wcy5zdGF0c30gLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgPC9kaXY+XG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi92aWV3cy9BZG1pbi50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst react_router_1 = __webpack_require__(4);\r\nexports.StatsGrid = (props) => {\r\n    return (React.createElement(\"section\", {className: 'stats-grid'}, \r\n        React.createElement(react_router_1.Link, {to: '/edit/entity'}, \r\n            React.createElement(\"div\", {className: 'entity'}, \r\n                React.createElement(\"span\", {className: 'item-name'}, \"Entities\"), \r\n                React.createElement(\"span\", {className: 'item-count'}, props.stats.entity))\r\n        ), \r\n        React.createElement(react_router_1.Link, {to: '/edit/entity_type'}, \r\n            React.createElement(\"div\", {className: 'entity_type'}, \r\n                React.createElement(\"span\", {className: 'item-name'}, \"Entity Types\"), \r\n                React.createElement(\"span\", {className: 'item-count'}, props.stats.entityType))\r\n        ), \r\n        React.createElement(react_router_1.Link, {to: '/edit/source'}, \r\n            React.createElement(\"div\", {className: 'source'}, \r\n                React.createElement(\"span\", {className: 'item-name'}, \"Sources\"), \r\n                React.createElement(\"span\", {className: 'item-count'}, props.stats.source))\r\n        ), \r\n        React.createElement(react_router_1.Link, {to: '/edit/predicate'}, \r\n            React.createElement(\"div\", {className: 'predicate'}, \r\n                React.createElement(\"span\", {className: 'item-name'}, \"Properties\"), \r\n                React.createElement(\"span\", {className: 'item-count'}, props.stats.predicate))\r\n        ), \r\n        React.createElement(\"div\", {className: 'record'}, \r\n            React.createElement(\"span\", {className: 'item-name'}, \"Records\"), \r\n            React.createElement(\"span\", {className: 'item-count'}, props.stats.record))));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3N0YXRzL1N0YXRzR3JpZC50c3g/OGNlNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsMkNBQXFCLENBQWMsQ0FBQztBQU92QixpQkFBUyxHQUNoQixDQUFDLEtBQXFCO0lBRXhCLE1BQU0sQ0FBQyxDQUNQLHFCQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUMsWUFBWTtRQUU3QixvQkFBQyxtQkFBSSxHQUFDLEVBQUUsRUFBQyxjQUFjO1lBQ3JCLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsUUFBUTtnQkFDckIscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxXQUFXLEdBQUMsVUFBUSxDQUFPO2dCQUFBLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsWUFBWSxHQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTyxDQUFPLENBQy9GO1NBQ0Q7UUFFUCxvQkFBQyxtQkFBSSxHQUFDLEVBQUUsRUFBQyxtQkFBbUI7WUFDMUIscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxhQUFhO2dCQUMxQixxQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFDLFdBQVcsR0FBQyxjQUFZLENBQU87Z0JBQUEscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxZQUFZLEdBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFXLENBQU8sQ0FDdkc7U0FDRDtRQUVQLG9CQUFDLG1CQUFJLEdBQUMsRUFBRSxFQUFDLGNBQWM7WUFDckIscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxRQUFRO2dCQUNyQixxQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFDLFdBQVcsR0FBQyxTQUFPLENBQU87Z0JBQUEscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxZQUFZLEdBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFPLENBQU8sQ0FDOUY7U0FDRDtRQUVQLG9CQUFDLG1CQUFJLEdBQUMsRUFBRSxFQUFDLGlCQUFpQjtZQUN4QixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLFdBQVc7Z0JBQ3hCLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsV0FBVyxHQUFDLFlBQVUsQ0FBTztnQkFBQSxxQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFDLFlBQVksR0FBRSxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVUsQ0FBTyxDQUNwRztTQUNEO1FBRVAscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxRQUFRO1lBQ3JCLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsV0FBVyxHQUFDLFNBQU8sQ0FBTztZQUFBLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsWUFBWSxHQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTyxDQUFPLENBQzlGLENBRUUsQ0FDVCxDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7IEdlbmVyYWxTdGF0aXN0aWNzIH0gZnJvbSAnLi9HZW5lcmFsU3RhdGlzdGljcyc7XG5cbmludGVyZmFjZSBTdGF0c0dyaWRQcm9wcyB7XG4gIHN0YXRzOiBHZW5lcmFsU3RhdGlzdGljcztcbn1cblxuZXhwb3J0IGNvbnN0IFN0YXRzR3JpZCA6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxTdGF0c0dyaWRQcm9wcz5cbiAgICA9IChwcm9wczogU3RhdHNHcmlkUHJvcHMpID0+IHtcblxuICAgIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdzdGF0cy1ncmlkJz5cblxuICAgICAgPExpbmsgdG89Jy9lZGl0L2VudGl0eSc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdlbnRpdHknPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naXRlbS1uYW1lJz5FbnRpdGllczwvc3Bhbj48c3BhbiBjbGFzc05hbWU9J2l0ZW0tY291bnQnPntwcm9wcy5zdGF0cy5lbnRpdHl9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTGluaz5cblxuICAgICAgPExpbmsgdG89Jy9lZGl0L2VudGl0eV90eXBlJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VudGl0eV90eXBlJz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2l0ZW0tbmFtZSc+RW50aXR5IFR5cGVzPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT0naXRlbS1jb3VudCc+e3Byb3BzLnN0YXRzLmVudGl0eVR5cGV9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTGluaz5cblxuICAgICAgPExpbmsgdG89Jy9lZGl0L3NvdXJjZSc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzb3VyY2UnPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naXRlbS1uYW1lJz5Tb3VyY2VzPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT0naXRlbS1jb3VudCc+e3Byb3BzLnN0YXRzLnNvdXJjZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9MaW5rPlxuXG4gICAgICA8TGluayB0bz0nL2VkaXQvcHJlZGljYXRlJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ByZWRpY2F0ZSc+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpdGVtLW5hbWUnPlByb3BlcnRpZXM8L3NwYW4+PHNwYW4gY2xhc3NOYW1lPSdpdGVtLWNvdW50Jz57cHJvcHMuc3RhdHMucHJlZGljYXRlfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xpbms+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWNvcmQnPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2l0ZW0tbmFtZSc+UmVjb3Jkczwvc3Bhbj48c3BhbiBjbGFzc05hbWU9J2l0ZW0tY291bnQnPntwcm9wcy5zdGF0cy5yZWNvcmR9PC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICA8L3NlY3Rpb24+XG4gICAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL3N0YXRzL1N0YXRzR3JpZC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst StatsGrid_1 = __webpack_require__(9);\r\nexports.AdminApp = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"VRE App\"), \r\n        props.stats !== null ? (React.createElement(StatsGrid_1.StatsGrid, {stats: props.stats})) : null)\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL0FkbWluQXBwLnRzeD9lMDYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUcvQix3Q0FBMEIsQ0FBMkIsQ0FBQztBQVd6QyxnQkFBUSxHQUFHLENBQUMsS0FBb0IsS0FBSyxDQUM5QyxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLE1BQU07SUFDakIscUJBQUMsT0FBTztRQUNKLHFCQUFDLEVBQUUsU0FBQyxTQUFPLENBQUs7UUFDZixLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksR0FBRyxDQUN0QixvQkFBQyxxQkFBUyxHQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUFHLENBQ2xDLEdBQUcsSUFBSyxDQUNIO0NBQ1AsQ0FDVixDQUFDIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBHZW5lcmFsU3RhdGlzdGljcyB9IGZyb20gJy4uL2NvbW1vbi9zdGF0cy9HZW5lcmFsU3RhdGlzdGljcyc7XG5pbXBvcnQgeyBTdGF0c0dyaWQgfSBmcm9tICcuLi9jb21tb24vc3RhdHMvU3RhdHNHcmlkJztcblxuLy8gaWRlYWxseTpcbi8vIC0gT3BlbiBmaWxlXG4vLyAtIFJlY2VudCBmaWxlc1xuLy8gLSBNZXRyaWNzXG5cbmludGVyZmFjZSBBZG1pbkFwcFByb3BzIHtcbiAgc3RhdHM6IEdlbmVyYWxTdGF0aXN0aWNzIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IEFkbWluQXBwID0gKHByb3BzOiBBZG1pbkFwcFByb3BzKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UnPlxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxoMT5WUkUgQXBwPC9oMT5cbiAgICAgICAgICAgIHtwcm9wcy5zdGF0cyAhPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFN0YXRzR3JpZCBzdGF0cz17cHJvcHMuc3RhdHN9IC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICA8L2Rpdj5cbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL0FkbWluQXBwLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.User = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"This is the user page\")\r\n    )\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL1VzZXIudHN4P2Q0NWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBR2xCLFlBQUksR0FBRyxDQUFDLEtBQUssS0FBSyxDQUMzQixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLE1BQU07SUFDakIscUJBQUMsT0FBTztRQUNKLHFCQUFDLEVBQUUsU0FBQyx1QkFBcUIsQ0FBSztLQUN4QjtDQUNSLENBQ1QsQ0FBQyIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5leHBvcnQgY29uc3QgVXNlciA9IChwcm9wcykgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8aDE+VGhpcyBpcyB0aGUgdXNlciBwYWdlPC9oMT5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgIDwvZGl2PlxuKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vdmlld3MvVXNlci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.UserManagement = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"This is the user management page\")\r\n    )\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL1VzZXJNYW5hZ2VtZW50LnRzeD9lNDM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUdsQixzQkFBYyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQ3JDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsTUFBTTtJQUNqQixxQkFBQyxPQUFPO1FBQ0oscUJBQUMsRUFBRSxTQUFDLGtDQUFnQyxDQUFLO0tBQ25DO0NBQ1IsQ0FDVCxDQUFDIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmV4cG9ydCBjb25zdCBVc2VyTWFuYWdlbWVudCA9IChwcm9wcykgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8aDE+VGhpcyBpcyB0aGUgdXNlciBtYW5hZ2VtZW50IHBhZ2U8L2gxPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgPC9kaXY+XG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi92aWV3cy9Vc2VyTWFuYWdlbWVudC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.AppDownload = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"App Download\"), \r\n        React.createElement(\"p\", null, \"Use this VRE without an internet connection! Simply download the app for your platform and then\" + ' ' + \"download a database snapshot from the main page. When you are ready, use the upload tool to merge\" + ' ' + \"your offline copy with the server.\"), \r\n        React.createElement(\"ul\", {className: 'links-list'}, \r\n            React.createElement(\"li\", null, \r\n                React.createElement(\"a\", {href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements%20Setup%200.1.1.exe'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-windows'}), \r\n                    \" Windows\")\r\n            ), \r\n            React.createElement(\"li\", null, \r\n                React.createElement(\"a\", {href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/mac/imperial-entanglements-0.1.1.dmg'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-apple'}), \r\n                    \" Mac\")\r\n            ), \r\n            React.createElement(\"li\", null, \r\n                React.createElement(\"a\", {href: 'https://github.com/digihum/imperial-entanglements-app/raw/master/bin/imperial-entanglements-0.1.1-x86_64.AppImage'}, \r\n                    React.createElement(\"i\", {className: 'fa fa-linux'}), \r\n                    \" Linux\")\r\n            )))\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL0FwcERvd25sb2FkLnRzeD8wMjc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUdsQixtQkFBVyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQ2xDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsTUFBTTtJQUNqQixxQkFBQyxPQUFPO1FBQ0oscUJBQUMsRUFBRSxTQUFDLGNBQVksQ0FBSztRQUNyQixxQkFBQyxDQUFDLFNBQUMsMFBBRStCLENBQUk7UUFDdEMscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyxZQUFZO1lBQ3hCLHFCQUFDLEVBQUU7Z0JBQUMscUJBQUMsQ0FBQyxJQUFDLElBQUksRUFBQyxpSEFBaUg7b0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxlQUFlLEVBQUs7b0JBQUMsVUFBTyxDQUFJO2FBQUs7WUFDaEwscUJBQUMsRUFBRTtnQkFBQyxxQkFBQyxDQUFDLElBQUMsSUFBSSxFQUFDLDJHQUEyRztvQkFBQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGFBQWEsRUFBSztvQkFBQyxNQUFHLENBQUk7YUFBSztZQUNwSyxxQkFBQyxFQUFFO2dCQUFDLHFCQUFDLENBQUMsSUFBQyxJQUFJLEVBQUMsbUhBQW1IO29CQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsYUFBYSxFQUFLO29CQUFDLFFBQUssQ0FBSTthQUFLLENBQzNLLENBQ0M7Q0FDUixDQUNULENBQUMiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuZXhwb3J0IGNvbnN0IEFwcERvd25sb2FkID0gKHByb3BzKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UnPlxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxoMT5BcHAgRG93bmxvYWQ8L2gxPlxuICAgICAgICAgICAgPHA+VXNlIHRoaXMgVlJFIHdpdGhvdXQgYW4gaW50ZXJuZXQgY29ubmVjdGlvbiEgU2ltcGx5IGRvd25sb2FkIHRoZSBhcHAgZm9yIHlvdXIgcGxhdGZvcm0gYW5kIHRoZW5cbiAgICAgICAgICAgIGRvd25sb2FkIGEgZGF0YWJhc2Ugc25hcHNob3QgZnJvbSB0aGUgbWFpbiBwYWdlLiBXaGVuIHlvdSBhcmUgcmVhZHksIHVzZSB0aGUgdXBsb2FkIHRvb2wgdG8gbWVyZ2VcbiAgICAgICAgICAgIHlvdXIgb2ZmbGluZSBjb3B5IHdpdGggdGhlIHNlcnZlci48L3A+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSdsaW5rcy1saXN0Jz5cbiAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9kaWdpaHVtL2ltcGVyaWFsLWVudGFuZ2xlbWVudHMtYXBwL3Jhdy9tYXN0ZXIvYmluL2ltcGVyaWFsLWVudGFuZ2xlbWVudHMlMjBTZXR1cCUyMDAuMS4xLmV4ZSc+PGkgY2xhc3NOYW1lPSdmYSBmYS13aW5kb3dzJz48L2k+IFdpbmRvd3M8L2E+PC9saT5cbiAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9kaWdpaHVtL2ltcGVyaWFsLWVudGFuZ2xlbWVudHMtYXBwL3Jhdy9tYXN0ZXIvYmluL21hYy9pbXBlcmlhbC1lbnRhbmdsZW1lbnRzLTAuMS4xLmRtZyc+PGkgY2xhc3NOYW1lPSdmYSBmYS1hcHBsZSc+PC9pPiBNYWM8L2E+PC9saT5cbiAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9kaWdpaHVtL2ltcGVyaWFsLWVudGFuZ2xlbWVudHMtYXBwL3Jhdy9tYXN0ZXIvYmluL2ltcGVyaWFsLWVudGFuZ2xlbWVudHMtMC4xLjEteDg2XzY0LkFwcEltYWdlJz48aSBjbGFzc05hbWU9J2ZhIGZhLWxpbnV4Jz48L2k+IExpbnV4PC9hPjwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgPC9kaXY+XG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi92aWV3cy9BcHBEb3dubG9hZC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 14 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.DatabaseUpload = (props) => (React.createElement(\"div\", {className: 'page'}, \r\n    React.createElement(\"section\", null, \r\n        React.createElement(\"h1\", null, \"This is the database upload page\"), \r\n        React.createElement(\"input\", {type: 'file', id: 'input', accept: '.sqlite'}), \r\n        React.createElement(\"button\", {onClick: () => { alert('Work in process'); }}, \"Upload\"))\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL0RhdGFiYXNlVXBsb2FkLnRzeD83NDAwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUdsQixzQkFBYyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQ3JDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsTUFBTTtJQUNqQixxQkFBQyxPQUFPO1FBQ0oscUJBQUMsRUFBRSxTQUFDLGtDQUFnQyxDQUFLO1FBQ3pDLHFCQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLFNBQVMsRUFBRztRQUNqRCxxQkFBQyxNQUFNLElBQUMsT0FBTyxFQUFFLFFBQVEsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUUsR0FBQyxRQUFNLENBQVMsQ0FDN0Q7Q0FDUixDQUNULENBQUMiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuZXhwb3J0IGNvbnN0IERhdGFiYXNlVXBsb2FkID0gKHByb3BzKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UnPlxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxoMT5UaGlzIGlzIHRoZSBkYXRhYmFzZSB1cGxvYWQgcGFnZTwvaDE+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT0nZmlsZScgaWQ9J2lucHV0JyBhY2NlcHQ9Jy5zcWxpdGUnIC8+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgYWxlcnQoJ1dvcmsgaW4gcHJvY2VzcycpfX0+VXBsb2FkPC9idXR0b24+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5cbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL3ZpZXdzL0RhdGFiYXNlVXBsb2FkLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nconst React = __webpack_require__(2);\r\nconst Sidebar_1 = __webpack_require__(16);\r\nconst Workspace_1 = __webpack_require__(24);\r\nconst Toast_1 = __webpack_require__(64);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst CreatePredicate_1 = __webpack_require__(65);\r\nconst CreateRecord_1 = __webpack_require__(67);\r\nconst CreatePresetRecord_1 = __webpack_require__(68);\r\nconst CreateSource_1 = __webpack_require__(69);\r\nconst CreateEntity_1 = __webpack_require__(70);\r\nconst CreateEntityType_1 = __webpack_require__(71);\r\nconst ConflictResolution_1 = __webpack_require__(72);\r\nconst DataStore_1 = __webpack_require__(73);\r\nconst DataController_1 = __webpack_require__(75);\r\nclass ObjectEditor extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        let tabs = [];\r\n        if (typeof window !== 'undefined') {\r\n            const tabString = window.localStorage.getItem('open_tabs');\r\n            if (tabString !== null) {\r\n                tabs = JSON.parse(tabString);\r\n            }\r\n        }\r\n        this.state = {\r\n            tabs,\r\n            inBrowser: (typeof window !== 'undefined'),\r\n            modalQueue: [],\r\n            dataStore: lodash_1.cloneDeep(DataStore_1.emptyDataStore),\r\n            loadingWheel: true,\r\n            loading: true,\r\n            id: NaN,\r\n            list: false\r\n        };\r\n        this.boundCreateTab = this.createTab.bind(this);\r\n        this.boundCloseTab = this.closeTab.bind(this);\r\n        this.boundAddModal = this.addModal.bind(this);\r\n        this.boundReload = this.callReload.bind(this);\r\n        this.boundReorderTabs = this.reorderTabs.bind(this);\r\n        Signaller_1.createTab.add(this.boundCreateTab);\r\n        Signaller_1.closeTab.add(this.boundCloseTab);\r\n        Signaller_1.showModal.add(this.boundAddModal);\r\n        Signaller_1.triggerReload.add(this.boundReload);\r\n        Signaller_1.reorderTabs.add(this.boundReorderTabs);\r\n    }\r\n    componentDidMount() {\r\n        this.reload(this.props, false, true);\r\n    }\r\n    callReload() {\r\n        this.reload(this.props, true);\r\n    }\r\n    reload(props, force = false, initialLoad = false) {\r\n        const oldId = parseInt(this.props.location.pathname.substr(this.props.pathname.length + 1));\r\n        const newId = parseInt(props.location.pathname.substr(props.pathname.length + 1));\r\n        const workspaceChanged = props.workspace !== this.props.workspace;\r\n        const idChanged = isNaN(oldId) ? !isNaN(newId) : isNaN(newId) ? true : oldId !== newId;\r\n        const queryChanged = props.location.search !== this.props.location.search;\r\n        const newWorkspace = props.workspace;\r\n        // if we are in the browser, load tabs!\r\n        // if there is not a tab for the current URL - create it\r\n        // if the url is invalid, relocate to /edit/notfound\r\n        if (['entity', 'source', 'predicate', 'entity_type', 'notfound'].indexOf(newWorkspace) === -1) {\r\n            this.context.router.transitionTo('/edit/notfound');\r\n        }\r\n        let updatedTabs = this.state.tabs;\r\n        const isList = isNaN(newId);\r\n        if (this.state.inBrowser) {\r\n            if (isList) {\r\n            }\r\n            else {\r\n                if (lodash_1.find(updatedTabs, (tab) => tab.tabType === newWorkspace && tab.uid == newId) === undefined) {\r\n                    updatedTabs = updatedTabs.concat([{ tabType: newWorkspace, uid: newId, tabClass: 'item' }]);\r\n                }\r\n            }\r\n        }\r\n        // this state always updates\r\n        this.setState({\r\n            id: newId,\r\n            list: props.location.pathname.substr(props.pathname.length + 1).length === 0,\r\n            tabs: updatedTabs\r\n        }, () => {\r\n            if (!initialLoad && this.state.loading && !force) {\r\n                return;\r\n            }\r\n            this.setState({\r\n                loading: true,\r\n                loadingWheel: initialLoad\r\n            }, () => {\r\n                DataController_1.DataController.reload(props.api, this.state.tabs, force, (failWorkspace, failUid) => {\r\n                    if (newWorkspace === failWorkspace && failUid == newId) {\r\n                        this.context.router.transitionTo('/edit/notfound');\r\n                    }\r\n                })\r\n                    .then((dataStore) => {\r\n                    this.setState({\r\n                        dataStore,\r\n                        loading: false,\r\n                        loadingWheel: false\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    }\r\n    createTab(tabType, uid, tabClass, data) {\r\n        // don't add a tab if it already exists\r\n        if (lodash_1.find(this.state.tabs, (tab) => tab.tabType === tabType && tab.uid == uid) === undefined) {\r\n            this.setState({\r\n                tabs: [{ tabType, uid, data, tabClass }].concat(this.state.tabs)\r\n            }, () => {\r\n                this.saveTabs();\r\n                this.reload(this.props);\r\n            });\r\n        }\r\n    }\r\n    updateTab(tabType, uid, data) {\r\n        const tabs = lodash_1.cloneDeep(this.state.tabs);\r\n        const tabId = lodash_1.findIndex(tabs, (tab) => tab.tabType === tabType && tab.uid === uid);\r\n        if (tabId !== -1) {\r\n            tabs[tabId].data = data;\r\n            this.setState({ tabs });\r\n        }\r\n    }\r\n    closeTab(tabType, uid) {\r\n        this.setState({\r\n            tabs: this.state.tabs.filter((a) => a.tabType !== tabType || a.uid !== uid)\r\n        }, () => {\r\n            this.saveTabs();\r\n            this.reload(this.props);\r\n        });\r\n    }\r\n    saveTabs() {\r\n        const tabsString = JSON.stringify(this.state.tabs);\r\n        if (this.state.inBrowser) {\r\n            window.localStorage.setItem('open_tabs', tabsString);\r\n        }\r\n    }\r\n    clearAllTabs() {\r\n        this.setState({ tabs: [] }, () => {\r\n            this.saveTabs();\r\n            this.reload(this.props);\r\n        });\r\n    }\r\n    reorderTabs(reorderFunc) {\r\n        this.setState({ tabs: reorderFunc(this.state.tabs) }, () => {\r\n            this.saveTabs();\r\n            this.reload(this.props);\r\n        });\r\n    }\r\n    addModal(def) {\r\n        this.setState({ modalQueue: [def].concat(this.state.modalQueue) });\r\n    }\r\n    modalComplete(data) {\r\n        if (this.state.modalQueue.length === 0) {\r\n            throw new Error('Attempted to complete non-existent modal');\r\n        }\r\n        this.state.modalQueue[0].complete(data);\r\n        if (this.state.modalQueue.length > 0) {\r\n            this.setState({ modalQueue: lodash_1.tail(this.state.modalQueue) });\r\n        }\r\n    }\r\n    modalCancel() {\r\n        if (this.state.modalQueue.length === 0) {\r\n            throw new Error('Attempted to cancel non-existent modal');\r\n        }\r\n        this.state.modalQueue[0].cancel();\r\n        this.setState({\r\n            modalQueue: []\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        this.saveTabs();\r\n        Signaller_1.createTab.remove(this.boundCreateTab);\r\n        Signaller_1.closeTab.remove(this.boundCloseTab);\r\n        Signaller_1.showModal.remove(this.boundAddModal);\r\n        Signaller_1.triggerReload.remove(this.boundReload);\r\n        Signaller_1.reorderTabs.remove(this.boundReorderTabs);\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.reload(props);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", {id: 'entity-editor', className: 'flex-fill'}, \r\n            React.createElement(\"span\", {className: 'header-colour ' + this.props.workspace}), \r\n            React.createElement(\"span\", {className: 'flex-fill'}, \r\n                React.createElement(Sidebar_1.Sidebar, {tabs: this.state.tabs, dataStore: this.state.dataStore, loading: false, clearTabs: this.clearAllTabs.bind(this), list: this.state.list, id: this.state.id, workspace: this.props.workspace}), \r\n                React.createElement(Workspace_1.Workspace, __assign({}, this.props, {id: this.state.id, dataStore: this.state.dataStore, loading: this.state.loadingWheel, list: this.state.list})), \r\n                React.createElement(Toast_1.Toast, null), \r\n                (() => {\r\n                    if (this.state.modalQueue.length === 0) {\r\n                        return null;\r\n                    }\r\n                    const sharedProps = {\r\n                        api: this.props.api,\r\n                        dataStore: this.state.dataStore,\r\n                        complete: this.modalComplete.bind(this),\r\n                        cancel: this.modalCancel.bind(this)\r\n                    };\r\n                    switch (this.state.modalQueue[0].name) {\r\n                        case 'predicate':\r\n                            return (React.createElement(CreatePredicate_1.CreatePredicate, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'record':\r\n                            return (React.createElement(CreateRecord_1.CreateRecord, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'preset_record':\r\n                            return (React.createElement(CreatePresetRecord_1.CreatePresetRecord, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'source':\r\n                            return (React.createElement(CreateSource_1.CreateSource, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'entity':\r\n                            return (React.createElement(CreateEntity_1.CreateEntity, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'entity_type':\r\n                            return (React.createElement(CreateEntityType_1.CreateEntityType, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                        case 'conflict_resolution':\r\n                            return (React.createElement(ConflictResolution_1.ConflictResolution, __assign({}, sharedProps, this.state.modalQueue[0].settings)));\r\n                    }\r\n                })()), \r\n            React.createElement(\"span\", {className: 'header-colour ' + this.props.workspace})));\r\n    }\r\n}\r\nObjectEditor.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.ObjectEditor = ObjectEditor;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3ZpZXdzL09iamVjdEVkaXRvci50c3g/ODg5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOzs7Ozs7Ozs7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUkvQixzQ0FBNkIsRUFBdUIsQ0FBQztBQUNyRCx3Q0FBMEIsRUFBeUIsQ0FBQztBQUNwRCxvQ0FBc0IsRUFBcUIsQ0FBQztBQUU1Qyx3Q0FBMkUsRUFBYyxDQUFDO0FBQzFGLHFDQUFpRCxFQUFRLENBQUM7QUFFMUQsOENBQWdDLEVBQXFDLENBQUM7QUFDdEUsMkNBQTZCLEVBQWtDLENBQUM7QUFDaEUsaURBQW1DLEVBQXdDLENBQUM7QUFDNUUsMkNBQTZCLEVBQWtDLENBQUM7QUFDaEUsMkNBQTZCLEVBQWtDLENBQUM7QUFDaEUsK0NBQWlDLEVBQXNDLENBQUM7QUFDeEUsaURBQW1DLEVBQXdDLENBQUM7QUFJNUUsd0NBQTBDLEVBQWMsQ0FBQztBQUV6RCw2Q0FBK0IsRUFBbUIsQ0FBQztBQTBCbkQsMkJBQWtDLEtBQUssQ0FBQyxTQUFTO0lBWTdDLFlBQVksS0FBd0IsRUFBRSxPQUFZO1FBQzlDLE9BQU8sQ0FBQztRQUVSLElBQUksSUFBSSxHQUFXLEVBQUUsQ0FBQztRQUV0QixFQUFFLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzNELEVBQUUsQ0FBQyxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvQixDQUFDO1FBQ0gsQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxJQUFJO1lBQ0osU0FBUyxFQUFFLENBQUMsT0FBTyxNQUFN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QUFLLFdBQVcsRUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUcsQ0FBQyxDQUFDO3dCQUVyRixLQUFLLGFBQWE7NEJBQ2QsTUFBTSxDQUFDLENBQUMsb0JBQUMsbUNBQWdCLGVBQUssV0FBVyxFQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRyxDQUFDLENBQUM7d0JBRXpGLEtBQUsscUJBQXFCOzRCQUN0QixNQUFNLENBQUMsQ0FBQyxvQkFBQyx1Q0FBa0IsZUFBSyxXQUFXLEVBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFJLENBQUMsQ0FBQztvQkFDaEcsQ0FBQztnQkFDTCxDQUFDLENBQUMsRUFBRyxDQUNGO1lBQ1AscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBRSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVUsRUFBUSxDQUMzRCxDQUNiLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQW5SaUIseUJBQVksR0FBRztJQUN6QixNQUFNLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtDQUM1QyxDQUFDO0FBSk8sb0JBQVksZUFxUnhCIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi4vQXBpU2VydmljZSc7XG5cbmltcG9ydCB7IFNpZGViYXIsIFRhYiB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2lkZWJhcic7XG5pbXBvcnQgeyBXb3Jrc3BhY2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1dvcmtzcGFjZSc7XG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVG9hc3QnO1xuXG5pbXBvcnQgeyBjcmVhdGVUYWIsIGNsb3NlVGFiLCBzaG93TW9kYWwsIHRyaWdnZXJSZWxvYWQsIHJlb3JkZXJUYWJzIH0gZnJvbSAnLi4vU2lnbmFsbGVyJztcbmltcG9ydCB7IGZpbmQsIHRhaWwsIGNsb25lRGVlcCwgZmluZEluZGV4IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgQ3JlYXRlUHJlZGljYXRlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVQcmVkaWNhdGUnO1xuaW1wb3J0IHsgQ3JlYXRlUmVjb3JkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVSZWNvcmQnO1xuaW1wb3J0IHsgQ3JlYXRlUHJlc2V0UmVjb3JkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVQcmVzZXRSZWNvcmQnO1xuaW1wb3J0IHsgQ3JlYXRlU291cmNlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVTb3VyY2UnO1xuaW1wb3J0IHsgQ3JlYXRlRW50aXR5IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVFbnRpdHknO1xuaW1wb3J0IHsgQ3JlYXRlRW50aXR5VHlwZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlRW50aXR5VHlwZSc7XG5pbXBvcnQgeyBDb25mbGljdFJlc29sdXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFsL0NvbmZsaWN0UmVzb2x1dGlvbic7XG5cbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWwvTW9kYWxEZWZpbml0aW9uJztcblxuaW1wb3J0IHsgRGF0YVN0b3JlLCBlbXB0eURhdGFTdG9yZSB9IGZyb20gJy4uL0RhdGFTdG9yZSc7XG5cbmltcG9ydCB7IERhdGFDb250cm9sbGVyIH0gZnJvbSAnLi4vRGF0YUNvbnRyb2xsZXInO1xuXG5pbnRlcmZhY2UgRXhwZWN0ZWRQYXJhbXMge1xuICAgIGlkOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFbnRpdHlFZGl0b3JQcm9wcyB7XG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xuICAgIHBhcmFtczogRXhwZWN0ZWRQYXJhbXM7XG4gICAgd29ya3NwYWNlOiBzdHJpbmc7XG4gICAgbG9jYXRpb246IHsgcGF0aG5hbWU6IHN0cmluZywgc2VhcmNoOiBzdHJpbmcgfTtcbiAgICBwYXRobmFtZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRW50aXR5RWRpdG9yU3RhdGUge1xuICAgIHRhYnM6IFRhYltdO1xuICAgIGluQnJvd3NlcjogYm9vbGVhbjtcbiAgICBtb2RhbFF1ZXVlOiBNb2RhbERlZmluaXRpb25bXTtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBsb2FkaW5nOiBib29sZWFuO1xuICAgIGxvYWRpbmdXaGVlbDogYm9vbGVhbjtcblxuICAgIGlkOiBudW1iZXI7XG4gICAgbGlzdDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIE9iamVjdEVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxFbnRpdHlFZGl0b3JQcm9wcywgRW50aXR5RWRpdG9yU3RhdGU+IHtcblxuICAgIHB1YmxpYyBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgICAgICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICAgIH07XG5cbiAgICBwcml2YXRlIGJvdW5kQ3JlYXRlVGFiOiBhbnk7XG4gICAgcHJpdmF0ZSBib3VuZENsb3NlVGFiOiBhbnk7XG4gICAgcHJpdmF0ZSBib3VuZEFkZE1vZGFsOiBhbnk7XG4gICAgcHJpdmF0ZSBib3VuZFJlbG9hZDogYW55O1xuICAgIHByaXZhdGUgYm91bmRSZW9yZGVyVGFiczogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IEVudGl0eUVkaXRvclByb3BzLCBjb250ZXh0OiBhbnkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBsZXQgdGFicyA6IFRhYltdID0gW107XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgdGFiU3RyaW5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcGVuX3RhYnMnKTtcbiAgICAgICAgICBpZiAodGFiU3RyaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0YWJzID0gSlNPTi5wYXJzZSh0YWJTdHJpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB0YWJzLFxuICAgICAgICAgICAgaW5Ccm93c2VyOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpLFxuICAgICAgICAgICAgbW9kYWxRdWV1ZTogW10sXG4gICAgICAgICAgICBkYXRhU3RvcmU6IGNsb25lRGVlcChlbXB0eURhdGFTdG9yZSksXG4gICAgICAgICAgICBsb2FkaW5nV2hlZWw6IHRydWUsXG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgaWQ6IE5hTixcbiAgICAgICAgICAgIGxpc3Q6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ib3VuZENyZWF0ZVRhYiA9IHRoaXMuY3JlYXRlVGFiLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYm91bmRDbG9zZVRhYiA9IHRoaXMuY2xvc2VUYWIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ib3VuZEFkZE1vZGFsID0gdGhpcy5hZGRNb2RhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJvdW5kUmVsb2FkID0gdGhpcy5jYWxsUmVsb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYm91bmRSZW9yZGVyVGFicyA9IHRoaXMucmVvcmRlclRhYnMuYmluZCh0aGlzKTtcblxuICAgICAgICBjcmVhdGVUYWIuYWRkKHRoaXMuYm91bmRDcmVhdGVUYWIpO1xuICAgICAgICBjbG9zZVRhYi5hZGQodGhpcy5ib3VuZENsb3NlVGFiKTtcbiAgICAgICAgc2hvd01vZGFsLmFkZCh0aGlzLmJvdW5kQWRkTW9kYWwpO1xuICAgICAgICB0cmlnZ2VyUmVsb2FkLmFkZCh0aGlzLmJvdW5kUmVsb2FkKTtcbiAgICAgICAgcmVvcmRlclRhYnMuYWRkKHRoaXMuYm91bmRSZW9yZGVyVGFicyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnJlbG9hZCh0aGlzLnByb3BzLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGxSZWxvYWQoKSB7XG4gICAgICAgIHRoaXMucmVsb2FkKHRoaXMucHJvcHMsIHRydWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWxvYWQocHJvcHM6IEVudGl0eUVkaXRvclByb3BzLCBmb3JjZTogYm9vbGVhbiA9IGZhbHNlLCBpbml0aWFsTG9hZCA6IGJvb2xlYW4gPSBmYWxzZSkge1xuXG4gICAgICBjb25zdCBvbGRJZCA9IHBhcnNlSW50KHRoaXMucHJvcHMubG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKHRoaXMucHJvcHMucGF0aG5hbWUubGVuZ3RoICsgMSkpO1xuICAgICAgY29uc3QgbmV3SWQgPSBwYXJzZUludChwcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIocHJvcHMucGF0aG5hbWUubGVuZ3RoICsgMSkpO1xuXG4gICAgICBjb25zdCB3b3Jrc3BhY2VDaGFuZ2VkID0gcHJvcHMud29ya3NwYWNlICE9PSB0aGlzLnByb3BzLndvcmtzcGFjZTtcbiAgICAgIGNvbnN0IGlkQ2hhbmdlZCA9IGlzTmFOKG9sZElkKSA/ICFpc05hTihuZXdJZCkgOiBpc05hTihuZXdJZCkgPyB0cnVlIDogb2xkSWQgIT09IG5ld0lkO1xuICAgICAgY29uc3QgcXVlcnlDaGFuZ2VkID0gcHJvcHMubG9jYXRpb24uc2VhcmNoICE9PSB0aGlzLnByb3BzLmxvY2F0aW9uLnNlYXJjaDtcblxuICAgICAgY29uc3QgbmV3V29ya3NwYWNlID0gcHJvcHMud29ya3NwYWNlO1xuXG4gICAgICAvLyBpZiB3ZSBhcmUgaW4gdGhlIGJyb3dzZXIsIGxvYWQgdGFicyFcblxuICAgICAgLy8gaWYgdGhlcmUgaXMgbm90IGEgdGFiIGZvciB0aGUgY3VycmVudCBVUkwgLSBjcmVhdGUgaXRcbiAgICAgIC8vIGlmIHRoZSB1cmwgaXMgaW52YWxpZCwgcmVsb2NhdGUgdG8gL2VkaXQvbm90Zm91bmRcbiAgICAgIGlmIChbJ2VudGl0eScsICdzb3VyY2UnLCAncHJlZGljYXRlJywgJ2VudGl0eV90eXBlJywgJ25vdGZvdW5kJ10uaW5kZXhPZihuZXdXb3Jrc3BhY2UpID09PSAtMSkge1xuICAgICAgICB0aGlzLmNvbnRleHQucm91dGVyLnRyYW5zaXRpb25UbygnL2VkaXQvbm90Zm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHVwZGF0ZWRUYWJzID0gdGhpcy5zdGF0ZS50YWJzO1xuICAgICAgY29uc3QgaXNMaXN0ID0gaXNOYU4obmV3SWQpO1xuXG4gICAgICAgaWYgKHRoaXMuc3RhdGUuaW5Ccm93c2VyKSB7XG4gICAgICAgICBpZiAoaXNMaXN0KSB7XG4gICAgICAgICAgLy8gIGlmIChcbiAgICAgICAgICAvLyAgICBmaW5kKHVwZGF0ZWRUYWJzLCAodGFiKSA9PiB0YWIudGFiVHlwZSA9PT0gbmV3V29ya3NwYWNlICYmIHRhYi50YWJDbGFzcyA9PSAnbGlzdCcpID09PSB1bmRlZmluZWQgfHwgLy8gaWYgbm8gbGlzdCBleGlzdHMsIGRlZmluaXRlbHkgYWRkIG9uZVxuICAgICAgICAgIC8vICAgICAod29ya3NwYWNlQ2hhbmdlZCAmJiBpZENoYW5nZWQgJiYgIXF1ZXJ5Q2hhbmdlZCkpIHtcbiAgICAgICAgICAvLyAgICAgIHVwZGF0ZWRUYWJzID0gdXBkYXRlZFRhYnMuY29uY2F0KFt7IHRhYlR5cGU6IG5ld1dvcmtzcGFjZSwgdWlkOiBEYXRlLm5vdygpLCB0YWJDbGFzczogJ2xpc3QnfV0pO1xuICAgICAgICAgIC8vICB9XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBmaW5kKHVwZGF0ZWRUYWJzLCAodGFiKSA9PiB0YWIudGFiVHlwZSA9PT0gbmV3V29ya3NwYWNlICYmIHRhYi51aWQgPT0gbmV3SWQpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkVGFicyA9IHVwZGF0ZWRUYWJzLmNvbmNhdChbeyB0YWJUeXBlOiBuZXdXb3Jrc3BhY2UsIHVpZDogbmV3SWQsIHRhYkNsYXNzOiAnaXRlbSd9XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIC8vIHRoaXMgc3RhdGUgYWx3YXlzIHVwZGF0ZXNcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpZDogbmV3SWQsXG4gICAgICAgIGxpc3Q6IHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLnN1YnN0cihwcm9wcy5wYXRobmFtZS5sZW5ndGggKyAxKS5sZW5ndGggPT09IDAsXG4gICAgICAgIHRhYnM6IHVwZGF0ZWRUYWJzXG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgICBpZiAoIWluaXRpYWxMb2FkICYmIHRoaXMuc3RhdGUubG9hZGluZyAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgICAgbG9hZGluZ1doZWVsOiBpbml0aWFsTG9hZFxuICAgICAgICB9LCAoKSA9PiB7XG5cbiAgICAgICAgICBEYXRhQ29udHJvbGxlci5yZWxvYWQocHJvcHMuYXBpLCB0aGlzLnN0YXRlLnRhYnMsIGZvcmNlLCAoZmFpbFdvcmtzcGFjZSwgZmFpbFVpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld1dvcmtzcGFjZSA9PT0gZmFpbFdvcmtzcGFjZSAmJiBmYWlsVWlkID09IG5ld0lkKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dC5yb3V0ZXIudHJhbnNpdGlvblRvKCcvZWRpdC9ub3Rmb3VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhU3RvcmUpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGFTdG9yZSxcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgbG9hZGluZ1doZWVsOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVUYWIodGFiVHlwZTogc3RyaW5nLCB1aWQ6IG51bWJlciwgdGFiQ2xhc3M6IHN0cmluZywgZGF0YT86IGFueSkge1xuICAgICAgICAvLyBkb24ndCBhZGQgYSB0YWIgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKGZpbmQodGhpcy5zdGF0ZS50YWJzLCAodGFiKSA9PiB0YWIudGFiVHlwZSA9PT0gdGFiVHlwZSAmJiB0YWIudWlkID09IHVpZCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdGFiczogW3sgdGFiVHlwZSwgdWlkLCBkYXRhLCB0YWJDbGFzcyB9XS5jb25jYXQodGhpcy5zdGF0ZS50YWJzKVxuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRhYnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCh0aGlzLnByb3BzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVRhYih0YWJUeXBlOiBzdHJpbmcsIHVpZDogbnVtYmVyLCBkYXRhOiBhbnkpIHtcbiAgICAgICAgY29uc3QgdGFicyA9IGNsb25lRGVlcCh0aGlzLnN0YXRlLnRhYnMpO1xuICAgICAgICBjb25zdCB0YWJJZCA9IGZpbmRJbmRleCh0YWJzLCAodGFiKSA9PiB0YWIudGFiVHlwZSA9PT0gdGFiVHlwZSAmJiB0YWIudWlkID09PSB1aWQpO1xuICAgICAgICBpZiAodGFiSWQgIT09IC0xKSB7XG4gICAgICAgICAgICB0YWJzW3RhYklkXS5kYXRhID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0YWJzIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlVGFiKHRhYlR5cGU6IHN0cmluZywgdWlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB0YWJzOiB0aGlzLnN0YXRlLnRhYnMuZmlsdGVyKChhKSA9PiBhLnRhYlR5cGUgIT09IHRhYlR5cGUgfHwgYS51aWQgIT09IHVpZClcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zYXZlVGFicygpO1xuICAgICAgICAgICAgdGhpcy5yZWxvYWQodGhpcy5wcm9wcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzYXZlVGFicygpIHtcbiAgICAgICAgY29uc3QgdGFic1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUudGFicyk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluQnJvd3Nlcikge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvcGVuX3RhYnMnLCB0YWJzU3RyaW5nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckFsbFRhYnMoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3RhYnM6IFtdfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zYXZlVGFicygpO1xuICAgICAgICAgICAgdGhpcy5yZWxvYWQodGhpcy5wcm9wcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW9yZGVyVGFicyhyZW9yZGVyRnVuYzogKHRhYnM6IFRhYltdKSA9PiBUYWJbXSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7dGFiczogcmVvcmRlckZ1bmModGhpcy5zdGF0ZS50YWJzKX0sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRhYnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVsb2FkKHRoaXMucHJvcHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTW9kYWwoZGVmOiBNb2RhbERlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsUXVldWU6IFtkZWZdLmNvbmNhdCh0aGlzLnN0YXRlLm1vZGFsUXVldWUpfSk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vZGFsQ29tcGxldGUoZGF0YTogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1vZGFsUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBjb21wbGV0ZSBub24tZXhpc3RlbnQgbW9kYWwnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uY29tcGxldGUoZGF0YSk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1vZGFsUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsUXVldWU6IHRhaWwodGhpcy5zdGF0ZS5tb2RhbFF1ZXVlKSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBtb2RhbENhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubW9kYWxRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGNhbmNlbCBub24tZXhpc3RlbnQgbW9kYWwnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbW9kYWxRdWV1ZTogW11cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnNhdmVUYWJzKCk7XG4gICAgICAgIGNyZWF0ZVRhYi5yZW1vdmUodGhpcy5ib3VuZENyZWF0ZVRhYik7XG4gICAgICAgIGNsb3NlVGFiLnJlbW92ZSh0aGlzLmJvdW5kQ2xvc2VUYWIpO1xuICAgICAgICBzaG93TW9kYWwucmVtb3ZlKHRoaXMuYm91bmRBZGRNb2RhbCk7XG4gICAgICAgIHRyaWdnZXJSZWxvYWQucmVtb3ZlKHRoaXMuYm91bmRSZWxvYWQpO1xuICAgICAgICByZW9yZGVyVGFicy5yZW1vdmUodGhpcy5ib3VuZFJlb3JkZXJUYWJzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wczogRW50aXR5RWRpdG9yUHJvcHMpIHtcbiAgICAgICAgdGhpcy5yZWxvYWQocHJvcHMpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8c2VjdGlvbiBpZD0nZW50aXR5LWVkaXRvcicgY2xhc3NOYW1lPSdmbGV4LWZpbGwnPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17J2hlYWRlci1jb2xvdXIgJyArIHRoaXMucHJvcHMud29ya3NwYWNlfT48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZmxleC1maWxsJz5cbiAgICAgICAgICAgICAgICAgICAgPFNpZGViYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnM9e3RoaXMuc3RhdGUudGFic31cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5zdGF0ZS5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGFicz17dGhpcy5jbGVhckFsbFRhYnMuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMuc3RhdGUubGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnN0YXRlLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlPXt0aGlzLnByb3BzLndvcmtzcGFjZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICA8V29ya3NwYWNlIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMuc3RhdGUuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMuc3RhdGUuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5sb2FkaW5nV2hlZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnN0YXRlLmxpc3R9Lz5cblxuICAgICAgICAgICAgICAgICAgICA8VG9hc3QgLz5cblxuICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm1vZGFsUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlZFByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaTogdGhpcy5wcm9wcy5hcGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlOiB0aGlzLnN0YXRlLmRhdGFTdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogdGhpcy5tb2RhbENvbXBsZXRlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsOiB0aGlzLm1vZGFsQ2FuY2VsLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCh0aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByZWRpY2F0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPENyZWF0ZVByZWRpY2F0ZSB7Li4uc2hhcmVkUHJvcHN9IHsuLi50aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uc2V0dGluZ3N9IC8+KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlY29yZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPENyZWF0ZVJlY29yZCB7Li4uc2hhcmVkUHJvcHN9IHsuLi50aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uc2V0dGluZ3N9Lz4pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlc2V0X3JlY29yZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPENyZWF0ZVByZXNldFJlY29yZCB7Li4uc2hhcmVkUHJvcHN9IHsuLi50aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uc2V0dGluZ3N9Lz4pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8Q3JlYXRlU291cmNlIHsuLi5zaGFyZWRQcm9wc30gey4uLnRoaXMuc3RhdGUubW9kYWxRdWV1ZVswXS5zZXR0aW5nc30vPik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlbnRpdHknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxDcmVhdGVFbnRpdHkgey4uLnNoYXJlZFByb3BzfSB7Li4udGhpcy5zdGF0ZS5tb2RhbFF1ZXVlWzBdLnNldHRpbmdzfS8+KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VudGl0eV90eXBlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8Q3JlYXRlRW50aXR5VHlwZSB7Li4uc2hhcmVkUHJvcHN9IHsuLi50aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uc2V0dGluZ3N9Lz4pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29uZmxpY3RfcmVzb2x1dGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPENvbmZsaWN0UmVzb2x1dGlvbiB7Li4uc2hhcmVkUHJvcHN9IHsuLi50aGlzLnN0YXRlLm1vZGFsUXVldWVbMF0uc2V0dGluZ3N9IC8+KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXsnaGVhZGVyLWNvbG91ciAnICsgdGhpcy5wcm9wcy53b3Jrc3BhY2V9Pjwvc3Bhbj5cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL3ZpZXdzL09iamVjdEVkaXRvci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst SearchBox_1 = __webpack_require__(17);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst react_router_1 = __webpack_require__(4);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst react_sortable_hoc_1 = __webpack_require__(23);\r\nconst Handle = react_sortable_hoc_1.SortableHandle((props) => (React.createElement(\"div\", {className: 'badge-container'}, \r\n    React.createElement(\"div\", {className: 'badge ' + props.tabType}, \r\n        React.createElement(\"span\", null, props.tabType[0].toUpperCase())\r\n    )\r\n)));\r\nconst onCloseTab = (e, tabType, uid) => {\r\n    Signaller_1.closeTab.dispatch(tabType, uid);\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    e.nativeEvent.stopImmediatePropagation();\r\n};\r\nconst Card = react_sortable_hoc_1.SortableElement((props) => (React.createElement(\"li\", {key: `${props.url}`}, \r\n    React.createElement(\"div\", {className: ((currentTab) => {\r\n        const classes = ['sidebar-card', props.tab.tabClass];\r\n        if (currentTab) {\r\n            classes.push('current');\r\n        }\r\n        if (props.compact) {\r\n            classes.push('compact');\r\n        }\r\n        return classes.join(' ');\r\n    })(props.currentTab)}, \r\n        React.createElement(Handle, {tabType: props.tab.tabType, index: props.index, collection: props.collection, disabled: props.disabled}), \r\n        React.createElement(\"div\", {className: 'description'}, \r\n            React.createElement(react_router_1.Link, {to: props.url}, \r\n                React.createElement(\"span\", {className: 'entity-name'}, props.title), \r\n                props.compact ? null : lodash_1.isArray(props.subtitle) ? (React.createElement(\"ul\", null, props.subtitle.map((sub, i) => (React.createElement(\"li\", {key: `tab-${props.index}-${i}`}, sub))))) : (React.createElement(\"span\", {className: 'entity-type'}, props.subtitle)))\r\n        ), \r\n        !props.currentTab ? (React.createElement(\"span\", {className: 'close-button'}, \r\n            React.createElement(\"i\", {className: 'fa fa-times', onClick: (e) => onCloseTab(e, props.tab.tabType, props.tab.uid)})\r\n        )) : null)\r\n)));\r\nconst CardList = react_sortable_hoc_1.SortableContainer((props) => {\r\n    return (React.createElement(\"ul\", {className: 'card-list'}, !props.loading ? props.tabs.map((tab, index) => {\r\n        // TODO: shouldn't be ==\r\n        const item = props.dataStore.all[tab.tabType].value\r\n            .find((item) => item.uid == tab.uid);\r\n        let url = null;\r\n        if (tab.tabClass === 'item') {\r\n            url = `/edit/${ApiService_1.AppUrls[tab.tabType]}/${tab.uid}`;\r\n        }\r\n        else {\r\n            if (tab.tabClass === 'view') {\r\n                url = {\r\n                    pathname: `/edit/${ApiService_1.AppUrls[tab.tabType]}`,\r\n                    query: tab.data\r\n                };\r\n            }\r\n        }\r\n        const subtitle = tab.tabClass === 'item' ?\r\n            lodash_1.capitalize(ApiService_1.AppUrls[tab.tabType]).replace('_', ' ') + ' ' + tab.uid\r\n            : Object.keys(tab.data).map((title) => `${title}: ${tab.data[title]}`);\r\n        const title = item === undefined ? `${tab.tabType} list` : item.label;\r\n        const currentTab = !props.list && tab.tabType === props.workspace && tab.uid == props.id;\r\n        return (React.createElement(Card, {key: `tab-${index}`, currentTab: currentTab, url: url, tab: tab, title: title, subtitle: subtitle, index: index, compact: props.compact}));\r\n    }) : null));\r\n});\r\nclass Sidebar extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.onSortEnd = ({ oldIndex, newIndex }) => {\r\n            Signaller_1.reorderTabs.dispatch((tabs) => {\r\n                return react_sortable_hoc_1.arrayMove(tabs, oldIndex, newIndex);\r\n            });\r\n        };\r\n        this.state = {\r\n            searchString: '',\r\n            compactMode: false\r\n        };\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", {id: 'sidebar'}, \r\n            React.createElement(SearchBox_1.SearchBox, {searchString: this.state.searchString, dataStore: this.props.dataStore, onChange: (evt) => this.setState({ searchString: evt.currentTarget.value })}), \r\n            React.createElement(\"div\", {className: 'sidebar-toolbar'}, \r\n                React.createElement(\"button\", {onClick: this.props.clearTabs}, \r\n                    React.createElement(\"i\", {className: 'fa fa-trash'}), \r\n                    \" Clear All\"), \r\n                React.createElement(\"button\", {onClick: () => this.setState({ compactMode: !this.state.compactMode })}, \r\n                    React.createElement(\"i\", {className: 'fa fa-compress'}), \r\n                    \" Compact\")), \r\n            React.createElement(\"div\", {className: 'card-list-container'}, \r\n                React.createElement(CardList, {dataStore: this.props.dataStore, loading: this.props.loading, tabs: this.props.tabs, list: this.props.list, workspace: this.props.workspace, id: this.props.id, compact: this.state.compactMode, onSortEnd: this.onSortEnd, useDragHandle: true})\r\n            )));\r\n    }\r\n}\r\nexports.Sidebar = Sidebar;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvU2lkZWJhci50c3g/YWVlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0Isd0NBQTBCLEVBQXFCLENBQUM7QUFDaEQseUNBQXdCLENBQWUsQ0FBQztBQUN4QywyQ0FBcUIsQ0FBYyxDQUFDO0FBRXBDLHdDQUFzQyxFQUFjLENBQUM7QUFFckQscUNBQW9DLEVBQVEsQ0FBQztBQUU3QyxpREFBNEUsRUFBb0IsQ0FBQztBQVVqRyxNQUFNLE1BQU0sR0FBRyxtQ0FBYyxDQUFDLENBQUMsS0FBd0IsS0FBSyxDQUMxRCxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLGlCQUFpQjtJQUM1QixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFFLFFBQVEsR0FBRyxLQUFLLENBQUMsT0FBUTtRQUNyQyxxQkFBQyxJQUFJLFNBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUcsQ0FBTztLQUMzQztDQUNKLENBQ1AsQ0FBQyxDQUFDO0FBRUgsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFtQixFQUFFLE9BQWUsRUFBRSxHQUFXO0lBQ2pFLG9CQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDcEIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ25CLENBQUMsQ0FBQyxXQUFXLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztBQUM3QyxDQUFDO0FBRUQsTUFBTSxJQUFJLEdBQUcsb0NBQWUsQ0FBQyxDQUFDLEtBQ0QsS0FBSyxDQUM1QixxQkFBQyxFQUFFLElBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRztJQUNwQixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxVQUFVO1FB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RUFBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBQyxDQUFFO29CQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsZ0JBQWdCLEVBQUs7b0JBQUMsVUFBTyxDQUFTLENBQy9IO1lBQ04scUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxxQkFBcUI7Z0JBQ25DLG9CQUFDLFFBQVEsR0FDTixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFVLEVBQ2hDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQVEsRUFDNUIsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSyxFQUN0QixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFLLEVBQ3RCLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVUsRUFDaEMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRyxFQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFZLEVBQ2hDLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBVSxFQUMxQixhQUFhLEVBQUUsSUFBSyxFQUNwQjthQUNFLENBQ0EsQ0FDYixDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUEzQ1ksZUFBTyxVQTJDbkIiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZWFyY2hCb3ggfSBmcm9tICcuL3NpZGViYXIvU2VhcmNoQm94JztcbmltcG9ydCB7IEFwcFVybHMgfSBmcm9tICcuLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vRGF0YVN0b3JlJztcbmltcG9ydCB7IGNsb3NlVGFiLCByZW9yZGVyVGFicyB9IGZyb20gJy4uL1NpZ25hbGxlcic7XG5cbmltcG9ydCB7IGNhcGl0YWxpemUsIGlzQXJyYXkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1NvcnRhYmxlQ29udGFpbmVyLCBTb3J0YWJsZUVsZW1lbnQsIFNvcnRhYmxlSGFuZGxlLCBhcnJheU1vdmV9IGZyb20gJ3JlYWN0LXNvcnRhYmxlLWhvYyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFiIHtcbiAgICB0YWJUeXBlOiBzdHJpbmc7XG4gICAgdGFiQ2xhc3M6IHN0cmluZztcbiAgICB1aWQ6IG51bWJlcjtcbiAgICBxdWVyeT86IHsgW3M6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIGRhdGE/OiBhbnk7XG59XG5cbmNvbnN0IEhhbmRsZSA9IFNvcnRhYmxlSGFuZGxlKChwcm9wczoge3RhYlR5cGU6IHN0cmluZ30pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9J2JhZGdlLWNvbnRhaW5lcic+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17J2JhZGdlICcgKyBwcm9wcy50YWJUeXBlfT5cbiAgICAgICAgICA8c3Bhbj57cHJvcHMudGFiVHlwZVswXS50b1VwcGVyQ2FzZSgpfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICA8L2Rpdj5cbikpO1xuXG5jb25zdCBvbkNsb3NlVGFiID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIHRhYlR5cGU6IHN0cmluZywgdWlkOiBudW1iZXIpID0+IHtcbiAgICBjbG9zZVRhYi5kaXNwYXRjaCh0YWJUeXBlLCB1aWQpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG59XG5cbmNvbnN0IENhcmQgPSBTb3J0YWJsZUVsZW1lbnQoKHByb3BzOiB7Y3VycmVudFRhYjogYm9vbGVhbiwgdXJsOiBhbnksIGluZGV4OiBudW1iZXIsIHRhYjogVGFiLCB0aXRsZTogc3RyaW5nLCBzdWJ0aXRsZTogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgICAgICAgICBjb21wYWN0OiBib29sZWFufSkgPT4gKFxuICAgICAgPGxpIGtleT17YCR7cHJvcHMudXJsfWB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsoKGN1cnJlbnRUYWIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFsnc2lkZWJhci1jYXJkJywgcHJvcHMudGFiLnRhYkNsYXNzXTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnY3VycmVudCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChwcm9wcy5jb21wYWN0KSB7XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2NvbXBhY3QnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgICAgICAgfSkocHJvcHMuY3VycmVudFRhYil9PlxuICAgICAgICAgICAgICA8SGFuZGxlIHRhYlR5cGU9e3Byb3BzLnRhYi50YWJUeXBlfSBpbmRleD17cHJvcHMuaW5kZXh9IGNvbGxlY3Rpb249e3Byb3BzLmNvbGxlY3Rpb259IGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH0vPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGVzY3JpcHRpb24nPlxuICAgICAgICAgICAgICAgICAgPExpbmsgdG89e3Byb3BzLnVybH0+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdlbnRpdHktbmFtZSc+e3Byb3BzLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJvcHMuY29tcGFjdCA/IG51bGwgOiBpc0FycmF5KHByb3BzLnN1YnRpdGxlKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD57cHJvcHMuc3VidGl0bGUubWFwKChzdWIsIGkpID0+ICg8bGkga2V5PXtgdGFiLSR7cHJvcHMuaW5kZXh9LSR7aX1gfT57c3VifTwvbGk+KSl9PC91bD5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2VudGl0eS10eXBlJz57cHJvcHMuc3VidGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7IXByb3BzLmN1cnJlbnRUYWIgPyAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2Nsb3NlLWJ1dHRvbic+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS10aW1lcycgb25DbGljaz17KGUpID0+IG9uQ2xvc2VUYWIoZSwgcHJvcHMudGFiLnRhYlR5cGUsIHByb3BzLnRhYi51aWQpfT48L2k+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgKSk7XG5cbmNvbnN0IENhcmRMaXN0ID0gU29ydGFibGVDb250YWluZXIoKHByb3BzOiB7XG4gICAgZGF0YVN0b3JlOiBEYXRhU3RvcmUsXG4gICAgbG9hZGluZzogYm9vbGVhbixcbiAgICB0YWJzOiBUYWJbXSxcbiAgICBsaXN0OiBib29sZWFuLFxuICAgIHdvcmtzcGFjZTogc3RyaW5nLFxuICAgIGlkOiBudW1iZXIsXG4gICAgY29tcGFjdDogYm9vbGVhbn0pID0+IHtcblxuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPSdjYXJkLWxpc3QnPlxuICAgICAgICAgICAgeyFwcm9wcy5sb2FkaW5nID8gcHJvcHMudGFicy5tYXAoKHRhYiwgaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZG4ndCBiZSA9PVxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwcm9wcy5kYXRhU3RvcmUuYWxsW3RhYi50YWJUeXBlXS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgoaXRlbSkgPT4gaXRlbS51aWQgPT0gdGFiLnVpZCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgdXJsIDogc3RyaW5nIHwgT2JqZWN0IHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRhYi50YWJDbGFzcyA9PT0gJ2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgICB1cmwgPSBgL2VkaXQvJHtBcHBVcmxzW3RhYi50YWJUeXBlXX0vJHt0YWIudWlkfWA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0YWIudGFiQ2xhc3MgPT09ICd2aWV3Jykge1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IGAvZWRpdC8ke0FwcFVybHNbdGFiLnRhYlR5cGVdfWAsXG4gICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHRhYi5kYXRhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VidGl0bGUgPSB0YWIudGFiQ2xhc3MgPT09ICdpdGVtJyA/XG4gICAgICAgICAgICAgICAgICBjYXBpdGFsaXplKEFwcFVybHNbdGFiLnRhYlR5cGVdKS5yZXBsYWNlKCdfJywgJyAnKSArICcgJyArIHRhYi51aWRcbiAgICAgICAgICAgICAgICAgIDogT2JqZWN0LmtleXModGFiLmRhdGEpLm1hcCgodGl0bGUpID0+IGAke3RpdGxlfTogJHt0YWIuZGF0YVt0aXRsZV19YCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGl0ZW0gPT09IHVuZGVmaW5lZCA/IGAke3RhYi50YWJUeXBlfSBsaXN0YCA6IGl0ZW0ubGFiZWw7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gIXByb3BzLmxpc3QgJiYgdGFiLnRhYlR5cGUgPT09IHByb3BzLndvcmtzcGFjZSAmJiB0YWIudWlkID09IHByb3BzLmlkO1xuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgICAgICBrZXk9e2B0YWItJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgY3VycmVudFRhYj17Y3VycmVudFRhYn1cbiAgICAgICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgICAgICAgdGFiPXt0YWJ9XG4gICAgICAgICAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgICBzdWJ0aXRsZT17c3VidGl0bGV9XG4gICAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgICAgICBjb21wYWN0PXtwcm9wcy5jb21wYWN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH0pIDogbnVsbH1cbiAgICAgICAgPC91bD5cbiAgICApO1xufSk7XG5cblxuaW50ZXJmYWNlIFNpZGViYXJQcm9wcyB7XG4gICAgdGFiczogVGFiW107XG4gICAgZGF0YVN0b3JlOiBEYXRhU3RvcmU7XG4gICAgbG9hZGluZzogYm9vbGVhbjtcbiAgICBjbGVhclRhYnM6IGFueTtcbiAgICB3b3Jrc3BhY2U6IHN0cmluZztcbiAgICBsaXN0OiBib29sZWFuO1xuICAgIGlkOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBTaWRlYmFyU3RhdGUge1xuICAgIHNlYXJjaFN0cmluZzogc3RyaW5nO1xuICAgIGNvbXBhY3RNb2RlOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgU2lkZWJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxTaWRlYmFyUHJvcHMsIFNpZGViYXJTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmc6ICcnLFxuICAgICAgICAgICAgY29tcGFjdE1vZGU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIG9uU29ydEVuZCA9ICh7b2xkSW5kZXgsIG5ld0luZGV4fSkgPT4ge1xuICAgICAgcmVvcmRlclRhYnMuZGlzcGF0Y2goKHRhYnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5TW92ZSh0YWJzLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNlY3Rpb24gaWQ9J3NpZGViYXInPlxuICAgICAgICAgICAgICAgIDxTZWFyY2hCb3ggc2VhcmNoU3RyaW5nPXt0aGlzLnN0YXRlLnNlYXJjaFN0cmluZ31cbiAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0KSA9PiB0aGlzLnNldFN0YXRlKHtzZWFyY2hTdHJpbmc6IGV2dC5jdXJyZW50VGFyZ2V0LnZhbHVlfSl9IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NpZGViYXItdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5jbGVhclRhYnN9PjxpIGNsYXNzTmFtZT0nZmEgZmEtdHJhc2gnPjwvaT4gQ2xlYXIgQWxsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7Y29tcGFjdE1vZGU6ICF0aGlzLnN0YXRlLmNvbXBhY3RNb2RlfSl9PjxpIGNsYXNzTmFtZT0nZmEgZmEtY29tcHJlc3MnPjwvaT4gQ29tcGFjdDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXJkLWxpc3QtY29udGFpbmVyJz5cbiAgICAgICAgICAgICAgICAgPENhcmRMaXN0XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgdGFicz17dGhpcy5wcm9wcy50YWJzfVxuICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZT17dGhpcy5wcm9wcy53b3Jrc3BhY2V9XG4gICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgICAgICBjb21wYWN0PXt0aGlzLnN0YXRlLmNvbXBhY3RNb2RlfVxuICAgICAgICAgICAgICAgICAgICBvblNvcnRFbmQ9e3RoaXMub25Tb3J0RW5kfVxuICAgICAgICAgICAgICAgICAgICB1c2VEcmFnSGFuZGxlPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvU2lkZWJhci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 17 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Searchboc for sidebar\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst ApiService_1 = __webpack_require__(6);\r\nexports.SearchBox = (props, context) => {\r\n    const entities = props.dataStore.all.entity.value.map((entity) => ({ key: entity.label, value: entity.uid, meta: { itemType: ApiService_1.AppUrls.entity } }));\r\n    const entityTypes = props.dataStore.all.entity_type.value.map((entityType) => ({ key: entityType.label, value: entityType.uid, meta: { itemType: ApiService_1.AppUrls.entity_type } }));\r\n    const predicates = props.dataStore.all.predicate.value.map((predicate) => ({ key: predicate.label, value: predicate.uid, meta: { itemType: ApiService_1.AppUrls.predicate } }));\r\n    const sources = props.dataStore.all.source.value.map((source) => ({ key: source.label, value: source.uid, meta: { itemType: ApiService_1.AppUrls.source } }));\r\n    const all = entities.concat(entityTypes, predicates, sources);\r\n    return (React.createElement(\"span\", null, \r\n        React.createElement(\"div\", {className: 'input-addon-formgroup'}, \r\n            React.createElement(\"span\", {className: 'input-addon-icon'}, \r\n                React.createElement(\"i\", {className: 'fa fa-search fa-fw'})\r\n            ), \r\n            React.createElement(ComboDropdown_1.ComboDropdown, {value: { key: '', value: '' }, setValue: (val) => {\r\n                context.router.transitionTo(`/edit/${val.meta.itemType}/${val.value}`);\r\n            }, typeName: 'all', options: all, allowNew: false, createNewValue: () => { }}))\r\n    ));\r\n};\r\nexports.SearchBox.contextTypes = { router: React.PropTypes.object.isRequired };\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvc2lkZWJhci9TZWFyY2hCb3gudHN4PzUyNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBQy9CLDRDQUE4QixFQUFrQixDQUFDO0FBR2pELHlDQUF3QixDQUFrQixDQUFDO0FBUTlCLGlCQUFTLEdBQUcsQ0FBQyxLQUFzQixFQUFFLE9BQVk7SUFFMUQsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQ3pELENBQUMsRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsb0JBQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVwRixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsS0FDckUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxvQkFBTyxDQUFDLFdBQVcsRUFBRSxFQUFHLENBQUMsQ0FBQyxDQUFDO0lBRWxHLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxLQUNqRSxDQUFDLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsUUFBUSxFQUFFLG9CQUFPLENBQUMsU0FBUyxFQUFFLEVBQUcsQ0FBQyxDQUFDLENBQUM7SUFFOUYsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQ3hELENBQUMsRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsb0JBQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRyxDQUFDLENBQUMsQ0FBQztJQUVyRixNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFHOUQsTUFBTSxDQUFDLENBQ0gscUJBQUMsSUFBSTtRQUNELHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsdUJBQXVCO1lBQ2xDLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsa0JBQWtCO2dCQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsb0JBQW9CLEVBQUs7YUFBTztZQUNoRixvQkFBQyw2QkFBYSxHQUNWLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUM3QixRQUFRLEVBQUUsQ0FBQyxHQUFHO2dCQUNWLE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzFFLENBQUUsRUFDRixRQUFRLEVBQUMsS0FBSyxFQUNkLE9BQU8sRUFBRSxHQUFJLEVBQ2IsUUFBUSxFQUFFLEtBQU0sRUFDaEIsY0FBYyxFQUFFLFFBQU8sQ0FBRSxFQUMzQixDQUNBO0tBQ0gsQ0FDVixDQUFDO0FBRU4sQ0FBQyxDQUFFO0FBRUgsaUJBQVMsQ0FBQyxZQUFZLEdBQUcsRUFBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFDLENBQUMiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2VhcmNoYm9jIGZvciBzaWRlYmFyXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb21ib0Ryb3Bkb3duIH0gZnJvbSAnLi4vQ29tYm9Ecm9wZG93bic7XG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi8uLi9EYXRhU3RvcmUnO1xuXG5pbXBvcnQgeyBBcHBVcmxzIH0gZnJvbSAnLi4vLi4vQXBpU2VydmljZSc7XG5cbmludGVyZmFjZSBTZWFyY2hCb3hQcm9wcyB7XG4gICAgb25DaGFuZ2UgOiBSZWFjdC5FdmVudEhhbmRsZXI8UmVhY3QuRm9ybUV2ZW50PjtcbiAgICBzZWFyY2hTdHJpbmc6IHN0cmluZztcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlYXJjaEJveCA9IChwcm9wcyA6IFNlYXJjaEJveFByb3BzLCBjb250ZXh0OiBhbnkpID0+IHtcblxuICAgIGNvbnN0IGVudGl0aWVzID0gcHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHkudmFsdWUubWFwKChlbnRpdHkpID0+XG4gICAgICAgICh7IGtleTogZW50aXR5LmxhYmVsLCB2YWx1ZTogZW50aXR5LnVpZCwgbWV0YTogeyBpdGVtVHlwZTogQXBwVXJscy5lbnRpdHkgfSB9KSk7XG5cbiAgICBjb25zdCBlbnRpdHlUeXBlcyA9IHByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUubWFwKChlbnRpdHlUeXBlKSA9PlxuICAgICAgICAoeyBrZXk6IGVudGl0eVR5cGUubGFiZWwsIHZhbHVlOiBlbnRpdHlUeXBlLnVpZCwgbWV0YTogeyBpdGVtVHlwZTogQXBwVXJscy5lbnRpdHlfdHlwZSB9ICB9KSk7XG5cbiAgICBjb25zdCBwcmVkaWNhdGVzID0gcHJvcHMuZGF0YVN0b3JlLmFsbC5wcmVkaWNhdGUudmFsdWUubWFwKChwcmVkaWNhdGUpID0+XG4gICAgICAgICh7IGtleTogcHJlZGljYXRlLmxhYmVsLCB2YWx1ZTogcHJlZGljYXRlLnVpZCwgbWV0YTogeyBpdGVtVHlwZTogQXBwVXJscy5wcmVkaWNhdGUgfSAgfSkpO1xuXG4gICAgY29uc3Qgc291cmNlcyA9IHByb3BzLmRhdGFTdG9yZS5hbGwuc291cmNlLnZhbHVlLm1hcCgoc291cmNlKSA9PlxuICAgICAgICAoeyBrZXk6IHNvdXJjZS5sYWJlbCwgdmFsdWU6IHNvdXJjZS51aWQsIG1ldGE6IHsgaXRlbVR5cGU6IEFwcFVybHMuc291cmNlIH0gIH0pKTtcblxuICAgIGNvbnN0IGFsbCA9IGVudGl0aWVzLmNvbmNhdChlbnRpdHlUeXBlcywgcHJlZGljYXRlcywgc291cmNlcyk7XG5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2lucHV0LWFkZG9uLWZvcm1ncm91cCc+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpbnB1dC1hZGRvbi1pY29uJz48aSBjbGFzc05hbWU9J2ZhIGZhLXNlYXJjaCBmYS1mdyc+PC9pPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8Q29tYm9Ecm9wZG93blxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17eyBrZXk6ICcnLCB2YWx1ZTogJyd9fVxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZT17KHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3V0ZXIudHJhbnNpdGlvblRvKGAvZWRpdC8ke3ZhbC5tZXRhLml0ZW1UeXBlfS8ke3ZhbC52YWx1ZX1gKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZT0nYWxsJ1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXthbGx9XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TmV3PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTmV3VmFsdWU9eygpID0+IHt9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zcGFuPlxuICAgICk7XG5cbn0gO1xuXG5TZWFyY2hCb3guY29udGV4dFR5cGVzID0ge3JvdXRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9zaWRlYmFyL1NlYXJjaEJveC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst lunr = __webpack_require__(19);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass ComboDropdown extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchString: '',\r\n            showingDropDown: false,\r\n            filteredOptions: [],\r\n            highlightedIndex: null,\r\n            dropDownHeight: 0\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.ignoreBlur = false;\r\n        this.ignoreClick = false;\r\n        this.recalculateHeight = true;\r\n        this.dropDownBoxElement = null;\r\n        this.setState({\r\n            filteredOptions: this.props.options,\r\n            searchString: this.props.value === null || this.props.value.key === null ? '' : this.props.value.key\r\n        });\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let filterString = '';\r\n        if (this.props.value === null) {\r\n            if (newProps.value === null) {\r\n                // change nothing\r\n                filterString = this.state.searchString;\r\n            }\r\n            else {\r\n                // set to newProps value\r\n                filterString = newProps.value.key;\r\n            }\r\n        }\r\n        else {\r\n            if (newProps.value === null) {\r\n                // set to ''\r\n                filterString = '';\r\n            }\r\n            else {\r\n                if (newProps.value === this.props.value) {\r\n                    // change nothing\r\n                    filterString = this.state.searchString;\r\n                }\r\n                else {\r\n                    // set to newProps value\r\n                    filterString = newProps.value.key;\r\n                }\r\n            }\r\n        }\r\n        //const filterString = newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString;\r\n        this.updateFilter(filterString, newProps);\r\n        this.setState({\r\n            searchString: filterString,\r\n            options: newProps.options\r\n        });\r\n    }\r\n    changeSearchString(event) {\r\n        this.setState({ searchString: event.target.value, showingDropDown: true }, () => {\r\n            this.updateFilter(this.state.searchString, this.props);\r\n            this.props.updateSearchString(this.state.searchString);\r\n        });\r\n    }\r\n    updateSearchString(s) {\r\n        if (this.props.updateSearchString !== undefined) {\r\n            this.props.updateSearchString(s);\r\n        }\r\n    }\r\n    updateFilter(filter, props) {\r\n        let filtered = [];\r\n        if (filter.length > 0) {\r\n            const idx = lunr(function () {\r\n                this.field('key', { boost: 10 });\r\n            });\r\n            props.options.forEach((opt, i) => idx.add(Object.assign({}, opt, { id: i })));\r\n            const result = idx.search(filter);\r\n            for (let i = 0; i < result.length; i += 1) {\r\n                filtered.push(props.options[result[i].ref]);\r\n            }\r\n        }\r\n        else {\r\n            filtered = props.options;\r\n        }\r\n        if (this.dropDownBoxElement !== null) {\r\n            this.recalculateHeight = true;\r\n            this.calculateDropdownHeight(this.dropDownBoxElement);\r\n        }\r\n        this.setState({\r\n            filteredOptions: filtered\r\n        });\r\n    }\r\n    addNewAction(option) {\r\n        this.props.createNewValue(option);\r\n    }\r\n    selectOption(option) {\r\n        this.props.setValue(option);\r\n        this.ignoreBlur = false;\r\n        this.recalculateHeight = true;\r\n        this.setState({ showingDropDown: false, searchString: option.key });\r\n        this.updateSearchString(option.key);\r\n    }\r\n    handleInputBlur() {\r\n        if (!this.ignoreBlur) {\r\n            if (this.state.searchString.length === 0) {\r\n                this.setState({ searchString: '' });\r\n            }\r\n            else {\r\n                if (lodash_1.findIndex(this.props.options, (option) => option.key === this.state.searchString) === -1) {\r\n                    this.setState({ searchString: this.props.value === null ? '' : this.props.value.key }, () => {\r\n                        this.updateFilter(this.props.value === null ? '' : this.props.value.key, this.props);\r\n                    });\r\n                }\r\n            }\r\n            this.recalculateHeight = true;\r\n            this.setState({\r\n                showingDropDown: false,\r\n            });\r\n        }\r\n    }\r\n    handleInputFocus() {\r\n        if (this.ignoreBlur) {\r\n            this.ignoreBlur = true;\r\n            return;\r\n        }\r\n        // We don't want `selectItemFromMouse` to trigger when\r\n        // the user clicks into the input to focus it, so set this\r\n        // flag to cancel out the logic in `handleInputClick`.\r\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\r\n        this.ignoreClick = true;\r\n        this.setState({ showingDropDown: true });\r\n    }\r\n    handleInputClick() {\r\n        // Input will not be focused if it's disabled\r\n        if (this.isInputFocused() && this.state.showingDropDown === false) {\r\n            this.setState({ showingDropDown: true });\r\n        }\r\n        else {\r\n            if (this.state.highlightedIndex !== null && !this.ignoreClick) {\r\n                this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\r\n            }\r\n            else {\r\n                this.ignoreClick = false;\r\n            }\r\n        }\r\n    }\r\n    selectItemFromMouse(item) {\r\n        this.recalculateHeight = true;\r\n        this.setState({\r\n            showingDropDown: false,\r\n            highlightedIndex: null\r\n        }, () => {\r\n            this.props.setValue(item);\r\n            this.refs.comboDropDownInputBox.focus();\r\n        });\r\n    }\r\n    isInputFocused() {\r\n        const el = this.refs.comboDropDownInputBox;\r\n        return el.ownerDocument && (el === el.ownerDocument.activeElement);\r\n    }\r\n    clearSearchBox() {\r\n        this.props.setValue(null);\r\n        this.setState({ searchString: '' });\r\n        this.refs.comboDropDownInputBox.focus();\r\n    }\r\n    calculateDropdownHeight(val) {\r\n        this.dropDownBoxElement = val;\r\n        if (val === null || !this.recalculateHeight) {\r\n            return;\r\n        }\r\n        else {\r\n            this.setState({\r\n                dropDownHeight: window.document.body.getBoundingClientRect().bottom - val.getBoundingClientRect().top - 32\r\n            });\r\n            this.recalculateHeight = false;\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {className: this.props.compact ? 'compact combo-dropdown' : 'combo-dropdown'}, \r\n            React.createElement(\"div\", null, \r\n                React.createElement(\"input\", {type: 'text', ref: 'comboDropDownInputBox', className: 'search-input', value: this.state.searchString, placeholder: 'Click here and start typing..', onBlur: this.handleInputBlur.bind(this), onFocus: this.handleInputFocus.bind(this), onChange: this.changeSearchString.bind(this), onClick: this.handleInputClick.bind(this)}), \r\n                this.state.searchString.length > 0 ? (React.createElement(\"i\", {className: 'fa fa-times clear-button', onClick: this.clearSearchBox.bind(this)})) : null), \r\n            this.state.showingDropDown ? (React.createElement(\"div\", {className: 'dropdown', style: { maxHeight: this.state.dropDownHeight, overflowY: 'auto' }, ref: this.calculateDropdownHeight.bind(this)}, \r\n                React.createElement(\"ul\", null, \r\n                    this.state.searchString.length === 0 && this.props.allowNew ? (React.createElement(\"li\", {className: 'add', onMouseDown: () => this.ignoreBlur = true, onClick: () => this.addNewAction('')}, \r\n                        React.createElement(\"i\", {className: 'fa fa-plus', \"aria-hidden\": 'true'}), \r\n                        \"Add new \", \r\n                        this.props.typeName)) : null, \r\n                    this.state.filteredOptions.map((opt, i) => (React.createElement(\"li\", {key: `opt-${opt.key}-${i}`, onMouseDown: () => this.ignoreBlur = true, onClick: () => this.selectOption(opt)}, opt.key))), \r\n                    this.state.searchString.length > 0 && this.props.allowNew ? (React.createElement(\"li\", {className: 'add', onMouseDown: () => this.ignoreBlur = true, onClick: () => this.addNewAction(this.state.searchString)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-plus', \"aria-hidden\": 'true'}), \r\n                        \"Add new \", \r\n                        this.props.typeName, \r\n                        \": '\", \r\n                        this.state.searchString, \r\n                        \"'\")) : null)\r\n            )) : null));\r\n    }\r\n}\r\nComboDropdown.defaultProps = {\r\n    allowNew: true,\r\n    compact: false,\r\n    updateSearchString: lodash_1.noop\r\n};\r\nexports.ComboDropdown = ComboDropdown;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvQ29tYm9Ecm9wZG93bi50c3g/ZGQyNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsTUFBWSxJQUFJLHVCQUFNLEVBQU0sQ0FBQztBQUU3QixxQ0FBZ0MsRUFBUSxDQUFDO0FBNkJ6Qyw0QkFBc0MsS0FBSyxDQUFDLFNBQVM7SUFjakQ7UUFDSSxPQUFPLENBQUM7UUFFUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsWUFBWSxFQUFFLEVBQUU7WUFDaEIsZUFBZSxFQUFFLEtBQUs7WUFDdEIsZUFBZSxFQUFFLEVBQUU7WUFDbkIsZ0JBQWdCLEVBQUUsSUFBSTtZQUN0QixjQUFjLEVBQUUsQ0FBQztTQUNwQixDQUFDO0lBQ04sQ0FBQztJQUVNLGtCQUFrQjtRQUNyQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQzlCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7UUFFOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNYLGVBQWUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU87WUFDbkMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssSUFBSSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHO1NBQ3ZHLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSx5QkFBeUIsQ0FBQyxRQUE0QjtRQUV6RCxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7UUFFdEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtB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LFFBQVM7d0JBQUEsS0FBRzt3QkFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQWE7d0JBQUEsR0FBQyxDQUFLLENBQ3RFLEdBQUcsSUFBTSxDQUNUO2FBQ0gsQ0FDVCxHQUFHLElBQUssQ0FDUCxDQUNULENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQWpRaUIsMEJBQVksR0FBd0I7SUFDL0MsUUFBUSxFQUFFLElBQUk7SUFDZCxPQUFPLEVBQUUsS0FBSztJQUNkLGtCQUFrQixFQUFFLGFBQUk7Q0FDMUI7QUFOUSxxQkFBYSxnQkFtUXpCIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFNpZGViYXIgZm9yIGVkaXRvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgbHVuciBmcm9tICdsdW5yJztcblxuaW1wb3J0IHsgZmluZEluZGV4LCBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0ICogYXMgUmVhY3RBdXRvQ29tcGxldGUgZnJvbSAncmVhY3QtYXV0b2NvbXBsZXRlJztcblxuZXhwb3J0IGludGVyZmFjZSBDb21ib0Ryb3Bkb3duT3B0aW9uIHtcbiAgICBrZXk6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIG1ldGE/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tYm9Ecm9wZG93blByb3BzIHtcbiAgICBvcHRpb25zOiBDb21ib0Ryb3Bkb3duT3B0aW9uW107XG4gICAgdHlwZU5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogQ29tYm9Ecm9wZG93bk9wdGlvbiB8IG51bGw7XG4gICAgc2V0VmFsdWU6IChzOiBDb21ib0Ryb3Bkb3duT3B0aW9uIHwgbnVsbCkgPT4gdm9pZDtcbiAgICBjcmVhdGVOZXdWYWx1ZTogKHM6IHN0cmluZykgPT4gdm9pZDtcbiAgICB1cGRhdGVTZWFyY2hTdHJpbmc/OiAoczogc3RyaW5nKSA9PiB2b2lkO1xuICAgIGFsbG93TmV3PzogYm9vbGVhbjtcbiAgICBjb21wYWN0PzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIENvbWJvRHJvcGRvd25TdGF0ZSB7XG4gICAgc2VhcmNoU3RyaW5nOiBzdHJpbmc7XG4gICAgc2hvd2luZ0Ryb3BEb3duOiBib29sZWFuO1xuICAgIGZpbHRlcmVkT3B0aW9uczogQ29tYm9Ecm9wZG93bk9wdGlvbltdO1xuICAgIGhpZ2hsaWdodGVkSW5kZXg6IG51bGwgfCBudW1iZXI7XG4gICAgZHJvcERvd25IZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbWJvRHJvcGRvd248VD4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q29tYm9Ecm9wZG93blByb3BzLCBDb21ib0Ryb3Bkb3duU3RhdGU+IHtcblxuICAgIHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzIDogQ29tYm9Ecm9wZG93blByb3BzID0ge1xuICAgICAgIGFsbG93TmV3OiB0cnVlLFxuICAgICAgIGNvbXBhY3Q6IGZhbHNlLFxuICAgICAgIHVwZGF0ZVNlYXJjaFN0cmluZzogbm9vcFxuICAgIH1cblxuICAgIHByaXZhdGUgaWdub3JlQmx1cjtcbiAgICBwcml2YXRlIGlnbm9yZUNsaWNrO1xuICAgIHByaXZhdGUgcmVjYWxjdWxhdGVIZWlnaHQ7XG5cbiAgICBwcml2YXRlIGRyb3BEb3duQm94RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmc6ICcnLFxuICAgICAgICAgICAgc2hvd2luZ0Ryb3BEb3duOiBmYWxzZSxcbiAgICAgICAgICAgIGZpbHRlcmVkT3B0aW9uczogW10sXG4gICAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBudWxsLFxuICAgICAgICAgICAgZHJvcERvd25IZWlnaHQ6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB0aGlzLmlnbm9yZUJsdXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pZ25vcmVDbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlY2FsY3VsYXRlSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kcm9wRG93bkJveEVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGZpbHRlcmVkT3B0aW9uczogdGhpcy5wcm9wcy5vcHRpb25zLFxuICAgICAgICAgICAgc2VhcmNoU3RyaW5nOiB0aGlzLnByb3BzLnZhbHVlID09PSBudWxsIHx8IHRoaXMucHJvcHMudmFsdWUua2V5ID09PSBudWxsID8gJycgOiB0aGlzLnByb3BzLnZhbHVlLmtleVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wczogQ29tYm9Ecm9wZG93blByb3BzKSB7XG5cbiAgICAgICAgbGV0IGZpbHRlclN0cmluZyA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugbm90aGluZ1xuICAgICAgICAgICAgICAgIGZpbHRlclN0cmluZyA9IHRoaXMuc3RhdGUuc2VhcmNoU3RyaW5nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdG8gbmV3UHJvcHMgdmFsdWVcbiAgICAgICAgICAgICAgICBmaWx0ZXJTdHJpbmcgPSBuZXdQcm9wcy52YWx1ZS5rZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHMudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdG8gJydcbiAgICAgICAgICAgICAgICBmaWx0ZXJTdHJpbmcgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Byb3BzLnZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclN0cmluZyA9IHRoaXMuc3RhdGUuc2VhcmNoU3RyaW5nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB0byBuZXdQcm9wcyB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJTdHJpbmcgPSBuZXdQcm9wcy52YWx1ZS5rZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jb25zdCBmaWx0ZXJTdHJpbmcgPSBuZXdQcm9wcy52YWx1ZS5rZXkgIT09IHRoaXMucHJvcHMudmFsdWUua2V5ID8gbmV3UHJvcHMudmFsdWUua2V5IDogdGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmc7XG5cbiAgICAgICAgdGhpcy51cGRhdGVGaWx0ZXIoZmlsdGVyU3RyaW5nLCBuZXdQcm9wcyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2VhcmNoU3RyaW5nOiBmaWx0ZXJTdHJpbmcsXG4gICAgICAgICAgICBvcHRpb25zOiBuZXdQcm9wcy5vcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjaGFuZ2VTZWFyY2hTdHJpbmcoZXZlbnQgOiBSZWFjdC5FdmVudEhhbmRsZXI8UmVhY3QuRm9ybUV2ZW50Pikge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzZWFyY2hTdHJpbmc6IGV2ZW50LnRhcmdldC52YWx1ZSwgc2hvd2luZ0Ryb3BEb3duOiB0cnVlfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaWx0ZXIodGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmcsIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTZWFyY2hTdHJpbmcodGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlU2VhcmNoU3RyaW5nKHM6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51cGRhdGVTZWFyY2hTdHJpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlU2VhcmNoU3RyaW5nKHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUZpbHRlcihmaWx0ZXI6IHN0cmluZywgcHJvcHM6IENvbWJvRHJvcGRvd25Qcm9wcykge1xuXG4gICAgICAgIGxldCBmaWx0ZXJlZCA6IGFueVtdID0gW107XG5cbiAgICAgICAgaWYgKGZpbHRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBsdW5yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkKCdrZXknLCB7IGJvb3N0OiAxMCB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9wcy5vcHRpb25zLmZvckVhY2goKG9wdCwgaSkgPT4gaWR4LmFkZChPYmplY3QuYXNzaWduKHt9LCBvcHQsIHsgaWQ6IGl9KSkpO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpZHguc2VhcmNoKGZpbHRlcik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWQucHVzaChwcm9wcy5vcHRpb25zW3Jlc3VsdFtpXS5yZWZdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbHRlcmVkID0gcHJvcHMub3B0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyb3BEb3duQm94RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZUhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZURyb3Bkb3duSGVpZ2h0KHRoaXMuZHJvcERvd25Cb3hFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZmlsdGVyZWRPcHRpb25zOiBmaWx0ZXJlZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTmV3QWN0aW9uKG9wdGlvbjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMucHJvcHMuY3JlYXRlTmV3VmFsdWUob3B0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2VsZWN0T3B0aW9uKG9wdGlvbjogQ29tYm9Ecm9wZG93bk9wdGlvbikge1xuICAgICAgICB0aGlzLnByb3BzLnNldFZhbHVlKG9wdGlvbik7XG4gICAgICAgIHRoaXMuaWdub3JlQmx1ciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlY2FsY3VsYXRlSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dpbmdEcm9wRG93bjogZmFsc2UsIHNlYXJjaFN0cmluZzogb3B0aW9uLmtleSB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVTZWFyY2hTdHJpbmcob3B0aW9uLmtleSk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZUlucHV0Qmx1cigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlnbm9yZUJsdXIpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoU3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VhcmNoU3RyaW5nOiAnJyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgIGlmIChmaW5kSW5kZXgodGhpcy5wcm9wcy5vcHRpb25zLCAob3B0aW9uKSA9PiBvcHRpb24ua2V5ID09PSB0aGlzLnN0YXRlLnNlYXJjaFN0cmluZykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hTdHJpbmc6IHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwgPyAnJyA6IHRoaXMucHJvcHMudmFsdWUua2V5IH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsdGVyKHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwgPyAnJyA6IHRoaXMucHJvcHMudmFsdWUua2V5LCB0aGlzLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZUhlaWdodCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzaG93aW5nRHJvcERvd246IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlSW5wdXRGb2N1cyAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJsdXIpIHtcbiAgICAgICAgdGhpcy5pZ25vcmVCbHVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgYHNlbGVjdEl0ZW1Gcm9tTW91c2VgIHRvIHRyaWdnZXIgd2hlblxuICAgICAgICAvLyB0aGUgdXNlciBjbGlja3MgaW50byB0aGUgaW5wdXQgdG8gZm9jdXMgaXQsIHNvIHNldCB0aGlzXG4gICAgICAgIC8vIGZsYWcgdG8gY2FuY2VsIG91dCB0aGUgbG9naWMgaW4gYGhhbmRsZUlucHV0Q2xpY2tgLlxuICAgICAgICAvLyBUaGUgZXZlbnQgb3JkZXIgaXM6ICBNb3VzZURvd24gLT4gRm9jdXMgLT4gTW91c2VVcCAtPiBDbGlja1xuICAgICAgICB0aGlzLmlnbm9yZUNsaWNrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dpbmdEcm9wRG93bjogdHJ1ZSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVJbnB1dENsaWNrICgpIHtcbiAgICAvLyBJbnB1dCB3aWxsIG5vdCBiZSBmb2N1c2VkIGlmIGl0J3MgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5pc0lucHV0Rm9jdXNlZCgpICYmIHRoaXMuc3RhdGUuc2hvd2luZ0Ryb3BEb3duID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd2luZ0Ryb3BEb3duOiB0cnVlIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgIGlmICh0aGlzLnN0YXRlLmhpZ2hsaWdodGVkSW5kZXggIT09IG51bGwgJiYgIXRoaXMuaWdub3JlQ2xpY2spIHtcbiAgICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW1Gcm9tTW91c2UodGhpcy5zdGF0ZS5maWx0ZXJlZE9wdGlvbnNbdGhpcy5zdGF0ZS5oaWdobGlnaHRlZEluZGV4XSk7XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgIHRoaXMuaWdub3JlQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2VsZWN0SXRlbUZyb21Nb3VzZSAoaXRlbSkge1xuICAgICAgIHRoaXMucmVjYWxjdWxhdGVIZWlnaHQgPSB0cnVlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd2luZ0Ryb3BEb3duOiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodGVkSW5kZXg6IG51bGxcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNldFZhbHVlKGl0ZW0pO1xuICAgICAgdGhpcy5yZWZzLmNvbWJvRHJvcERvd25JbnB1dEJveC5mb2N1cygpO1xuICAgIH0pXG4gIH1cblxuICAgcHVibGljIGlzSW5wdXRGb2N1c2VkICgpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMucmVmcy5jb21ib0Ryb3BEb3duSW5wdXRCb3g7XG4gICAgcmV0dXJuIGVsLm93bmVyRG9jdW1lbnQgJiYgKGVsID09PSBlbC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICB9XG5cbiAgcHVibGljIGNsZWFyU2VhcmNoQm94KCkge1xuICAgICAgdGhpcy5wcm9wcy5zZXRWYWx1ZShudWxsKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hTdHJpbmc6ICcnIH0pO1xuICAgICAgdGhpcy5yZWZzLmNvbWJvRHJvcERvd25JbnB1dEJveC5mb2N1cygpO1xuICB9XG5cbiAgcHVibGljIGNhbGN1bGF0ZURyb3Bkb3duSGVpZ2h0KHZhbDogbnVsbCB8IEhUTUxFbGVtZW50KSB7XG5cbiAgICB0aGlzLmRyb3BEb3duQm94RWxlbWVudCA9IHZhbDtcblxuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCAhdGhpcy5yZWNhbGN1bGF0ZUhlaWdodCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGRyb3BEb3duSGVpZ2h0OiB3aW5kb3cuZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSB2YWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMzJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlSGVpZ2h0ID0gZmFsc2U7XG4gICAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCkge1xuXG4gICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29tcGFjdCA/ICdjb21wYWN0IGNvbWJvLWRyb3Bkb3duJyA6ICdjb21iby1kcm9wZG93bid9PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSdjb21ib0Ryb3BEb3duSW5wdXRCb3gnXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaFN0cmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdDbGljayBoZXJlIGFuZCBzdGFydCB0eXBpbmcuLidcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17dGhpcy5oYW5kbGVJbnB1dEJsdXIuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMuaGFuZGxlSW5wdXRGb2N1cy5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlU2VhcmNoU3RyaW5nLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUlucHV0Q2xpY2suYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2VhcmNoU3RyaW5nLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXRpbWVzIGNsZWFyLWJ1dHRvbicgb25DbGljaz17dGhpcy5jbGVhclNlYXJjaEJveC5iaW5kKHRoaXMpfT48L2k+XG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3dpbmdEcm9wRG93biA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Ryb3Bkb3duJ1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3ttYXhIZWlnaHQ6IHRoaXMuc3RhdGUuZHJvcERvd25IZWlnaHQsIG92ZXJmbG93WTogJ2F1dG8nfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5jYWxjdWxhdGVEcm9wZG93bkhlaWdodC5iaW5kKHRoaXMpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmcubGVuZ3RoID09PSAwICYmIHRoaXMucHJvcHMuYWxsb3dOZXcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9J2FkZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249eygpID0+IHRoaXMuaWdub3JlQmx1ciA9IHRydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZE5ld0FjdGlvbignJyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1wbHVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIG5ldyB7dGhpcy5wcm9wcy50eXBlTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5maWx0ZXJlZE9wdGlvbnMubWFwKChvcHQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17YG9wdC0ke29wdC5rZXl9LSR7aX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KCkgPT4gdGhpcy5pZ25vcmVCbHVyID0gdHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zZWxlY3RPcHRpb24ob3B0KX0+e29wdC5rZXl9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmcubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLmFsbG93TmV3ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdhZGQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duPXsoKSA9PiB0aGlzLmlnbm9yZUJsdXIgPSB0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZE5ld0FjdGlvbih0aGlzLnN0YXRlLnNlYXJjaFN0cmluZyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1wbHVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIG5ldyB7dGhpcy5wcm9wcy50eXBlTmFtZX06ICd7dGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmd9JzwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGwgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9Db21ib0Ryb3Bkb3duLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 19 */
/***/ function(module, exports) {

	eval("module.exports = require(\"lunr\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsdW5yXCI/Y2UyYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImx1bnJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJsdW5yXCJcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 20 */
/***/ function(module, exports) {

	eval("module.exports = require(\"lodash\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsb2Rhc2hcIj8wYzhiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibG9kYXNoXCJcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst signals = __webpack_require__(22);\r\nexports.createTab = new signals.Signal();\r\nexports.closeTab = new signals.Signal();\r\nexports.showModal = new signals.Signal();\r\nexports.triggerReload = new signals.Signal();\r\nexports.showToast = new signals.Signal();\r\nexports.reorderTabs = new signals.Signal();\r\nexports.Signaller = {\r\n    createTab: exports.createTab,\r\n    closeTab: exports.closeTab,\r\n    showModal: exports.showModal,\r\n    triggerReload: exports.triggerReload,\r\n    showToast: exports.showToast,\r\n    reorderTabs: exports.reorderTabs\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1NpZ25hbGxlci50cz83OWRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxPQUFPLHVCQUFNLEVBQVMsQ0FBQztBQUV0QixpQkFBUyxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2pDLGdCQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsaUJBQVMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNqQyxxQkFBYSxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3JDLGlCQUFTLEdBQUksSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbEMsbUJBQVcsR0FBSSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUVwQyxpQkFBUyxHQUFHO0lBQ3JCLDRCQUFTO0lBQ1QsMEJBQVE7SUFDUiw0QkFBUztJQUNULG9DQUFhO0lBQ2IsNEJBQVM7SUFDVCxnQ0FBVztDQUNkLENBQUMiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBzaWduYWxzIGZyb20gJ3NpZ25hbHMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVGFiID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5leHBvcnQgY29uc3QgY2xvc2VUYWIgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbmV4cG9ydCBjb25zdCBzaG93TW9kYWwgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbmV4cG9ydCBjb25zdCB0cmlnZ2VyUmVsb2FkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5leHBvcnQgY29uc3Qgc2hvd1RvYXN0ICA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuZXhwb3J0IGNvbnN0IHJlb3JkZXJUYWJzICA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG5leHBvcnQgY29uc3QgU2lnbmFsbGVyID0ge1xuICAgIGNyZWF0ZVRhYixcbiAgICBjbG9zZVRhYixcbiAgICBzaG93TW9kYWwsXG4gICAgdHJpZ2dlclJlbG9hZCxcbiAgICBzaG93VG9hc3QsXG4gICAgcmVvcmRlclRhYnNcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL1NpZ25hbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 22 */
/***/ function(module, exports) {

	eval("module.exports = require(\"signals\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzaWduYWxzXCI/MmU5YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInNpZ25hbHNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJzaWduYWxzXCJcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 23 */
/***/ function(module, exports) {

	eval("module.exports = require(\"react-sortable-hoc\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1zb3J0YWJsZS1ob2NcIj8wYzIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3Qtc29ydGFibGUtaG9jXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3Qtc29ydGFibGUtaG9jXCJcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Loading_1 = __webpack_require__(25);\r\nconst workspace_1 = __webpack_require__(26);\r\nclass Workspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchString: ''\r\n        };\r\n    }\r\n    render() {\r\n        if (this.props.loading) {\r\n            return (React.createElement(Loading_1.Loading, null));\r\n        }\r\n        if (this.props.list) {\r\n            return (React.createElement(workspace_1.ObjectListWorkspace, {api: this.props.api, name: this.props.name, query: this.props.location.query, listType: this.props.workspace, dataStore: this.props.dataStore}));\r\n        }\r\n        let workspaceComponent = workspace_1.EmptyWorkspace;\r\n        switch (this.props.workspace) {\r\n            case 'entity':\r\n                workspaceComponent = workspace_1.EntityEditorWorkspace;\r\n                break;\r\n            case 'predicate':\r\n                workspaceComponent = workspace_1.PredicateEditorWorkspace;\r\n                break;\r\n            case 'source':\r\n                workspaceComponent = workspace_1.SourceEditorWorkspace;\r\n                break;\r\n            case 'entity_type':\r\n                workspaceComponent = workspace_1.EntityTypeWorkspace;\r\n                break;\r\n            case 'search':\r\n                workspaceComponent = workspace_1.AdvancedSearchWorkspace;\r\n                break;\r\n        }\r\n        return (React.createElement(\"div\", {className: 'flex-fill workspace-outer-wrapper'}, \r\n            React.createElement(\"div\", {className: 'workspace-inner-wrapper flex-fill'}, React.createElement(workspaceComponent, { api: this.props.api, dataStore: this.props.dataStore, id: this.props.id }))\r\n        ));\r\n    }\r\n}\r\nexports.Workspace = Workspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvV29ya3NwYWNlLnRzeD8xNzEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUcvQixzQ0FBd0IsRUFBVyxDQUFDO0FBRXBDLHdDQU8rQixFQUF1QixDQUFDO0FBZ0J2RCx3QkFBK0IsS0FBSyxDQUFDLFNBQVM7SUFFMUM7UUFDSSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsWUFBWSxFQUFFLEVBQUU7U0FDbkIsQ0FBQztJQUNOLENBQUM7SUFFTSxNQUFNO1FBRVQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxDQUFDLG9CQUFDLGlCQUFPLE9BQUcsQ0FBQyxDQUFDO1FBQ3pCLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbEIsTUFBTSxDQUFDLENBQUMsb0JBQUMsK0JBQW1CLEdBQ3hCLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUksRUFDcEIsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSyxFQUN0QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBTSxFQUNqQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFVLEVBQy9CLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVUsRUFBRyxDQUFDLENBQUM7UUFDN0MsQ0FBQztRQUVELElBQUksa0JBQWtCLEdBQVMsMEJBQWMsQ0FBQztRQUU5QyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsS0FBSyxRQUFRO2dCQUNULGtCQUFrQixHQUFHLGlDQUFxQixDQUFDO2dCQUMzQyxLQUFLLENBQUM7WUFDVixLQUFLLFdBQVc7Z0JBQ1osa0JBQWtCLEdBQUcsb0NBQXdCLENBQUM7Z0JBQzlDLEtBQUssQ0FBQztZQUNWLEtBQUssUUFBUTtnQkFDVCxrQkFBa0IsR0FBRyxpQ0FBcUIsQ0FBQztnQkFDM0MsS0FBSyxDQUFDO1lBQ1YsS0FBSyxhQUFhO2dCQUNkLGtCQUFrQixHQUFHLCtCQUFtQixDQUFDO2dCQUN6QyxLQUFLLENBQUM7WUFDVixLQUFLLFFBQVE7Z0JBQ1Qsa0JBQWtCLEdBQUcsbUNBQXVCLENBQUM7Z0JBQzdDLEtBQUssQ0FBQztRQUNkLENBQUM7UUFFRCxNQUFNLENBQUMsQ0FDSCxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLG1DQUFtQztZQUM5QyxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLG1DQUFtQyxHQUM3QyxLQUFLLENBQUMsYUFBYSxDQUFDLGtCQUFrQixFQUFFLEVBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxFQUFFLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUMsQ0FBRSxDQUNqSDtTQUNKLENBQ1QsQ0FBQztJQUdOLENBQUM7QUFDTCxDQUFDO0FBdERZLGlCQUFTLFlBc0RyQiIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBMb2FkaW5nIH0gZnJvbSAnLi9Mb2FkaW5nJztcblxuaW1wb3J0IHtcbiAgICBFbXB0eVdvcmtzcGFjZSxcbiAgICBTb3VyY2VFZGl0b3JXb3Jrc3BhY2UsXG4gICAgRW50aXR5RWRpdG9yV29ya3NwYWNlLFxuICAgIEVudGl0eVR5cGVXb3Jrc3BhY2UsXG4gICAgUHJlZGljYXRlRWRpdG9yV29ya3NwYWNlLFxuICAgIEFkdmFuY2VkU2VhcmNoV29ya3NwYWNlLFxuICAgIE9iamVjdExpc3RXb3Jrc3BhY2UgfSBmcm9tICcuL3dvcmtzcGFjZS93b3Jrc3BhY2UnO1xuXG5pbnRlcmZhY2UgV29ya3NwYWNlUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICB3b3Jrc3BhY2U6IHN0cmluZztcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgbGlzdDogYm9vbGVhbjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBsb2FkaW5nOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgV29ya3NwYWNlU3RhdGUge1xuICAgIHNlYXJjaFN0cmluZzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgV29ya3NwYWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFdvcmtzcGFjZVByb3BzLCBXb3Jrc3BhY2VTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmc6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gKDxMb2FkaW5nIC8+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxpc3QpIHtcbiAgICAgICAgICAgIHJldHVybiAoPE9iamVjdExpc3RXb3Jrc3BhY2VcbiAgICAgICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICBxdWVyeT17dGhpcy5wcm9wcy5sb2NhdGlvbi5xdWVyeX1cbiAgICAgICAgICAgICAgICBsaXN0VHlwZT17dGhpcy5wcm9wcy53b3Jrc3BhY2V9XG4gICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX0gLz4pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHdvcmtzcGFjZUNvbXBvbmVudCA6IGFueSA9IEVtcHR5V29ya3NwYWNlO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy53b3Jrc3BhY2UpIHtcbiAgICAgICAgICAgIGNhc2UgJ2VudGl0eSc6XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlQ29tcG9uZW50ID0gRW50aXR5RWRpdG9yV29ya3NwYWNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHJlZGljYXRlJzpcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VDb21wb25lbnQgPSBQcmVkaWNhdGVFZGl0b3JXb3Jrc3BhY2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICAgICAgICAgIHdvcmtzcGFjZUNvbXBvbmVudCA9IFNvdXJjZUVkaXRvcldvcmtzcGFjZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VudGl0eV90eXBlJzpcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VDb21wb25lbnQgPSBFbnRpdHlUeXBlV29ya3NwYWNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2VhcmNoJzpcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2VDb21wb25lbnQgPSBBZHZhbmNlZFNlYXJjaFdvcmtzcGFjZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1maWxsIHdvcmtzcGFjZS1vdXRlci13cmFwcGVyJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd29ya3NwYWNlLWlubmVyLXdyYXBwZXIgZmxleC1maWxsJz5cbiAgICAgICAgICAgICAgICAgICAge1JlYWN0LmNyZWF0ZUVsZW1lbnQod29ya3NwYWNlQ29tcG9uZW50LCB7YXBpOiB0aGlzLnByb3BzLmFwaSwgZGF0YVN0b3JlOiB0aGlzLnByb3BzLmRhdGFTdG9yZSwgaWQ6dGhpcy5wcm9wcy5pZH0pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cblxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9Xb3Jrc3BhY2UudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.Loading = (props) => {\r\n    return (React.createElement(\"div\", {className: 'loader-wrapper'}, \r\n        React.createElement(\"div\", {className: 'loader'})\r\n    ));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvTG9hZGluZy50c3g/MWJmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFLbEIsZUFBTyxHQUNkLENBQUMsS0FBbUI7SUFFdEIsTUFBTSxDQUFDLENBQ1AscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxnQkFBZ0I7UUFDM0IscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxRQUFRLEVBQU87S0FDNUIsQ0FBQyxDQUFDO0FBQ1osQ0FBQyxDQUFDIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFNpZGViYXIgZm9yIGVkaXRvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgTG9hZGluZ1Byb3BzIHtcbn1cblxuZXhwb3J0IGNvbnN0IExvYWRpbmcgOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8TG9hZGluZ1Byb3BzPlxuICAgID0gKHByb3BzOiBMb2FkaW5nUHJvcHMpID0+IHtcblxuICAgIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2xvYWRlci13cmFwcGVyJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2xvYWRlcic+PC9kaXY+XG4gICAgPC9kaXY+KTtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL0xvYWRpbmcudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Unified export of workspaces\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\" />Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nvar EmptyWorkspace_1 = __webpack_require__(27);\r\nexports.EmptyWorkspace = EmptyWorkspace_1.EmptyWorkspace;\r\nvar EntityEditorWorkspace_1 = __webpack_require__(28);\r\nexports.EntityEditorWorkspace = EntityEditorWorkspace_1.EntityEditorWorkspace;\r\nvar EntityTypeWorkspace_1 = __webpack_require__(49);\r\nexports.EntityTypeWorkspace = EntityTypeWorkspace_1.EntityTypeWorkspace;\r\nvar SourceEditorWorkspace_1 = __webpack_require__(53);\r\nexports.SourceEditorWorkspace = SourceEditorWorkspace_1.SourceEditorWorkspace;\r\nvar PredicateEditorWorkspace_1 = __webpack_require__(54);\r\nexports.PredicateEditorWorkspace = PredicateEditorWorkspace_1.PredicateEditorWorkspace;\r\nvar AdvancedSearchWorkspace_1 = __webpack_require__(57);\r\nexports.AdvancedSearchWorkspace = AdvancedSearchWorkspace_1.AdvancedSearchWorkspace;\r\nvar ObjectListWorkspace_1 = __webpack_require__(58);\r\nexports.ObjectListWorkspace = ObjectListWorkspace_1.ObjectListWorkspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL3dvcmtzcGFjZS50cz9jYWRjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsMkNBQStCLEVBQWtCLENBQUM7QUFBekMseURBQXlDO0FBQ2xELGtEQUFzQyxFQUF5QixDQUFDO0FBQXZELDhFQUF1RDtBQUNoRSxnREFBb0MsRUFBdUIsQ0FBQztBQUFuRCx3RUFBbUQ7QUFDNUQsa0RBQXNDLEVBQXlCLENBQUM7QUFBdkQsOEVBQXVEO0FBQ2hFLHFEQUF5QyxFQUE0QixDQUFDO0FBQTdELHVGQUE2RDtBQUN0RSxvREFBd0MsRUFBMkIsQ0FBQztBQUEzRCxvRkFBMkQ7QUFDcEUsZ0RBQW9DLEVBQXVCLENBQUM7QUFBbkQsd0VBQW1EIiwiZmlsZSI6IjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFVuaWZpZWQgZXhwb3J0IG9mIHdvcmtzcGFjZXNcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCIgLz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuZXhwb3J0IHsgRW1wdHlXb3Jrc3BhY2UgfSBmcm9tICcuL0VtcHR5V29ya3NwYWNlJztcbmV4cG9ydCB7IEVudGl0eUVkaXRvcldvcmtzcGFjZSB9IGZyb20gJy4vRW50aXR5RWRpdG9yV29ya3NwYWNlJztcbmV4cG9ydCB7IEVudGl0eVR5cGVXb3Jrc3BhY2UgfSBmcm9tICcuL0VudGl0eVR5cGVXb3Jrc3BhY2UnO1xuZXhwb3J0IHsgU291cmNlRWRpdG9yV29ya3NwYWNlIH0gZnJvbSAnLi9Tb3VyY2VFZGl0b3JXb3Jrc3BhY2UnO1xuZXhwb3J0IHsgUHJlZGljYXRlRWRpdG9yV29ya3NwYWNlIH0gZnJvbSAnLi9QcmVkaWNhdGVFZGl0b3JXb3Jrc3BhY2UnO1xuZXhwb3J0IHsgQWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2UgfSBmcm9tICcuL0FkdmFuY2VkU2VhcmNoV29ya3NwYWNlJztcbmV4cG9ydCB7IE9iamVjdExpc3RXb3Jrc3BhY2UgfSBmcm9tICcuL09iamVjdExpc3RXb3Jrc3BhY2UnO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy93b3Jrc3BhY2Uvd29ya3NwYWNlLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.EmptyWorkspace = () => (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n    React.createElement(\"h2\", null, \"There is nothing here\")\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0VtcHR5V29ya3NwYWNlLnRzeD9iMDg5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUVsQixzQkFBYyxHQUFHLE1BQU0sQ0FDaEMscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxrQkFBa0I7SUFDN0IscUJBQUMsRUFBRSxTQUFDLHVCQUFxQixDQUFLO0NBQzVCLENBQ1QsQ0FBQyIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBFbXB0eSB3b3Jrc3BhY2UgZm9yIHdoZW4gbm90aGluZyBpcyBvcGVuIVxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgRW1wdHlXb3Jrc3BhY2UgPSAoKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3dvcmtzcGFjZS1lZGl0b3InPlxuICAgICAgICA8aDI+VGhlcmUgaXMgbm90aGluZyBoZXJlPC9oMj5cbiAgICA8L2Rpdj5cbik7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL3dvcmtzcGFjZS9FbXB0eVdvcmtzcGFjZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst findParentTree_1 = __webpack_require__(30);\r\nconst EditableHeader_1 = __webpack_require__(31);\r\nconst EntityWorkspaceCoreView_1 = __webpack_require__(33);\r\nconst EntityWorkspaceReferenceView_1 = __webpack_require__(48);\r\nclass StringEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\nclass ComboEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nclass EntityEditorWorkspace extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: 'test', value: '' },\r\n            comboSearchValue: '',\r\n            tab: 0\r\n        };\r\n    }\r\n    del() {\r\n        this.props.api.delItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id)\r\n            .then(() => {\r\n            Signaller_1.closeTab.dispatch('entity', this.props.id);\r\n            this.context.router.transitionTo('/edit/notfound');\r\n        })\r\n            .catch((e) => {\r\n            e.data.data.then((data) => {\r\n                const conflictResolutionModal = {\r\n                    name: 'conflict_resolution',\r\n                    cancel: () => { },\r\n                    complete: (result) => {\r\n                        if (result === 'addToWorkspace') {\r\n                            data.record.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('entity', datum.entity, 'item');\r\n                            });\r\n                            data.entity.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('entity', datum.uid, 'item');\r\n                            });\r\n                        }\r\n                        if (result === 'deleteAll') {\r\n                            Promise.all(data.record.map((datum) => this.props.api.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, datum.uid)))\r\n                                .then(() => {\r\n                                this.del();\r\n                            });\r\n                        }\r\n                    },\r\n                    settings: {\r\n                        conflictingItems: data,\r\n                        message: 'Deleting Entity'\r\n                    }\r\n                };\r\n                Signaller_1.showModal.dispatch(conflictResolutionModal);\r\n            });\r\n        });\r\n    }\r\n    createNewRecord() {\r\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\r\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const modalDef = {\r\n            name: 'record',\r\n            complete: (data) => {\r\n                console.log('Records editor called complete');\r\n                //this.loadData(this.props);\r\n            },\r\n            cancel: () => {\r\n                console.log('Records editor called cancel');\r\n            },\r\n            settings: {\r\n                options: predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred })),\r\n                entityUid: this.props.id,\r\n                entityType: entityType.uid\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(modalDef);\r\n    }\r\n    update(data) {\r\n        this.props.api.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    render() {\r\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\r\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const potentialParents = this.props.dataStore.all.entity.value;\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const sources = this.props.dataStore.all.source.value;\r\n        const records = lodash_1.groupBy(this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.records, 'predicate');\r\n        const options = predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred }));\r\n        let parentName = '';\r\n        if (potentialParents !== null && entity.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entity.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header entity'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-cube item-icon'}), \r\n                        React.createElement(StringEditableFieldComponent, {value: entity.label, component: EditableHeader_1.EditableHeader, onChange: (value) => this.update({ 'label': value })})), \r\n                    React.createElement(\"div\", {className: 'sub-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this)}), \r\n                        React.createElement(\"i\", {className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: () => console.log('copy')}))), \r\n                React.createElement(\"div\", {className: 'secondary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'tab-bar'}, \r\n                        React.createElement(\"div\", {className: 'entity ' + (this.state.tab === 0 ? 'selected' : ''), onClick: () => this.setState({ tab: 0 })}, \"CORE\"), \r\n                        React.createElement(\"div\", {className: 'entity ' + (this.state.tab === 1 ? 'selected' : ''), onClick: () => this.setState({ tab: 1 })}, \"REFERENCED BY\"))\r\n                )), \r\n            this.state.tab === 0 ? (React.createElement(EntityWorkspaceCoreView_1.EntityWorkspaceCoreView, {dataStore: this.props.dataStore, api: this.props.api, id: this.props.id})) : (React.createElement(EntityWorkspaceReferenceView_1.EntityWorkspaceReferenceView, {dataStore: this.props.dataStore, api: this.props.api, id: this.props.id}))));\r\n    }\r\n}\r\nEntityEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityEditorWorkspace = EntityEditorWorkspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0VudGl0eUVkaXRvcldvcmtzcGFjZS50c3g/ODM3MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFHL0IseUNBQW9DLENBQWtCLENBQUM7QUFFdkQsMENBQStCLEVBQWEsQ0FBQztBQUs3QyxxQ0FBb0MsRUFBUSxDQUFDO0FBRTdDLHdDQUErQyxFQUFpQixDQUFDO0FBR2pFLDZDQUErQixFQUE2QixDQUFDO0FBRzdELDZDQUF1RCxFQUEwQixDQUFDO0FBS2xGLHNEQUF3QyxFQUFrQyxDQUFDO0FBQzNFLDJEQUE2QyxFQUF1QyxDQUFDO0FBRXJGLDJDQUEyQyx1Q0FBc0I7QUFBVSxDQUFDO0FBQzVFLDBDQUEwQyx1Q0FBc0I7QUFBdUIsQ0FBQztBQVl4RixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLG9DQUFvQztBQUNwQyxVQUFVO0FBQ1YsMkNBQTJDO0FBQzNDLG9CQUFvQjtBQUNwQix5REFBeUQ7QUFDekQsa0dBQWtHO0FBQ2xHLGdHQUFnRztBQUNoRyxvR0FBb0c7QUFDcEcsa0RBQWtEO0FBQ2xELGtCQUFrQjtBQUNsQiwwQ0FBMEM7QUFDMUMsb0NBQTJDLEtBQUssQ0FBQyxTQUFTO0lBTXRELFlBQVksS0FBeUIsRUFBRSxPQUFZO1FBQy9DLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUM7WUFDckMsZ0JBQWdCLEVBQUUsRUFBRTtZQUNwQixHQUFHLEVBQUUsQ0FBQztTQUNULENBQUM7SUFDTixDQUFDO0lBRU0sR0FBRztRQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FB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RSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRyxFQUNqQixDQUNELENBRUEsQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUFuS2lCLGtDQUFZLEdBQUc7SUFDekIsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7Q0FDNUMsQ0FBQztBQUpPLDZCQUFxQix3QkFxS2pDIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IEVtcHR5IHdvcmtzcGFjZSBmb3Igd2hlbiBub3RoaW5nIGlzIG9wZW4hXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFJlY29yZHNFZGl0b3IgfSBmcm9tICcuLi9lbnRpdHlfZWRpdG9yL1JlY29yZHNFZGl0b3InO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuXG5pbXBvcnQgeyBFbnRpdHksIFJlY29yZCB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuaW1wb3J0IHsgQ29tYm9Ecm9wZG93biwgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuaW1wb3J0IHsgTW9kYWxEZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kYWwvTW9kYWxEZWZpbml0aW9uJztcblxuaW1wb3J0IHsgRGljdGlvbmFyeSwgZ3JvdXBCeSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IHNob3dNb2RhbCwgY3JlYXRlVGFiLCBjbG9zZVRhYiB9IGZyb20gJy4uLy4uL1NpZ25hbGxlcic7XG5pbXBvcnQgeyBBZGRUYWJCdXR0b24gfSBmcm9tICcuLi9BZGRUYWJCdXR0b24nO1xuXG5pbXBvcnQgeyBmaW5kUGFyZW50VHJlZSB9IGZyb20gJy4uLy4uL2hlbHBlci9maW5kUGFyZW50VHJlZSc7XG5cblxuaW1wb3J0IHsgRWRpdGFibGVIZWFkZXIsIEVkaXRhYmxlRmllbGRDb21wb25lbnQgfSBmcm9tICcuLi9maWVsZHMvRWRpdGFibGVIZWFkZXInO1xuaW1wb3J0IHsgRWRpdGFibGVDb21ib0Ryb3Bkb3duIH0gZnJvbSAnLi4vZmllbGRzL0VkaXRhYmxlQ29tYm9Ecm9wZG93bic7XG5cbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5cbmltcG9ydCB7IEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3IH0gZnJvbSAnLi9lbnRpdHkvRW50aXR5V29ya3NwYWNlQ29yZVZpZXcnO1xuaW1wb3J0IHsgRW50aXR5V29ya3NwYWNlUmVmZXJlbmNlVmlldyB9IGZyb20gJy4vZW50aXR5L0VudGl0eVdvcmtzcGFjZVJlZmVyZW5jZVZpZXcnO1xuXG5jbGFzcyBTdHJpbmdFZGl0YWJsZUZpZWxkQ29tcG9uZW50IGV4dGVuZHMgRWRpdGFibGVGaWVsZENvbXBvbmVudDxzdHJpbmc+IHt9XG5jbGFzcyBDb21ib0VkaXRhYmxlRmllbGRDb21wb25lbnQgZXh0ZW5kcyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50PENvbWJvRHJvcGRvd25PcHRpb24+IHt9XG5cbmludGVyZmFjZSBFbnRpdHlFZGl0b3JQcm9wcyB7XG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xuICAgIGlkOiBudW1iZXI7XG4gICAgZGF0YVN0b3JlOiBEYXRhU3RvcmU7XG59XG5cbmludGVyZmFjZSBFbnRpdHlFZGl0b3JTdGF0ZSB7XG4gICAgdGFiOiBudW1iZXI7XG59XG5cbi8vIFdoYXQgY2FuIEkgZG8/XG4vLyBFbnRpdHkgT3BlcmF0aW9uc1xuLy8gLSBEZWxldGUgdGhlIGVudGl0eVxuLy8gLSBNZXJnZSB0aGUgZW50aXR5XG4vLyAtIFNwbGl0IHRoZSBlbnRpdHlcbi8vIC0gQWRkICdzYW1lLWFzLXNlcycgdG8gdGhlIGVudGl0eVxuLy8gUmVjb3Jkc1xuLy8gLSBPcmRlciByZWNvcmRzIGJ5IHR5cGUsIHNvdXJjZSBhbmQgZGF0ZVxuLy8gLSBBZGQgbmV3IHJlY29yZHNcbi8vIC0gQWRkaW5nIGEgbmV3IHByZWRpY2F0ZSBjcmVhdGVzIGEgbmV3IHJlY29yZCB3aXRoIHRoZVxuLy8gICBlbnRpdHkgc2V0LCB0aGUgcHJlZGljYXRlIHNldCwgdGhlIHNjb3JlIHNldCB0byAzLCB0aGUgcGVyaW9kIHNldCB0byBudWxsLCBzb3VyY2Ugc2V0IHRvIG51bGxcbi8vICAgaXQgYWxzbyBjcmVhdGVzIGEgYmxhbmsgZW50cnkgaW4gdGhlIHJlY29yZHMgc3ViIHRhYmxlIGJhc2VkIG9uIHRoZSByYW5nZSBvZiB0aGUgcHJlZGljYXRlLlxuLy8gLSBOZXcgcHJlZGljYXRlcyBtdXN0IGhhdmUgYSBuYW1lLiBUaGUgZG9tYWluIGlzIHNldCB0byB0aGUgY3VycmVudCBlbnRpdHl0eXBlIGJ1dCBjYW4gYmUgY2hhbmdlZFxuLy8gICB0byBvbmUgb2YgaXRzIHBhcmVudHMuIFRoZSByYW5nZSBNVVNUIGJlIHNldC5cbi8vIFZpc3VhbGlzYXRpb25zOlxuLy8gLSBOZXR3b3JrIGdyYXBoIG9mIGVudGl0eSByZWxhdGlvbnNoaXBzXG5leHBvcnQgY2xhc3MgRW50aXR5RWRpdG9yV29ya3NwYWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEVudGl0eUVkaXRvclByb3BzLCBFbnRpdHlFZGl0b3JTdGF0ZT4ge1xuXG4gICAgcHVibGljIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzIDogRW50aXR5RWRpdG9yUHJvcHMsIGNvbnRleHQ6IGFueSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tYm9WYWx1ZTogeyBrZXk6ICd0ZXN0JywgdmFsdWU6ICcnfSxcbiAgICAgICAgICAgIGNvbWJvU2VhcmNoVmFsdWU6ICcnLFxuICAgICAgICAgICAgdGFiOiAwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGRlbCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkuZGVsSXRlbShFbnRpdHksIEFwcFVybHMuZW50aXR5LCB0aGlzLnByb3BzLmlkKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjbG9zZVRhYi5kaXNwYXRjaCgnZW50aXR5JywgdGhpcy5wcm9wcy5pZCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucm91dGVyLnRyYW5zaXRpb25UbygnL2VkaXQvbm90Zm91bmQnKTtcbiAgICAgICAgfSlcbiAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgZS5kYXRhLmRhdGEudGhlbigoZGF0YSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmxpY3RSZXNvbHV0aW9uTW9kYWwgOiBNb2RhbERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb25mbGljdF9yZXNvbHV0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7fSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09ICdhZGRUb1dvcmtzcGFjZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJlY29yZC5mb3JFYWNoKChkYXR1bSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGFiLmRpc3BhdGNoKCdlbnRpdHknLCBkYXR1bS5lbnRpdHksICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5lbnRpdHkuZm9yRWFjaCgoZGF0dW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYi5kaXNwYXRjaCgnZW50aXR5JywgZGF0dW0udWlkLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnZGVsZXRlQWxsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJlY29yZC5tYXAoKGRhdHVtKSA9PiB0aGlzLnByb3BzLmFwaS5kZWxJdGVtKFJlY29yZCwgQXBwVXJscy5yZWNvcmQsIGRhdHVtLnVpZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nSXRlbXM6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVsZXRpbmcgRW50aXR5J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNob3dNb2RhbC5kaXNwYXRjaChjb25mbGljdFJlc29sdXRpb25Nb2RhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU5ld1JlY29yZCgpIHtcblxuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLmVudGl0eS5nZXQoJ2VudGl0eS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWUuZW50aXR5O1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUuZmluZCgodCkgPT4gdC51aWQgPT09IGVudGl0eS5lbnRpdHlUeXBlKTtcblxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlUGFyZW50cyA9IGZpbmRQYXJlbnRUcmVlKGVudGl0eS5lbnRpdHlUeXBlLCB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUpO1xuICAgICAgICBjb25zdCBwcmVkaWNhdGVzID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLnByZWRpY2F0ZVxuICAgICAgICAgICAgLnZhbHVlLmZpbHRlcigocHJlZCkgPT4gZW50aXR5VHlwZVBhcmVudHMuaW5kZXhPZihwcmVkLmRvbWFpbikgIT09IC0xKTtcblxuICAgICAgICBjb25zdCBtb2RhbERlZjogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3JlY29yZCcsXG4gICAgICAgICAgICBjb21wbGV0ZTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkcyBlZGl0b3IgY2FsbGVkIGNvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmxvYWREYXRhKHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNvcmRzIGVkaXRvciBjYWxsZWQgY2FuY2VsJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBwcmVkaWNhdGVzLm1hcCgocHJlZCkgPT4gKHsga2V5OiBwcmVkLmxhYmVsLCB2YWx1ZTogcHJlZC51aWQsIG1ldGE6IHByZWR9KSksXG4gICAgICAgICAgICAgICAgZW50aXR5VWlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IGVudGl0eVR5cGUudWlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKG1vZGFsRGVmKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLnByb3BzLmFwaS5wYXRjaEl0ZW0oRW50aXR5LCBBcHBVcmxzLmVudGl0eSwgdGhpcy5wcm9wcy5pZCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLmVudGl0eS5nZXQoJ2VudGl0eS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWUuZW50aXR5O1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUuZmluZCgodCkgPT4gdC51aWQgPT09IGVudGl0eS5lbnRpdHlUeXBlKTtcbiAgICAgICAgY29uc3QgcG90ZW50aWFsUGFyZW50cyA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHkudmFsdWU7XG5cbiAgICAgICAgY29uc3QgZW50aXR5VHlwZVBhcmVudHMgPSBmaW5kUGFyZW50VHJlZShlbnRpdHkuZW50aXR5VHlwZSwgdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlKTtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlcyA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5wcmVkaWNhdGVcbiAgICAgICAgICAgIC52YWx1ZS5maWx0ZXIoKHByZWQpID0+IGVudGl0eVR5cGVQYXJlbnRzLmluZGV4T2YocHJlZC5kb21haW4pICE9PSAtMSk7XG5cbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5zb3VyY2UudmFsdWU7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBncm91cEJ5KHRoaXMucHJvcHMuZGF0YVN0b3JlLnRhYnMuZW50aXR5LmdldCgnZW50aXR5LScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZS5yZWNvcmRzLCAncHJlZGljYXRlJyk7XG5cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gcHJlZGljYXRlcy5tYXAoKHByZWQpID0+ICh7IGtleTogcHJlZC5sYWJlbCwgdmFsdWU6IHByZWQudWlkLCBtZXRhOiBwcmVkfSkpO1xuXG4gICAgICAgIGxldCBwYXJlbnROYW1lID0gJyc7XG4gICAgICAgIGlmIChwb3RlbnRpYWxQYXJlbnRzICE9PSBudWxsICYmIGVudGl0eS5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBwb3RlbnRpYWxQYXJlbnRzLmZpbmQoKHBhcikgPT4gcGFyLnVpZCA9PT0gZW50aXR5LnBhcmVudCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudE5hbWUgPSBmb3VuZC5sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd29ya3NwYWNlLWVkaXRvcic+XG4gICAgICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9J2VkaXRvci1oZWFkZXIgZW50aXR5Jz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcmltYXJ5LXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbi10b29sYmFyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtY3ViZSBpdGVtLWljb24nPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdHJpbmdFZGl0YWJsZUZpZWxkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VudGl0eS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e0VkaXRhYmxlSGVhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlKHsgJ2xhYmVsJzogdmFsdWUgfSl9ICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3ViLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLXRyYXNoIGRlbGV0ZSBidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kZWwuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtY2xvbmUgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNvbnNvbGUubG9nKCdjb3B5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NlY29uZGFyeS10b29sYmFyJz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFiLWJhcic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2VudGl0eSAnICsgKHRoaXMuc3RhdGUudGFiID09PSAwID8gJ3NlbGVjdGVkJyA6ICcnKX0gb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHRhYjogMCB9KX0+Q09SRTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydlbnRpdHkgJyArICh0aGlzLnN0YXRlLnRhYiA9PT0gMSA/ICdzZWxlY3RlZCcgOiAnJyl9IG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyB0YWI6IDEgfSl9PlJFRkVSRU5DRUQgQlk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudGFiID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgPEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3XG4gICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8RW50aXR5V29ya3NwYWNlUmVmZXJlbmNlVmlld1xuICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0VudGl0eUVkaXRvcldvcmtzcGFjZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 29 */
/***/ function(module, exports) {

	eval("module.exports = require(\"falcon-core\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmYWxjb24tY29yZVwiPzU1NzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmYWxjb24tY29yZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImZhbGNvbi1jb3JlXCJcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 30 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nexports.findParentTree = (uid, data, ancestors = []) => {\r\n    const current = data.find((datum) => datum.uid === uid);\r\n    if (current === undefined) {\r\n        console.warn('Couldn\\'t find parent');\r\n        return ancestors;\r\n    }\r\n    else {\r\n        if (current.parent === null || current.uid === null) {\r\n            if (current.uid === null) {\r\n                console.warn('Found entity will null uid');\r\n                return ancestors;\r\n            }\r\n            else {\r\n                return ancestors.concat([current.uid]);\r\n            }\r\n        }\r\n        else {\r\n            return exports.findParentTree(current.parent, data, ancestors.concat([current.uid]));\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2hlbHBlci9maW5kUGFyZW50VHJlZS50cz8zMDg3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRVUsc0JBQWMsR0FDdEIsQ0FBQyxHQUFXLEVBQUUsSUFBNkQsRUFBRSxTQUFTLEdBQWMsRUFBRTtJQUN2RyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDeEQsRUFBRSxDQUFDLENBQUMsT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsT0FBTyxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2xELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDdkIsT0FBTyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLENBQUMsU0FBUyxDQUFDO1lBQ3JCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzNDLENBQUM7UUFDTCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLENBQUMsc0JBQWMsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRixDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUMsQ0FBQyIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmV4cG9ydCBjb25zdCBmaW5kUGFyZW50VHJlZSA9XG4gICAgICh1aWQ6IG51bWJlciwgZGF0YTogeyBbJ3BhcmVudCddOiBudW1iZXIgfCBudWxsLCBbJ3VpZCddOiBudW1iZXIgfCBudWxsIH1bXSwgYW5jZXN0b3JzIDogbnVtYmVyW10gPSBbXSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBkYXRhLmZpbmQoKGRhdHVtKSA9PiBkYXR1bS51aWQgPT09IHVpZCk7XG4gICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkblxcJ3QgZmluZCBwYXJlbnQnKTtcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ycztcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudC5wYXJlbnQgPT09IG51bGwgfHwgY3VycmVudC51aWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LnVpZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRm91bmQgZW50aXR5IHdpbGwgbnVsbCB1aWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JzLmNvbmNhdChbY3VycmVudC51aWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kUGFyZW50VHJlZShjdXJyZW50LnBhcmVudCwgZGF0YSwgYW5jZXN0b3JzLmNvbmNhdChbY3VycmVudC51aWRdKSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vaGVscGVyL2ZpbmRQYXJlbnRUcmVlLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nvar EditableFieldComponent_1 = __webpack_require__(32);\r\nexports.EditableFieldComponent = EditableFieldComponent_1.EditableFieldComponent;\r\nexports.EditableHeader = (props) => {\r\n    if (!props.edit || props.value == null) {\r\n        return (React.createElement(\"h2\", null, \r\n            props.value, \r\n            React.createElement(\"sup\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: props.setEdit})\r\n            )));\r\n    }\r\n    else {\r\n        return (React.createElement(\"span\", null, \r\n            React.createElement(\"input\", {type: 'text', value: props.value, className: 'text-edit-header', onChange: (e) => props.onChange(e.target.value)}), \r\n            React.createElement(\"button\", {onClick: props.acceptChanges}, \r\n                React.createElement(\"i\", {className: 'fa fa-check', \"aria-hidden\": 'true'})\r\n            ), \r\n            React.createElement(\"button\", {onClick: props.cancelChanges}, \r\n                React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true'})\r\n            )));\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlSGVhZGVyLnRzeD9iMWYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixtREFBdUMsRUFBMEIsQ0FBQztBQUF6RCxpRkFBeUQ7QUFFckQsc0JBQWMsR0FDckIsQ0FBQyxLQUFvQztJQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxDQUNILHFCQUFDLEVBQUU7WUFDRSxLQUFLLENBQUMsS0FBTTtZQUNiLHFCQUFDLEdBQUc7Z0JBQ0EscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyx1QkFBdUIsRUFDaEMsS0FBSyxFQUFDLE1BQU0sR0FDWixXQUFXLEdBQUMsTUFBTSxFQUNsQixPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQVEsRUFDdkI7YUFDRixDQUNMLENBQ1IsQ0FBQztJQUNOLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLE1BQU0sQ0FBQyxDQUNILHFCQUFDLElBQUk7WUFDRCxxQkFBQyxLQUFLLElBQUMsSUFBSSxFQUFDLE1BQU0sRUFDZCxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQU0sRUFDbkIsU0FBUyxFQUFDLGtCQUFrQixFQUM1QixRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxFQUFHO1lBQ3ZELHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLGFBQWM7Z0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxhQUFhLEdBQUMsV0FBVyxHQUFDLE1BQU0sRUFBSzthQUFTO1lBQ2pHLHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLGFBQWM7Z0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxhQUFhLEdBQUMsV0FBVyxHQUFDLE1BQU0sRUFBSzthQUFTLENBQzlGLENBQ1YsQ0FBQztJQUNOLENBQUM7QUFDVCxDQUFDLENBQUMiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFZGl0YWJsZVN1YmZpZWxkUHJvcHMgfSBmcm9tICcuL0VkaXRhYmxlRmllbGRDb21wb25lbnQnO1xuZXhwb3J0IHsgRWRpdGFibGVGaWVsZENvbXBvbmVudCB9IGZyb20gJy4vRWRpdGFibGVGaWVsZENvbXBvbmVudCc7XG5cbmV4cG9ydCBjb25zdCBFZGl0YWJsZUhlYWRlciA6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxFZGl0YWJsZVN1YmZpZWxkUHJvcHM8c3RyaW5nPj5cbiAgICA9IChwcm9wczogRWRpdGFibGVTdWJmaWVsZFByb3BzPHN0cmluZz4pID0+IHtcbiAgICAgICAgIGlmICghcHJvcHMuZWRpdCB8fCBwcm9wcy52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgICAgICAgICAge3Byb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICA8c3VwPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1wZW5jaWwtc3F1YXJlLW8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0VkaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuc2V0RWRpdH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvc3VwPlxuICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQtZWRpdC1oZWFkZXInXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5hY2NlcHRDaGFuZ2VzfT48aSBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Byb3BzLmNhbmNlbENoYW5nZXN9PjxpIGNsYXNzTmFtZT0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlSGVhZGVyLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 32 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nconst React = __webpack_require__(2);\r\nclass EditableFieldComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            edit: false,\r\n            internalValue: null\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({ internalValue: this.props.value === undefined ? null : this.props.value });\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({ internalValue: newProps.value });\r\n    }\r\n    switchToEditState() {\r\n        this.setState({ edit: true, internalValue: this.props.value });\r\n    }\r\n    setInternalValue(internalValue) {\r\n        this.setState({ internalValue });\r\n    }\r\n    acceptChanges() {\r\n        this.props.onChange(this.state.internalValue);\r\n        this.setState({ edit: false });\r\n    }\r\n    cancelChanges() {\r\n        this.setState({ edit: false, internalValue: this.props.value });\r\n    }\r\n    render() {\r\n        return (React.createElement(this.props.component, __assign({edit: this.state.edit, value: this.state.internalValue, onChange: this.setInternalValue.bind(this), setEdit: this.switchToEditState.bind(this), acceptChanges: this.acceptChanges.bind(this), cancelChanges: this.cancelChanges.bind(this), onDelete: (e) => this.props.onDelete !== undefined ? this.props.onDelete(this.props.value) : null}, this.props.additionalProps)));\r\n    }\r\n}\r\nexports.EditableFieldComponent = EditableFieldComponent;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlRmllbGRDb21wb25lbnQudHN4P2Q1N2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7Ozs7Ozs7OztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUF5Qi9CLHFDQUErQyxLQUFLLENBQUMsU0FBUztJQUUxRDtRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxJQUFJLEVBQUUsS0FBSztZQUNYLGFBQWEsRUFBRSxJQUFJO1NBQ3RCLENBQUM7SUFDTixDQUFDO0lBRU0sa0JBQWtCO1FBQ3JCLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssU0FBUyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7SUFDN0YsQ0FBQztJQUVNLHlCQUF5QixDQUFDLFFBQStCO1FBQzVELElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVNLGlCQUFpQjtRQUNwQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFTSxnQkFBZ0IsQ0FBQyxhQUFnQjtRQUNwQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sYUFBYTtRQUNoQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sYUFBYTtRQUNoQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFTSxNQUFNO1FBQ1YsTUFBTSxDQUFDLENBQUMsb0JBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLFlBQzVCLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUssRUFDdEIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYyxFQUNoQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDM0MsT0FBTyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLEVBQzNDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDN0MsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUM3QyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSyxHQUM5RixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQztBQUNMLENBQUM7QUE5Q1ksOEJBQXNCLHlCQThDbEMiLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdGFibGVTdWJmaWVsZFByb3BzPFQ+IHtcbiAgICBlZGl0OiBib29sZWFuO1xuICAgIHZhbHVlOiBUIHwgbnVsbDtcbiAgICBvbkNoYW5nZTogKHVwZGF0ZWQ6IFQpID0+IHZvaWQ7XG4gICAgc2V0RWRpdDogKCkgPT4gdm9pZDtcbiAgICBhY2NlcHRDaGFuZ2VzOiAoKSA9PiB2b2lkO1xuICAgIGNhbmNlbENoYW5nZXM6ICgpID0+IHZvaWQ7XG4gICAgb25EZWxldGU6IFJlYWN0LkV2ZW50SGFuZGxlcjxSZWFjdC5Gb3JtRXZlbnQ+O1xufVxuXG5pbnRlcmZhY2UgRWRpdGFibGVGaWVsZFByb3BzPFQ+IHtcbiAgICB2YWx1ZTogVDtcbiAgICBvbkNoYW5nZTogKHM6IFQpID0+IHZvaWQ7XG4gICAgb25EZWxldGU/OiAodmFsOiBUKSA9PiB2b2lkO1xuICAgIGNvbXBvbmVudDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PEVkaXRhYmxlU3ViZmllbGRQcm9wczxUPj4gfCBSZWFjdC5Db21wb25lbnQ8RWRpdGFibGVTdWJmaWVsZFByb3BzPFQ+LCBhbnk+O1xuICAgIGFkZGl0aW9uYWxQcm9wcz86IGFueTtcbn1cblxuaW50ZXJmYWNlIEVkaXRhYmxlRmllbGRTdGF0ZTxUPiB7XG4gICAgZWRpdDogYm9vbGVhbjtcbiAgICBpbnRlcm5hbFZhbHVlOiBUIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIEVkaXRhYmxlRmllbGRDb21wb25lbnQ8VD4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RWRpdGFibGVGaWVsZFByb3BzPFQ+LCBFZGl0YWJsZUZpZWxkU3RhdGU8VD4+IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZWRpdDogZmFsc2UsXG4gICAgICAgICAgICBpbnRlcm5hbFZhbHVlOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aW50ZXJuYWxWYWx1ZTogdGhpcy5wcm9wcy52YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMucHJvcHMudmFsdWV9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wczogRWRpdGFibGVGaWVsZFByb3BzPFQ+KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2ludGVybmFsVmFsdWU6IG5ld1Byb3BzLnZhbHVlfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN3aXRjaFRvRWRpdFN0YXRlKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtlZGl0OiB0cnVlLCBpbnRlcm5hbFZhbHVlOiB0aGlzLnByb3BzLnZhbHVlfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEludGVybmFsVmFsdWUoaW50ZXJuYWxWYWx1ZTogVCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW50ZXJuYWxWYWx1ZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWNjZXB0Q2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLmludGVybmFsVmFsdWUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtlZGl0OiBmYWxzZX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtlZGl0OiBmYWxzZSwgaW50ZXJuYWxWYWx1ZTogdGhpcy5wcm9wcy52YWx1ZX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgcmV0dXJuICg8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgZWRpdD17dGhpcy5zdGF0ZS5lZGl0fVxuICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnRlcm5hbFZhbHVlfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5zZXRJbnRlcm5hbFZhbHVlLmJpbmQodGhpcyl9XG4gICAgICAgIHNldEVkaXQ9e3RoaXMuc3dpdGNoVG9FZGl0U3RhdGUuYmluZCh0aGlzKX1cbiAgICAgICAgYWNjZXB0Q2hhbmdlcz17dGhpcy5hY2NlcHRDaGFuZ2VzLmJpbmQodGhpcyl9XG4gICAgICAgIGNhbmNlbENoYW5nZXM9e3RoaXMuY2FuY2VsQ2hhbmdlcy5iaW5kKHRoaXMpfVxuICAgICAgICBvbkRlbGV0ZT17KGUpID0+IHRoaXMucHJvcHMub25EZWxldGUgIT09IHVuZGVmaW5lZCA/IHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy52YWx1ZSkgOiBudWxsfVxuICAgICAgICB7Li4udGhpcy5wcm9wcy5hZGRpdGlvbmFsUHJvcHN9IC8+KTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL2ZpZWxkcy9FZGl0YWJsZUZpZWxkQ29tcG9uZW50LnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 33 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst RecordsEditor_1 = __webpack_require__(34);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst findParentTree_1 = __webpack_require__(30);\r\nconst EditableHeader_1 = __webpack_require__(31);\r\nconst EditableComboDropdown_1 = __webpack_require__(47);\r\nclass StringEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\nclass ComboEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nclass EntityWorkspaceCoreView extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: 'test', value: '' },\r\n            comboSearchValue: ''\r\n        };\r\n    }\r\n    update(data) {\r\n        this.props.api.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    render() {\r\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\r\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const potentialParents = this.props.dataStore.all.entity.value;\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const sources = this.props.dataStore.all.source.value;\r\n        const records = lodash_1.groupBy(this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.records, 'predicate');\r\n        const options = predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred }));\r\n        let parentName = '';\r\n        if (potentialParents !== null && entity.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entity.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"section\", {className: 'editor-body'}, \r\n            React.createElement(\"div\", {className: 'flex-fill'}, \r\n                React.createElement(\"div\", {className: 'flex-fill'}, \r\n                    React.createElement(\"div\", null, \r\n                        React.createElement(\"label\", {className: 'small'}, \"Type\"), \r\n                        entityType.label, \r\n                        \" \", \r\n                        React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: entityType.uid, tabType: 'entity_type'}))\r\n                ), \r\n                React.createElement(\"div\", {style: { flex: 1 }}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Parent\"), \r\n                    React.createElement(ComboEditableFieldComponent, {value: { key: parentName, value: entity.parent }, component: EditableComboDropdown_1.EditableComboDropdown, onChange: (value) => this.update({ 'parent': value.value }), additionalProps: { comboSettings: {\r\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid })),\r\n                            typeName: 'Entity'\r\n                        } }}), \r\n                    entity.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, tabType: 'entity', uid: entity.parent})) : null)), \r\n            React.createElement(\"div\", {className: 'edit-group'}, \r\n                React.createElement(RecordsEditor_1.RecordsEditor, {dimension: 'predicates', entityExists: true, id: this.props.id, api: this.props.api, records: records, onChange: () => { }, predicates: predicates, sources: sources, entityTypeId: entityType.uid, dataStore: this.props.dataStore})\r\n            )));\r\n    }\r\n}\r\nEntityWorkspaceCoreView.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityWorkspaceCoreView = EntityWorkspaceCoreView;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL2VudGl0eS9FbnRpdHlXb3Jrc3BhY2VDb3JlVmlldy50c3g/MjliZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFFL0IsNENBQThCLEVBQW1DLENBQUM7QUFDbEUseUNBQW9DLENBQXFCLENBQUM7QUFFMUQsMENBQXVCLEVBQWEsQ0FBQztBQUlyQyxxQ0FBd0IsRUFBUSxDQUFDO0FBRWpDLDJDQUE2QixFQUFvQixDQUFDO0FBRWxELDZDQUErQixFQUFnQyxDQUFDO0FBR2hFLDZDQUF1QyxFQUE2QixDQUFDO0FBQ3JFLG9EQUFzQyxFQUFvQyxDQUFDO0FBSTNFLDJDQUEyQyx1Q0FBc0I7QUFBVSxDQUFDO0FBQzVFLDBDQUEwQyx1Q0FBc0I7QUFBdUIsQ0FBQztBQWF4RixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLG9DQUFvQztBQUNwQyxVQUFVO0FBQ1YsMkNBQTJDO0FBQzNDLG9CQUFvQjtBQUNwQix5REFBeUQ7QUFDekQsa0dBQWtHO0FBQ2xHLGdHQUFnRztBQUNoRyxvR0FBb0c7QUFDcEcsa0RBQWtEO0FBQ2xELGtCQUFrQjtBQUNsQiwwQ0FBMEM7QUFDMUMsc0NBQTZDLEtBQUssQ0FBQyxTQUFTO0lBTXhELFlBQVksS0FBb0MsRUFBRSxPQUFZO1FBQzFELE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUM7WUFDckMsZ0JBQWdCLEVBQUUsRUFBRTtTQUN2QixDQUFDO0lBQ04sQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFTO1FBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FB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LEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUksRUFDcEIsT0FBTyxFQUFFLE9BQVEsRUFDakIsUUFBUSxFQUFFLFFBQU8sQ0FBRSxFQUNuQixVQUFVLEVBQUUsVUFBVyxFQUN2QixPQUFPLEVBQUUsT0FBUSxFQUNqQixZQUFZLEVBQUUsVUFBVSxDQUFDLEdBQUksRUFDN0IsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBVSxFQUNsQzthQUNBLENBQ0UsQ0FDWCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUF0RmlCLG9DQUFZLEdBQUc7SUFDekIsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7Q0FDNUMsQ0FBQztBQUpPLCtCQUF1QiwwQkF3Rm5DIiwiZmlsZSI6IjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IEVtcHR5IHdvcmtzcGFjZSBmb3Igd2hlbiBub3RoaW5nIGlzIG9wZW4hXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFJlY29yZHNFZGl0b3IgfSBmcm9tICcuLi8uLi9lbnRpdHlfZWRpdG9yL1JlY29yZHNFZGl0b3InO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uLy4uL0FwaVNlcnZpY2UnO1xuXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbmltcG9ydCB7IENvbWJvRHJvcGRvd25PcHRpb24gfSBmcm9tICcuLi8uLi9Db21ib0Ryb3Bkb3duJztcblxuaW1wb3J0IHsgZ3JvdXBCeSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEFkZFRhYkJ1dHRvbiB9IGZyb20gJy4uLy4uL0FkZFRhYkJ1dHRvbic7XG5cbmltcG9ydCB7IGZpbmRQYXJlbnRUcmVlIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVyL2ZpbmRQYXJlbnRUcmVlJztcblxuXG5pbXBvcnQgeyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZmllbGRzL0VkaXRhYmxlSGVhZGVyJztcbmltcG9ydCB7IEVkaXRhYmxlQ29tYm9Ecm9wZG93biB9IGZyb20gJy4uLy4uL2ZpZWxkcy9FZGl0YWJsZUNvbWJvRHJvcGRvd24nO1xuXG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9EYXRhU3RvcmUnO1xuXG5jbGFzcyBTdHJpbmdFZGl0YWJsZUZpZWxkQ29tcG9uZW50IGV4dGVuZHMgRWRpdGFibGVGaWVsZENvbXBvbmVudDxzdHJpbmc+IHt9XG5jbGFzcyBDb21ib0VkaXRhYmxlRmllbGRDb21wb25lbnQgZXh0ZW5kcyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50PENvbWJvRHJvcGRvd25PcHRpb24+IHt9XG5cbmludGVyZmFjZSBFbnRpdHlXb3Jrc3BhY2VDb3JlVmlld1Byb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3U3RhdGUge1xuICAgIGNvbWJvVmFsdWU6IENvbWJvRHJvcGRvd25PcHRpb247XG4gICAgY29tYm9TZWFyY2hWYWx1ZTogc3RyaW5nO1xufVxuXG4vLyBXaGF0IGNhbiBJIGRvP1xuLy8gRW50aXR5IE9wZXJhdGlvbnNcbi8vIC0gRGVsZXRlIHRoZSBlbnRpdHlcbi8vIC0gTWVyZ2UgdGhlIGVudGl0eVxuLy8gLSBTcGxpdCB0aGUgZW50aXR5XG4vLyAtIEFkZCAnc2FtZS1hcy1zZXMnIHRvIHRoZSBlbnRpdHlcbi8vIFJlY29yZHNcbi8vIC0gT3JkZXIgcmVjb3JkcyBieSB0eXBlLCBzb3VyY2UgYW5kIGRhdGVcbi8vIC0gQWRkIG5ldyByZWNvcmRzXG4vLyAtIEFkZGluZyBhIG5ldyBwcmVkaWNhdGUgY3JlYXRlcyBhIG5ldyByZWNvcmQgd2l0aCB0aGVcbi8vICAgZW50aXR5IHNldCwgdGhlIHByZWRpY2F0ZSBzZXQsIHRoZSBzY29yZSBzZXQgdG8gMywgdGhlIHBlcmlvZCBzZXQgdG8gbnVsbCwgc291cmNlIHNldCB0byBudWxsXG4vLyAgIGl0IGFsc28gY3JlYXRlcyBhIGJsYW5rIGVudHJ5IGluIHRoZSByZWNvcmRzIHN1YiB0YWJsZSBiYXNlZCBvbiB0aGUgcmFuZ2Ugb2YgdGhlIHByZWRpY2F0ZS5cbi8vIC0gTmV3IHByZWRpY2F0ZXMgbXVzdCBoYXZlIGEgbmFtZS4gVGhlIGRvbWFpbiBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgZW50aXR5dHlwZSBidXQgY2FuIGJlIGNoYW5nZWRcbi8vICAgdG8gb25lIG9mIGl0cyBwYXJlbnRzLiBUaGUgcmFuZ2UgTVVTVCBiZSBzZXQuXG4vLyBWaXN1YWxpc2F0aW9uczpcbi8vIC0gTmV0d29yayBncmFwaCBvZiBlbnRpdHkgcmVsYXRpb25zaGlwc1xuZXhwb3J0IGNsYXNzIEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3UHJvcHMsIEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3U3RhdGU+IHtcblxuICAgIHB1YmxpYyBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgICAgICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyA6IEVudGl0eVdvcmtzcGFjZUNvcmVWaWV3UHJvcHMsIGNvbnRleHQ6IGFueSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tYm9WYWx1ZTogeyBrZXk6ICd0ZXN0JywgdmFsdWU6ICcnfSxcbiAgICAgICAgICAgIGNvbWJvU2VhcmNoVmFsdWU6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShkYXRhOiBhbnkpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucGF0Y2hJdGVtKEVudGl0eSwgQXBwVXJscy5lbnRpdHksIHRoaXMucHJvcHMuaWQsIGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5lbnRpdHkuZ2V0KCdlbnRpdHktJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlLmVudGl0eTtcblxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlLmZpbmQoKHQpID0+IHQudWlkID09PSBlbnRpdHkuZW50aXR5VHlwZSk7XG4gICAgICAgIGNvbnN0IHBvdGVudGlhbFBhcmVudHMgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5LnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGVQYXJlbnRzID0gZmluZFBhcmVudFRyZWUoZW50aXR5LmVudGl0eVR5cGUsIHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHlfdHlwZS52YWx1ZSk7XG4gICAgICAgIGNvbnN0IHByZWRpY2F0ZXMgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwucHJlZGljYXRlXG4gICAgICAgICAgICAudmFsdWUuZmlsdGVyKChwcmVkKSA9PiBlbnRpdHlUeXBlUGFyZW50cy5pbmRleE9mKHByZWQuZG9tYWluKSAhPT0gLTEpO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuc291cmNlLnZhbHVlO1xuICAgICAgICBjb25zdCByZWNvcmRzID0gZ3JvdXBCeSh0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLmVudGl0eS5nZXQoJ2VudGl0eS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWUucmVjb3JkcywgJ3ByZWRpY2F0ZScpO1xuXG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHByZWRpY2F0ZXMubWFwKChwcmVkKSA9PiAoeyBrZXk6IHByZWQubGFiZWwsIHZhbHVlOiBwcmVkLnVpZCwgbWV0YTogcHJlZH0pKTtcblxuICAgICAgICBsZXQgcGFyZW50TmFtZSA9ICcnO1xuICAgICAgICBpZiAocG90ZW50aWFsUGFyZW50cyAhPT0gbnVsbCAmJiBlbnRpdHkucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gcG90ZW50aWFsUGFyZW50cy5maW5kKChwYXIpID0+IHBhci51aWQgPT09IGVudGl0eS5wYXJlbnQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROYW1lID0gZm91bmQubGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0nZWRpdG9yLWJvZHknPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1maWxsJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1maWxsJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj48bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+VHlwZTwvbGFiZWw+e2VudGl0eVR5cGUubGFiZWx9IDxBZGRUYWJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e2VudGl0eVR5cGUudWlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiVHlwZT0nZW50aXR5X3R5cGUnXG4gICAgICAgICAgICAgICAgICAgIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5QYXJlbnQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Q29tYm9FZGl0YWJsZUZpZWxkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17e2tleTogcGFyZW50TmFtZSwgdmFsdWU6IGVudGl0eS5wYXJlbnR9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PXtFZGl0YWJsZUNvbWJvRHJvcGRvd259XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB0aGlzLnVwZGF0ZSh7J3BhcmVudCc6IHZhbHVlLnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcHM9e3sgY29tYm9TZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHBvdGVudGlhbFBhcmVudHMubWFwKChwYXIpID0+ICh7IGtleTogcGFyLmxhYmVsLCB2YWx1ZTogcGFyLnVpZH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ0VudGl0eSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH19fSAvPlxuICAgICAgICAgICAgICAgICAgICB7ZW50aXR5LnBhcmVudCAhPT0gbnVsbCA/ICg8QWRkVGFiQnV0dG9uIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJUeXBlPSdlbnRpdHknXG4gICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e2VudGl0eS5wYXJlbnR9IC8+KSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXQtZ3JvdXAnPlxuICAgICAgICAgICAgICAgIDxSZWNvcmRzRWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbj0ncHJlZGljYXRlcydcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5RXhpc3RzPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcz17cmVjb3Jkc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHt9fVxuICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGVzPXtwcmVkaWNhdGVzfVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzPXtzb3VyY2VzfVxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlUeXBlSWQ9e2VudGl0eVR5cGUudWlkfVxuICAgICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL3dvcmtzcGFjZS9lbnRpdHkvRW50aXR5V29ya3NwYWNlQ29yZVZpZXcudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst EditableFieldComponent_1 = __webpack_require__(32);\r\nconst SearchBar_1 = __webpack_require__(35);\r\nconst RecordPredicate_1 = __webpack_require__(36);\r\nconst findParentTree_1 = __webpack_require__(30);\r\nconst Signaller_1 = __webpack_require__(21);\r\nclass RecordEditableFieldComponent extends EditableFieldComponent_1.EditableFieldComponent {\r\n}\r\nclass RecordsEditor extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true\r\n        };\r\n    }\r\n    deleteRecord(record) {\r\n        if (record.uid === null) {\r\n            throw new Error('Trying to delete a record with null id');\r\n        }\r\n        this.props.api.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, record.uid)\r\n            .then(() => {\r\n            this.props.onChange();\r\n        });\r\n    }\r\n    recordChanged(record) {\r\n        this.props.api.putItem(falcon_core_1.Record, ApiService_1.AppUrls.record, this.props.id, record.serialize());\r\n    }\r\n    createNewRecord() {\r\n        const entity = this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.entity;\r\n        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === entity.entityType);\r\n        const entityTypeParents = findParentTree_1.findParentTree(entity.entityType, this.props.dataStore.all.entity_type.value);\r\n        const predicates = this.props.dataStore.all.predicate\r\n            .value.filter((pred) => entityTypeParents.indexOf(pred.domain) !== -1);\r\n        const modalDef = {\r\n            name: 'record',\r\n            complete: (data) => {\r\n                console.log('Records editor called complete');\r\n                //this.loadData(this.props);\r\n            },\r\n            cancel: () => {\r\n                console.log('Records editor called cancel');\r\n            },\r\n            settings: {\r\n                options: predicates.map((pred) => ({ key: pred.label, value: pred.uid, meta: pred })),\r\n                entityUid: this.props.id,\r\n                entityType: this.props.entityTypeId\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(modalDef);\r\n    }\r\n    render() {\r\n        const predicates = this.props.predicates;\r\n        return (React.createElement(\"div\", null, \r\n            React.createElement(\"div\", null, \r\n                React.createElement(\"div\", null, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Records\"), \r\n                    React.createElement(\"div\", {style: { display: 'flex' }}, \r\n                        React.createElement(\"div\", {style: { flex: '1' }}, \r\n                            React.createElement(SearchBar_1.SearchBar, {getValue: (p) => p.label, setFilterFunc: (filterFunc) => this.setState({ filterFunc })})\r\n                        ), \r\n                        React.createElement(\"div\", {style: { padding: '0.1em 0.4em', fontSize: '2em' }}, \r\n                            React.createElement(\"i\", {className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', onClick: this.createNewRecord.bind(this), title: 'Add new record'})\r\n                        )), \r\n                    React.createElement(\"div\", null, Object.keys(this.props.records).map((section) => {\r\n                        const currentPredicate = predicates.find((pred) => {\r\n                            if (pred.uid === null) {\r\n                                throw new Error('encountered predicate with null id');\r\n                            }\r\n                            return pred.uid.toString() === section;\r\n                        });\r\n                        if (currentPredicate === undefined) {\r\n                            throw new Error('Could not find predicate');\r\n                        }\r\n                        if (!this.state.filterFunc(currentPredicate)) {\r\n                            return null;\r\n                        }\r\n                        return (React.createElement(RecordPredicate_1.RecordPredicate, {dataStore: this.props.dataStore, key: `section-${section}`, entity_id: this.props.id, api: this.props.api, dimension: 'predicate', records: this.props.records[section], predicate: currentPredicate, sources: this.props.sources, onChange: this.props.onChange}));\r\n                    })))\r\n            )\r\n        ));\r\n    }\r\n}\r\nexports.RecordsEditor = RecordsEditor;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9SZWNvcmRzRWRpdG9yLnRzeD9iYzllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUMvQix5Q0FBb0MsQ0FBa0IsQ0FBQztBQUV2RCwwQ0FBMEMsRUFBYSxDQUFDO0FBQ3hELHFEQUF1QyxFQUFrQyxDQUFDO0FBRTFFLHdDQUEwQixFQUFjLENBQUM7QUFFekMsOENBQWdDLEVBQW1CLENBQUM7QUFFcEQsNkNBQStCLEVBQTZCLENBQUM7QUFDN0Qsd0NBQTBCLEVBQWlCLENBQUM7QUFNNUMsMkNBQTJDLCtDQUFzQjtBQUFVLENBQUM7QUFtQjVFLDRCQUFtQyxLQUFLLENBQUMsU0FBUztJQUVqRDtRQUNDLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDWixVQUFVLEVBQUUsTUFBTSxJQUFJO1NBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRU0sWUFBWSxDQUFDLE1BQWM7UUFFakMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMsd0NBQXdDLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLG9CQUFNLEVBQUUsb0JBQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQzthQUN6RCxJQUFJLENBQUM7WUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVNLGFBQWEsQ0FBQyxNQUFjO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxvQkFBTSxFQUFFLG9CQUFPLENBQUMsTUFBTSxFQUFF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QU8sQ0FBRSxFQUNyQyxTQUFTLEVBQUUsZ0JBQWlCLEVBQzVCLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQVEsRUFDNUIsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUyxFQUM1QixDQUFDLENBQUM7b0JBRU4sQ0FBQyxDQUFFLENBQ0UsQ0FDRDthQUNEO1NBQ0QsQ0FDTCxDQUFDO0lBQ0gsQ0FBQztBQUNGLENBQUM7QUFySFkscUJBQWEsZ0JBcUh6QiIsImZpbGUiOiIzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBSZWNvcmQsIFByZWRpY2F0ZSwgU291cmNlIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgRWRpdGFibGVGaWVsZENvbXBvbmVudCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUZpZWxkQ29tcG9uZW50JztcblxuaW1wb3J0IHsgU2VhcmNoQmFyIH0gZnJvbSAnLi4vU2VhcmNoQmFyJztcblxuaW1wb3J0IHsgUmVjb3JkUHJlZGljYXRlIH0gZnJvbSAnLi9SZWNvcmRQcmVkaWNhdGUnO1xuXG5pbXBvcnQgeyBmaW5kUGFyZW50VHJlZSB9IGZyb20gJy4uLy4uL2hlbHBlci9maW5kUGFyZW50VHJlZSc7XG5pbXBvcnQgeyBzaG93TW9kYWwgfSBmcm9tICcuLi8uLi9TaWduYWxsZXInO1xuXG5pbXBvcnQgeyBNb2RhbERlZmluaXRpb24gfSBmcm9tICcuLi9tb2RhbC9Nb2RhbERlZmluaXRpb24nO1xuXG5pbXBvcnQgeyBncm91cEJ5LCBEaWN0aW9uYXJ5IH0gZnJvbSAnbG9kYXNoJztcblxuY2xhc3MgUmVjb3JkRWRpdGFibGVGaWVsZENvbXBvbmVudCBleHRlbmRzIEVkaXRhYmxlRmllbGRDb21wb25lbnQ8UmVjb3JkPiB7fVxuXG5pbnRlcmZhY2UgUmVjb3Jkc0VkaXRvclByb3BzIHtcbiAgICBpZDogbnVtYmVyO1xuXHRhcGk6IEFwaVNlcnZpY2U7XG5cdGRpbWVuc2lvbjogc3RyaW5nO1xuXHRlbnRpdHlUeXBlSWQ6IG51bWJlcjtcblx0ZW50aXR5RXhpc3RzOiBib29sZWFuO1xuXHRyZWNvcmRzOiBEaWN0aW9uYXJ5PFJlY29yZFtdPjtcblx0b25DaGFuZ2U6ICgpID0+IHZvaWQ7XG5cdHByZWRpY2F0ZXMgOiBQcmVkaWNhdGVbXTtcblx0c291cmNlczogU291cmNlW107XG5cdGRhdGFTdG9yZTogRGF0YVN0b3JlO1xufVxuXG5pbnRlcmZhY2UgUmVjb3Jkc0VkaXRvclN0YXRlIHtcblx0ZmlsdGVyRnVuYzogKHA6IFByZWRpY2F0ZSkgPT4gYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFJlY29yZHNFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UmVjb3Jkc0VkaXRvclByb3BzLCBSZWNvcmRzRWRpdG9yU3RhdGU+IHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRmaWx0ZXJGdW5jOiAoKSA9PiB0cnVlXG5cdFx0fTtcblx0fVxuXG5cdHB1YmxpYyBkZWxldGVSZWNvcmQocmVjb3JkOiBSZWNvcmQpIHtcblxuXHRcdGlmIChyZWNvcmQudWlkID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RyeWluZyB0byBkZWxldGUgYSByZWNvcmQgd2l0aCBudWxsIGlkJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5wcm9wcy5hcGkuZGVsSXRlbShSZWNvcmQsIEFwcFVybHMucmVjb3JkLCByZWNvcmQudWlkKVxuXHRcdC50aGVuKCgpID0+IHtcblx0XHRcdHRoaXMucHJvcHMub25DaGFuZ2UoKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZWNvcmRDaGFuZ2VkKHJlY29yZDogUmVjb3JkKSB7XG5cdFx0dGhpcy5wcm9wcy5hcGkucHV0SXRlbShSZWNvcmQsIEFwcFVybHMucmVjb3JkLCB0aGlzLnByb3BzLmlkLCByZWNvcmQuc2VyaWFsaXplKCkpO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZU5ld1JlY29yZCgpIHtcblxuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLmVudGl0eS5nZXQoJ2VudGl0eS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWUuZW50aXR5O1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUuZmluZCgodCkgPT4gdC51aWQgPT09IGVudGl0eS5lbnRpdHlUeXBlKTtcblxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlUGFyZW50cyA9IGZpbmRQYXJlbnRUcmVlKGVudGl0eS5lbnRpdHlUeXBlLCB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUpO1xuICAgICAgICBjb25zdCBwcmVkaWNhdGVzID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLnByZWRpY2F0ZVxuICAgICAgICAgICAgLnZhbHVlLmZpbHRlcigocHJlZCkgPT4gZW50aXR5VHlwZVBhcmVudHMuaW5kZXhPZihwcmVkLmRvbWFpbikgIT09IC0xKTtcblxuICAgICAgICBjb25zdCBtb2RhbERlZjogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3JlY29yZCcsXG4gICAgICAgICAgICBjb21wbGV0ZTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkcyBlZGl0b3IgY2FsbGVkIGNvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmxvYWREYXRhKHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNvcmRzIGVkaXRvciBjYWxsZWQgY2FuY2VsJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBwcmVkaWNhdGVzLm1hcCgocHJlZCkgPT4gKHsga2V5OiBwcmVkLmxhYmVsLCB2YWx1ZTogcHJlZC51aWQsIG1ldGE6IHByZWR9KSksXG4gICAgICAgICAgICAgICAgZW50aXR5VWlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IHRoaXMucHJvcHMuZW50aXR5VHlwZUlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKG1vZGFsRGVmKTtcbiAgICB9XG5cblx0cHVibGljIHJlbmRlcigpIHtcblxuXHRcdGNvbnN0IHByZWRpY2F0ZXMgPSB0aGlzLnByb3BzLnByZWRpY2F0ZXM7XG5cblx0XHRyZXR1cm4gKFxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5SZWNvcmRzPC9sYWJlbD5cblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JyB9fT5cblx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9e3sgZmxleDogJzEnIH19PlxuXHRcdFx0XHRcdFx0XHQ8U2VhcmNoQmFyXG5cdFx0XHRcdFx0XHRcdFx0Z2V0VmFsdWU9eyhwOiBQcmVkaWNhdGUpID0+IHAubGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0c2V0RmlsdGVyRnVuYz17KGZpbHRlckZ1bmMpID0+IHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJGdW5jIH0pfVxuXHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPXt7cGFkZGluZzogJzAuMWVtIDAuNGVtJywgZm9udFNpemU6ICcyZW0nfX0+XG5cdFx0XHRcdFx0XHRcdDxpXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdmYSBmYS1wbHVzLWNpcmNsZSBhZGQgYnV0dG9uJ1xuXHRcdFx0XHRcdFx0XHRcdGFyaWEtaGlkZGVuPSd0cnVlJ1xuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuY3JlYXRlTmV3UmVjb3JkLmJpbmQodGhpcyl9XG5cdFx0XHRcdFx0XHRcdFx0dGl0bGU9J0FkZCBuZXcgcmVjb3JkJ1xuXHRcdFx0XHRcdFx0XHQ+XG4gICAgICAgICAgICAgICAgICAgIFx0XHQ8L2k+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQgPC9kaXY+XG5cdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdHtPYmplY3Qua2V5cyh0aGlzLnByb3BzLnJlY29yZHMpLm1hcCgoc2VjdGlvbikgPT4ge1xuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRQcmVkaWNhdGUgPSBwcmVkaWNhdGVzLmZpbmQoKHByZWQpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAocHJlZC51aWQgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignZW5jb3VudGVyZWQgcHJlZGljYXRlIHdpdGggbnVsbCBpZCcpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcHJlZC51aWQudG9TdHJpbmcoKSA9PT0gc2VjdGlvbjtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0aWYoY3VycmVudFByZWRpY2F0ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBwcmVkaWNhdGUnKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmICghdGhpcy5zdGF0ZS5maWx0ZXJGdW5jKGN1cnJlbnRQcmVkaWNhdGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKDxSZWNvcmRQcmVkaWNhdGVcblx0XHRcdFx0XHRcdFx0XHRkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuXHRcdFx0XHRcdFx0XHRcdGtleT17YHNlY3Rpb24tJHtzZWN0aW9ufWB9XG5cdFx0XHRcdFx0XHRcdFx0ZW50aXR5X2lkPXt0aGlzLnByb3BzLmlkfVxuXHRcdFx0XHRcdFx0XHRcdGFwaT17dGhpcy5wcm9wcy5hcGl9XG5cdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9uPSdwcmVkaWNhdGUnXG5cdFx0XHRcdFx0XHRcdFx0cmVjb3Jkcz17dGhpcy5wcm9wcy5yZWNvcmRzW3NlY3Rpb25dfVxuXHRcdFx0XHRcdFx0XHRcdHByZWRpY2F0ZT17Y3VycmVudFByZWRpY2F0ZX1cblx0XHRcdFx0XHRcdFx0XHRzb3VyY2VzPXt0aGlzLnByb3BzLnNvdXJjZXN9XG5cdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG5cdFx0XHRcdFx0XHRcdCAvPik7XG5cblx0XHRcdFx0XHRcdH0pfVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9lbnRpdHlfZWRpdG9yL1JlY29yZHNFZGl0b3IudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.SearchBar = (props) => {\r\n    const filterFunc = (s) => {\r\n        return (a) => {\r\n            if (s.length === 0) {\r\n                return true;\r\n            }\r\n            return props.getValue(a).toLowerCase().indexOf(s.toLowerCase()) !== -1;\r\n        };\r\n    };\r\n    return (React.createElement(\"div\", null, \r\n        React.createElement(\"div\", {className: 'input-addon-formgroup'}, \r\n            React.createElement(\"span\", {className: 'input-addon-icon'}, \r\n                React.createElement(\"i\", {className: 'fa fa-search fa-fw'})\r\n            ), \r\n            React.createElement(\"input\", {type: 'text', className: 'form-control with-addon', onChange: (e) => props.setFilterFunc(filterFunc(e.target.value))}))\r\n    ));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvU2VhcmNoQmFyLnRzeD9hMGIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQU9sQixpQkFBUyxHQUNoQixDQUFDLEtBQXFCO0lBRXhCLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBUztRQUN6QixNQUFNLENBQUMsQ0FBQyxDQUFNO1lBQ1YsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ2hCLENBQUM7WUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDM0UsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0lBRUYsTUFBTSxDQUFDLENBQ0gscUJBQUMsR0FBRztRQUNBLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsdUJBQXVCO1lBQ2xDLHFCQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsa0JBQWtCO2dCQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsb0JBQW9CLEVBQUs7YUFBTztZQUNoRixxQkFBQyxLQUFLLElBQUMsSUFBSSxFQUFDLE1BQU0sRUFDZCxTQUFTLEVBQUMseUJBQXlCLEVBQ25DLFFBQVEsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFFLEVBQUUsQ0FDckU7S0FFSixDQUNULENBQUM7QUFDTixDQUFDLENBQUMiLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBTZWFyY2hCYXJQcm9wcyB7XG4gICAgc2V0RmlsdGVyRnVuYzogKGY6IChhIDogYW55KSA9PiBib29sZWFuKSA9PiB2b2lkO1xuICAgIGdldFZhbHVlOiAoYTogYW55KSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBTZWFyY2hCYXIgOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8U2VhcmNoQmFyUHJvcHM+XG4gICAgPSAocHJvcHM6IFNlYXJjaEJhclByb3BzKSA9PiB7XG5cbiAgICBjb25zdCBmaWx0ZXJGdW5jID0gKHM6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gKGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMuZ2V0VmFsdWUoYSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHMudG9Mb3dlckNhc2UoKSkgIT09IC0xO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2lucHV0LWFkZG9uLWZvcm1ncm91cCc+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdpbnB1dC1hZGRvbi1pY29uJz48aSBjbGFzc05hbWU9J2ZhIGZhLXNlYXJjaCBmYS1mdyc+PC9pPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgd2l0aC1hZGRvbidcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5zZXRGaWx0ZXJGdW5jKGZpbHRlckZ1bmMoZS50YXJnZXQudmFsdWUpKX0vPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL1NlYXJjaEJhci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst EditableFieldComponent_1 = __webpack_require__(32);\r\nconst RecordRow_1 = __webpack_require__(37);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nclass RecordEditableFieldComponent extends EditableFieldComponent_1.EditableFieldComponent {\r\n}\r\nclass RecordPredicate extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            potentialValues: []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.predicate.rangeIsReference) {\r\n            this.props.api.getCollection(falcon_core_1.Entity, ApiService_1.AppUrls.entity, { type: this.props.predicate.range })\r\n                .then((potentialValues) => this.setState({ potentialValues }));\r\n        }\r\n    }\r\n    createNewRecord() {\r\n        this.props.api.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n            predicate: this.props.predicate.uid,\r\n            entity: this.props.entity_id,\r\n            valueType: this.props.predicate.rangeIsReference ? 'entity' : this.props.predicate.range,\r\n            score: 3\r\n        }));\r\n    }\r\n    deleteRecord(record) {\r\n        if (record.uid === null) {\r\n            throw new Error('Trying to delete a record with null id');\r\n        }\r\n        this.props.api.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, record.uid)\r\n            .then(() => {\r\n            this.props.onChange();\r\n        });\r\n    }\r\n    recordChanged(record) {\r\n        this.props.api.putItem(falcon_core_1.Record, ApiService_1.AppUrls.record, this.props.entity_id, falcon_core_1.Serializer.toJson(record));\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", null, \r\n            React.createElement(\"h5\", {className: 'section-header'}, \r\n                this.props.predicate.label, \r\n                \" \", \r\n                React.createElement(\"i\", {className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', onClick: this.createNewRecord.bind(this), title: `Add new ${this.props.predicate.label} record`}), \r\n                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: this.props.predicate.uid, tabType: 'predicate'})), \r\n            React.createElement(\"table\", {className: 'record-editing-table'}, \r\n                React.createElement(\"thead\", null, \r\n                    React.createElement(\"tr\", {className: 'record-row title'}, \r\n                        React.createElement(\"th\", {className: 'record-row-item uid'}, \"ID\"), \r\n                        this.props.predicate.range !== 'source' ? (React.createElement(\"th\", {className: 'record-row-item'}, \"Value\")) : null, \r\n                        React.createElement(\"th\", {className: 'record-row-item'}, \"Source\"), \r\n                        React.createElement(\"th\", {className: 'record-row-item score'}, \"Score\"), \r\n                        React.createElement(\"th\", {className: 'record-row-item score'}, \"Period\"), \r\n                        React.createElement(\"th\", {className: 'record-row-item buttons'}, \"Actions\"))\r\n                ), \r\n                React.createElement(\"tbody\", null, this.props.records.map((record) => (React.createElement(RecordEditableFieldComponent, {key: `row-${record.uid}`, value: record, onChange: this.recordChanged.bind(this), onDelete: this.deleteRecord.bind(this), component: RecordRow_1.RecordRow, additionalProps: {\r\n                    dimension: 'predicates',\r\n                    sources: this.props.sources,\r\n                    entities: this.state.potentialValues,\r\n                    dataStore: this.props.dataStore\r\n                }})))))));\r\n    }\r\n}\r\nexports.RecordPredicate = RecordPredicate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9SZWNvcmRQcmVkaWNhdGUudHN4PzYxZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBQy9CLHlDQUFvQyxDQUFrQixDQUFDO0FBRXZELDBDQUE4RCxFQUFhLENBQUM7QUFDNUUscURBQXVDLEVBQWtDLENBQUM7QUFFMUUsd0NBQTBCLEVBQWEsQ0FBQztBQUV4QywyQ0FBNkIsRUFBaUIsQ0FBQztBQUUvQywyQ0FBMkMsK0NBQXNCO0FBQVUsQ0FBQztBQWlCNUUsOEJBQXFDLEtBQUssQ0FBQyxTQUFTO0lBRWhEO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULGVBQWUsRUFBRSxFQUFFO1NBQ3RCLENBQUM7SUFDTixDQUFDO0lBRU0saUJBQWlCO1FBQ3BCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztpQkFDekYsSUFBSSxDQUFDLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbkUsQ0FBQztJQUNMLENBQUM7SUFFTSxlQUFlO1FBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxvQkFBTSxFQUFFLG9CQUFPLENBQUMsTUFBTSxFQUM5Qyx3QkFBVSxDQUFDLFFBQVEsQ0FBQyxvQkFBTSxFQUFFO1lBQ3hCLFNBQVMsRUFBRSxJQUFJ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TUFBTSxDQUFDLEdBQUcsRUFBRyxFQUN6QixLQUFLLEVBQUUsTUFBTyxFQUNkLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDeEMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUN2QyxTQUFTLEVBQUUscUJBQVUsRUFDckIsZUFBZSxFQUFFO29CQUNiLFNBQVMsRUFBRSxZQUFZO29CQUN2QixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPO29CQUMzQixRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlO29CQUNwQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTO2lCQUNqQyxFQUNKLENBQ0wsQ0FBRSxDQUNDLENBQ0osQ0FDRixDQUNiLENBQUM7SUFDTCxDQUFDO0FBQ0YsQ0FBQztBQXhGWSx1QkFBZSxrQkF3RjNCIiwiZmlsZSI6IjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vZGF0YVN0b3JlJztcbmltcG9ydCB7IFJlY29yZCwgUHJlZGljYXRlLCBTb3VyY2UsIEVudGl0eSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEVkaXRhYmxlRmllbGRDb21wb25lbnQgfSBmcm9tICcuLi9maWVsZHMvRWRpdGFibGVGaWVsZENvbXBvbmVudCc7XG5cbmltcG9ydCB7IFJlY29yZFJvdyB9IGZyb20gJy4vUmVjb3JkUm93JztcblxuaW1wb3J0IHsgQWRkVGFiQnV0dG9uIH0gZnJvbSAnLi4vQWRkVGFiQnV0dG9uJztcblxuY2xhc3MgUmVjb3JkRWRpdGFibGVGaWVsZENvbXBvbmVudCBleHRlbmRzIEVkaXRhYmxlRmllbGRDb21wb25lbnQ8UmVjb3JkPiB7fVxuXG5pbnRlcmZhY2UgUmVjb3JkUHJlZGljYXRlUHJvcHMge1xuICAgIGVudGl0eV9pZDogbnVtYmVyO1xuXHRhcGk6IEFwaVNlcnZpY2U7XG5cdGRpbWVuc2lvbjogc3RyaW5nO1xuXHRyZWNvcmRzOiBSZWNvcmRbXTtcblx0cHJlZGljYXRlIDogUHJlZGljYXRlO1xuXHRzb3VyY2VzOiBTb3VyY2VbXTtcbiAgICBvbkNoYW5nZTogKCkgPT4gdm9pZDtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIFJlY29yZFByZWRpY2F0ZVN0YXRlIHtcblx0cG90ZW50aWFsVmFsdWVzOiBFbnRpdHlbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlY29yZFByZWRpY2F0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxSZWNvcmRQcmVkaWNhdGVQcm9wcywgUmVjb3JkUHJlZGljYXRlU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcG90ZW50aWFsVmFsdWVzOiBbXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucHJlZGljYXRlLnJhbmdlSXNSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuYXBpLmdldENvbGxlY3Rpb24oRW50aXR5LCBBcHBVcmxzLmVudGl0eSwgeyB0eXBlOiB0aGlzLnByb3BzLnByZWRpY2F0ZS5yYW5nZSB9KVxuICAgICAgICAgICAgLnRoZW4oKHBvdGVudGlhbFZhbHVlcykgPT4gdGhpcy5zZXRTdGF0ZSh7IHBvdGVudGlhbFZhbHVlcyB9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTmV3UmVjb3JkKCkge1xuICAgICAgICB0aGlzLnByb3BzLmFwaS5wb3N0SXRlbShSZWNvcmQsIEFwcFVybHMucmVjb3JkLFxuICAgICAgICBTZXJpYWxpemVyLmZyb21Kc29uKFJlY29yZCwge1xuICAgICAgICAgICAgcHJlZGljYXRlOiB0aGlzLnByb3BzLnByZWRpY2F0ZS51aWQsXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMucHJvcHMuZW50aXR5X2lkLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiB0aGlzLnByb3BzLnByZWRpY2F0ZS5yYW5nZUlzUmVmZXJlbmNlID8gJ2VudGl0eScgOiB0aGlzLnByb3BzLnByZWRpY2F0ZS5yYW5nZSxcbiAgICAgICAgICAgIHNjb3JlOiAzXG4gICAgICAgIH0pKTtcbiAgICB9XG5cblx0cHVibGljIGRlbGV0ZVJlY29yZChyZWNvcmQ6IFJlY29yZCkge1xuXG5cdFx0aWYgKHJlY29yZC51aWQgPT09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVHJ5aW5nIHRvIGRlbGV0ZSBhIHJlY29yZCB3aXRoIG51bGwgaWQnKTtcblx0XHR9XG5cblx0XHR0aGlzLnByb3BzLmFwaS5kZWxJdGVtKFJlY29yZCwgQXBwVXJscy5yZWNvcmQsIHJlY29yZC51aWQpXG5cdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0dGhpcy5wcm9wcy5vbkNoYW5nZSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlY29yZENoYW5nZWQocmVjb3JkOiBSZWNvcmQpIHtcblx0XHR0aGlzLnByb3BzLmFwaS5wdXRJdGVtKFJlY29yZCwgQXBwVXJscy5yZWNvcmQsIHRoaXMucHJvcHMuZW50aXR5X2lkLCBTZXJpYWxpemVyLnRvSnNvbihyZWNvcmQpKTtcblx0fVxuXG5cdHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgcmV0dXJuICg8c2VjdGlvbj5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9J3NlY3Rpb24taGVhZGVyJz57dGhpcy5wcm9wcy5wcmVkaWNhdGUubGFiZWx9IDxpXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtcGx1cy1jaXJjbGUgYWRkIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jcmVhdGVOZXdSZWNvcmQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtgQWRkIG5ldyAke3RoaXMucHJvcHMucHJlZGljYXRlLmxhYmVsfSByZWNvcmRgfVxuICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICA8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICB1aWQ9e3RoaXMucHJvcHMucHJlZGljYXRlLnVpZH1cbiAgICAgICAgICAgICAgICB0YWJUeXBlPSdwcmVkaWNhdGUnIC8+XG4gICAgICAgICAgICA8L2g1PlxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0ncmVjb3JkLWVkaXRpbmctdGFibGUnPlxuICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT0ncmVjb3JkLXJvdyB0aXRsZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0gdWlkJz5JRDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wcmVkaWNhdGUucmFuZ2UgIT09ICdzb3VyY2UnID8gKDx0aCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSc+VmFsdWU8L3RoPikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0ncmVjb3JkLXJvdy1pdGVtJz5Tb3VyY2U8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0ncmVjb3JkLXJvdy1pdGVtIHNjb3JlJz5TY29yZTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0gc2NvcmUnPlBlcmlvZDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0gYnV0dG9ucyc+QWN0aW9uczwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlY29yZHMubWFwKChyZWNvcmQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWNvcmRFZGl0YWJsZUZpZWxkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgcm93LSR7cmVjb3JkLnVpZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMucmVjb3JkQ2hhbmdlZC5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXt0aGlzLmRlbGV0ZVJlY29yZC5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17UmVjb3JkUm93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb246ICdwcmVkaWNhdGVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogdGhpcy5wcm9wcy5zb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllczogdGhpcy5zdGF0ZS5wb3RlbnRpYWxWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZTogdGhpcy5wcm9wcy5kYXRhU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9SZWNvcmRQcmVkaWNhdGUudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 37 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nvar EditableFieldComponent_1 = __webpack_require__(32);\r\nexports.EditableFieldComponent = EditableFieldComponent_1.EditableFieldComponent;\r\nconst ScorePicker_1 = __webpack_require__(38);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst StringFieldEditor_1 = __webpack_require__(39);\r\nconst EntityFieldEditor_1 = __webpack_require__(40);\r\nconst DateFieldEditor_1 = __webpack_require__(41);\r\nconst IntegerFieldEditor_1 = __webpack_require__(45);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst formatDate_1 = __webpack_require__(44);\r\nconst createNewSource = (initialValue) => {\r\n    const a = {\r\n        name: 'source',\r\n        complete: () => {\r\n            // TODO : Automatically reload sources\r\n        },\r\n        cancel: () => { console.log('cancel'); },\r\n        settings: {\r\n            initialValue\r\n        }\r\n    };\r\n    Signaller_1.showModal.dispatch(a);\r\n};\r\nconst recordEditor = (props, record) => {\r\n    switch (record.valueType) {\r\n        case 'string':\r\n            return (React.createElement(StringFieldEditor_1.StringFieldEditor, {value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value }))}));\r\n        case 'date':\r\n            return (React.createElement(DateFieldEditor_1.DateFieldEditor, {value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value }))}));\r\n        case 'integer':\r\n            return (React.createElement(IntegerFieldEditor_1.IntegerFieldEditor, {value: record.value || '', onChange: (value) => props.onChange(Object.assign(record, { value }))}));\r\n        case 'entity':\r\n            return (React.createElement(EntityFieldEditor_1.EntityFieldEditor, {value: record.value === null ? 0 : parseInt(record.value), onChange: (value) => props.onChange(Object.assign(record, { value })), entities: props.entities}));\r\n        default:\r\n            return (React.createElement(\"div\", null, \"Missing editor\"));\r\n    }\r\n};\r\nconst formatValue = (props, record) => {\r\n    if (record.valueType === 'entity') {\r\n        const entity = props.entities.find((entity) => entity.uid == record.value);\r\n        if (entity !== undefined) {\r\n            if (entity.uid === null) {\r\n                throw Error('Unexpected null ID on entity');\r\n            }\r\n            return (React.createElement(\"span\", null, \r\n                entity.label, \r\n                \" \", \r\n                React.createElement(AddTabButton_1.AddTabButton, {dataStore: props.dataStore, uid: entity.uid, tabType: 'entity'})));\r\n        }\r\n        else {\r\n            return (React.createElement(\"em\", null, \"Missing Entity\"));\r\n        }\r\n    }\r\n    if (record.valueType === 'date') {\r\n        return (React.createElement(\"span\", null, formatDate_1.formatDate(record.value)));\r\n    }\r\n    return (React.createElement(\"span\", null, record.value));\r\n};\r\nexports.RecordRow = (props) => {\r\n    const recordValue = props.value;\r\n    if (recordValue === null) {\r\n        throw new Error('Should not be null!!');\r\n    }\r\n    const currentSource = props.sources.find((source) => source.uid === recordValue.source);\r\n    const dropDownValue = {\r\n        key: '', value: recordValue.source\r\n    };\r\n    if (currentSource !== undefined) {\r\n        dropDownValue.key = currentSource.label;\r\n    }\r\n    if (props.edit) {\r\n        return (React.createElement(\"tr\", {className: 'record-row'}, \r\n            React.createElement(\"td\", {className: 'record-row-item uid'}, recordValue.uid), \r\n            recordValue.valueType !== 'source' ? (React.createElement(\"td\", {className: 'record-row-item'}, recordEditor(props, recordValue))) : null, \r\n            React.createElement(\"td\", {className: 'record-row-item'}, \r\n                React.createElement(ComboDropdown_1.ComboDropdown, {options: props.sources.map((source) => ({ key: source.label, value: source.uid })), typeName: 'source', value: dropDownValue, setValue: (combo) => props.onChange(Object.assign(recordValue, { source: combo === null ? combo : combo.value })), createNewValue: createNewSource})\r\n            ), \r\n            React.createElement(\"td\", {className: 'record-row-item score'}, \r\n                React.createElement(ScorePicker_1.ScorePicker, {value: recordValue.score, readOnly: false, onChange: (score) => props.onChange(Object.assign(recordValue, { score }))})\r\n            ), \r\n            React.createElement(\"td\", {className: 'record-row-item period'}, \r\n                React.createElement(DateFieldEditor_1.DateFieldEditor, {value: recordValue.period || '', onChange: (period) => props.onChange(Object.assign(props.value, { period }))})\r\n            ), \r\n            React.createElement(\"td\", {className: 'record-row-item buttons'}, \r\n                React.createElement(\"button\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-check', onClick: props.acceptChanges, \"aria-hidden\": 'true'})\r\n                ), \r\n                React.createElement(\"button\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true', onClick: props.cancelChanges})\r\n                ))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"tr\", {className: 'record-row'}, \r\n            React.createElement(\"td\", {className: 'record-row-item uid'}, \r\n                \"#\", \r\n                recordValue.uid), \r\n            recordValue.valueType !== 'source' ? (React.createElement(\"td\", {className: 'record-row-item'}, formatValue(props, recordValue))) : null, \r\n            React.createElement(\"td\", {className: 'record-row-item'}, \r\n                dropDownValue.key, \r\n                dropDownValue.key.length > 0 ? (React.createElement(AddTabButton_1.AddTabButton, {dataStore: props.dataStore, uid: dropDownValue.value, tabType: 'source'})) : null), \r\n            React.createElement(\"td\", {className: 'record-row-item score'}, \r\n                React.createElement(ScorePicker_1.ScorePicker, {value: recordValue.score, readOnly: true})\r\n            ), \r\n            React.createElement(\"td\", {className: 'record-row-item period'}, formatDate_1.formatDate(recordValue.period)), \r\n            React.createElement(\"td\", {className: 'record-row-item buttons'}, \r\n                React.createElement(\"button\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', onClick: props.setEdit, \"aria-hidden\": 'true'})\r\n                ), \r\n                React.createElement(\"button\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-trash', \"aria-hidden\": 'true', onClick: props.onDelete})\r\n                ))));\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9SZWNvcmRSb3cudHN4Pzc3ZjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBSS9CLG1EQUF1QyxFQUFrQyxDQUFDO0FBQWpFLGlGQUFpRTtBQUMxRSwwQ0FBNEIsRUFBdUIsQ0FBQztBQUNwRCw0Q0FBOEIsRUFBa0IsQ0FBQztBQUNqRCx3Q0FBMEIsRUFBaUIsQ0FBQztBQUk1QyxnREFBa0MsRUFBcUIsQ0FBQztBQUN4RCxnREFBa0MsRUFBcUIsQ0FBQztBQUN4RCw4Q0FBZ0MsRUFBbUIsQ0FBQztBQUNwRCxpREFBbUMsRUFBc0IsQ0FBQztBQUUxRCwyQ0FBNkIsRUFBaUIsQ0FBQztBQUUvQyx5Q0FBMkIsRUFBeUIsQ0FBQztBQVNyRCxNQUFNLGVBQWUsR0FBRyxDQUFDLFlBQW9CO0lBQ3JDLE1BQU0sQ0FBQyxHQUFxQjtRQUN4QixJQUFJLEVBQUUsUUFBUTtRQUNkLFFBQVEsRUFBRTtZQUNOLHNDQUFzQztRQUMxQyxDQUFDO1FBQ0QsTUFBTSxFQUFFLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBQztRQUN0QyxRQUFRLEVBQUU7WUFDTixZQUFZO1NBQ2Y7S0FDSixDQUFDO0lBRUYscUJBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDO0FBRU4sTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUFxQixFQUFFLE1BQWM7SUFDdkQsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsS0FBSyxRQUFRO1lBQ1QsTUFBTSxDQUFDLENBQUMsb0JBQUMscUNBQWlCLEdBQ3RCLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxJQUFJLEVBQUcsRUFDMUIsUUFBUSxFQUFFLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFFLEVBQUcsQ0FBQyxDQUFDO1FBQ25GLEtBQUssTUFBTTtZQUNQLE1BQU0sQ0FBQyxDQUFDLG9CQUFDLGlDQUFlLEdBQ3BCLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxJQUFJLEVBQUcsRUFDMUIsUUFBUSxFQUFFLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFFLEVBQUcsQ0FBQyxDQUFDO1FBQ25GLEtBQUssU0FBUztZQUNWLE1BQU0sQ0FBQyxDQUFDLG9CQUFDLHVDQUFrQixHQUN2QixLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssSUFBSSxFQUFHLEVBQzFCLFFBQVEsRUFBRSxDQUFDLEtBQUssS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBRSxFQUFHLENBQUMsQ0FBQztRQUNuRixLQUFLLFFBQVE7WUFDVCxNQUFNLENBQUMsQ0FBQyxvQkFBQyxxQ0FBaUIsR0FDdEIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEtBQUssSUFBSSxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxFQUMxRCxRQUFRLEVBQUUsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUUsRUFDdEUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFTLEVBQUcsQ0FBQyxDQUFDO1FBQ3RDO1lBQ0ksTUFBTSxDQUFDLENBQUMscUJBQUMsR0FBRyxTQUFDLGdCQUFjLENBQU0sQ0FBQyxDQUFDO0lBQzNDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLFdBQVcsR0FBRyxDQUFDLEtBQXFCLEVBQUUsTUFBYztJQUN0RCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDaEMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0UsRUFBRSxDQUFDLENBQUMsTUFBTSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixNQUFNLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1lBQzlDLENBQUM7WUFDRCxNQUFNLENBQUMsQ0FBQyxxQkFBQyxJQUFJO2dCQUNSLE1BQU0sQ0FBQyxLQUFNO2dCQUFDO2dCQUFBLG9CQUFDLDJCQUFZLEdBQ3hCLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBVSxFQUMzQixHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUksRUFDaEIsT0FBTyxFQUFDLFFBQVEsRUFBRyxDQUNwQixDQUFDLENBQUM7UUFDYixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLENBQUMsQ0FBQyxxQkFBQyxFQUFFLFNBQUMsZ0JBQWMsQ0FBSyxDQUFDLENBQUM7UUFDckMsQ0FBQztJQUNMLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDL0IsTUFBTSxDQUFDLENBQUMscUJBQUMsSUFBSSxTQUFFLHVCQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxDQUFPLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsTUFBTSxDQUFDLENBQUMscUJBQUMsSUFBSSxTQUFFLE1BQU0sQ0FBQyxLQUFNLENBQU8sQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQztBQUVXLGlCQUFTLEdBQUcsQ0FBQyxLQUFxQjtJQUUzQyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBRWhDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsTUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEdBQUcsS0FBSyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEYsTUFBTSxhQUFhLEdBQUc7UUFDbEIsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLE1BQU07S0FDckMsQ0FBQztJQUVGLEVBQUUsQ0FBQyxDQUFDLGFBQWEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQzlCLGFBQWEsQ0FBQyxHQUFHLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDYixNQUFNLENBQUMsQ0FDUCxxQkFBQyxFQUFFLElBQUMsU0FBUyxFQUFDLFlBQVk7WUFDdEIscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyxxQkFBcUIsR0FBRSxXQUFXLENBQUMsR0FBSSxDQUFLO1lBQ3pELFdBQVcsQ0FBQyxTQUFTLEtBQUssUUFBUSxHQUFHLENBQ2xDLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMsaUJBQWlCLEdBQzFCLFlBQVksQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFFLENBQ2pDLENBQ1IsR0FBRyxJQUFLO1lBQ1QscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyxpQkFBaUI7Z0JBQzNCLG9CQUFDLDZCQUFhLEdBQ1YsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUUsRUFDbkYsUUFBUSxFQUFDLFFBQVEsRUFDakIsS0FBSyxFQUFFLGFBQWMsRUFDckIsUUFBUSxFQUFFLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxLQUFLLElBQUksR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUUsRUFDbEgsY0FBYyxFQUFFLGVBQWdCLEVBQ2xDO2FBQ0Q7WUFDTCxxQkFBQyxFQUFFLElBQUMsU0FBUyxFQUFDLHVCQUF1QjtnQkFDakMsb0JBQUMseUJBQVcsR0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQU0sRUFBQyxRQUFRLEVBQUUsS0FBTSxFQUNuRCxRQUFRLEVBQUUsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUUsRUFBRzthQUNqRjtZQUNMLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMsd0JBQXdCO2dCQUNsQyxvQkFBQyxpQ0FBZSxHQUNaLEtBQUssRUFBRSxXQUFXLENBQUMsTUFBTSxJQUFJLEVBQUcsRUFDaEMsUUFBUSxFQUFFLENBQUMsTUFBTSxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBRSxFQUFHO2FBQ25GO1lBQ0wscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyx5QkFBeUI7Z0JBQ25DLHFCQUFDLE1BQU07b0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxhQUFjLEdBQUMsV0FBVyxHQUFDLE1BQU0sRUFBSztpQkFBUztnQkFDakcscUJBQUMsTUFBTTtvQkFBQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGFBQWEsR0FBQyxXQUFXLEdBQUMsTUFBTSxFQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsYUFBYyxFQUFLO2lCQUFTLENBQ2hHLENBQ0osQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osTUFBTSxDQUFDLENBQ1AscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyxZQUFZO1lBQ3RCLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMscUJBQXFCO2dCQUFDLEdBQUM7Z0JBQUMsV0FBVyxDQUFDLEdBQUksQ0FBSztZQUMxRCxXQUFXLENBQUMsU0FBUyxLQUFLLFFBQVEsR0FBRyxDQUNsQyxxQkFBQyxFQUFFLElBQUMsU0FBUyxFQUFDLGlCQUFpQixHQUMzQixXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBRSxDQUMvQixDQUNSLEdBQUcsSUFBTTtZQUNWLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMsaUJBQWlCO2dCQUFFLGFBQWEsQ0FBQyxHQUFJO2dCQUM5QyxhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FDNUIsb0JBQUMsMkJBQVksR0FDVCxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVUsRUFDM0IsR0FBRyxFQUFFLGFBQWEsQ0FBQyxLQUFNLEVBQ3pCLE9BQU8sRUFBQyxRQUFRLEVBQUcsQ0FDMUIsR0FBRyxJQUFLLENBQ2pCO1lBQ0kscUJBQUMsRUFBRSxJQUFDLFNBQVMsRUFBQyx1QkFBdUI7Z0JBQ2hDLG9CQUFDLHlCQUFXLEdBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFNLEVBQUMsUUFBUSxFQUFFLElBQUssRUFBRzthQUN6RDtZQUNMLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMsd0JBQXdCLEdBQ2hDLHVCQUFVLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBRSxDQUNoQztZQUNMLHFCQUFDLEVBQUUsSUFBQyxTQUFTLEVBQUMseUJBQXlCO2dCQUNuQyxxQkFBQyxNQUFNO29CQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsdUJBQXVCLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQVEsR0FBQyxXQUFXLEdBQUMsTUFBTSxFQUFLO2lCQUFTO2dCQUNsSCxxQkFBQyxNQUFNO29CQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsYUFBYSxHQUFDLFdBQVcsR0FBQyxNQUFNLEVBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFTLEVBQUs7aUJBQVMsQ0FDM0YsQ0FDSixDQUNKLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQyxDQUFDIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBSZWNvcmQsIFNvdXJjZSwgRW50aXR5IH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgRWRpdGFibGVTdWJmaWVsZFByb3BzIH0gZnJvbSAnLi4vZmllbGRzL0VkaXRhYmxlRmllbGRDb21wb25lbnQnO1xuZXhwb3J0IHsgRWRpdGFibGVGaWVsZENvbXBvbmVudCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUZpZWxkQ29tcG9uZW50JztcbmltcG9ydCB7IFNjb3JlUGlja2VyIH0gZnJvbSAnLi4vZmllbGRzL1Njb3JlUGlja2VyJztcbmltcG9ydCB7IENvbWJvRHJvcGRvd24gfSBmcm9tICcuLi9Db21ib0Ryb3Bkb3duJztcbmltcG9ydCB7IHNob3dNb2RhbCB9IGZyb20gJy4uLy4uL1NpZ25hbGxlcic7XG5pbXBvcnQgeyBNb2RhbERlZmluaXRpb24gfSBmcm9tICcuLi9tb2RhbC9Nb2RhbERlZmluaXRpb24nO1xuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vRGF0YVN0b3JlJztcblxuaW1wb3J0IHsgU3RyaW5nRmllbGRFZGl0b3IgfSBmcm9tICcuL1N0cmluZ0ZpZWxkRWRpdG9yJztcbmltcG9ydCB7IEVudGl0eUZpZWxkRWRpdG9yIH0gZnJvbSAnLi9FbnRpdHlGaWVsZEVkaXRvcic7XG5pbXBvcnQgeyBEYXRlRmllbGRFZGl0b3IgfSBmcm9tICcuL0RhdGVGaWVsZEVkaXRvcic7XG5pbXBvcnQgeyBJbnRlZ2VyRmllbGRFZGl0b3IgfSBmcm9tICcuL0ludGVnZXJGaWVsZEVkaXRvcic7XG5cbmltcG9ydCB7IEFkZFRhYkJ1dHRvbiB9IGZyb20gJy4uL0FkZFRhYkJ1dHRvbic7XG5cbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi9oZWxwZXIvZm9ybWF0RGF0ZSc7XG5cbmludGVyZmFjZSBSZWNvcmRSb3dQcm9wcyBleHRlbmRzIEVkaXRhYmxlU3ViZmllbGRQcm9wczxSZWNvcmQ+IHtcbiAgICBkaW1lbnNpb246IHN0cmluZztcbiAgICBzb3VyY2VzOiBTb3VyY2VbXTtcbiAgICBlbnRpdGllczogRW50aXR5W107XG4gICAgZGF0YVN0b3JlOiBEYXRhU3RvcmU7XG59XG5cbmNvbnN0IGNyZWF0ZU5ld1NvdXJjZSA9IChpbml0aWFsVmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBhIDogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3NvdXJjZScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gOiBBdXRvbWF0aWNhbGx5IHJlbG9hZCBzb3VyY2VzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7IGNvbnNvbGUubG9nKCdjYW5jZWwnKX0sXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNob3dNb2RhbC5kaXNwYXRjaChhKTtcbiAgICB9O1xuXG5jb25zdCByZWNvcmRFZGl0b3IgPSAocHJvcHM6IFJlY29yZFJvd1Byb3BzLCByZWNvcmQ6IFJlY29yZCkgPT4ge1xuICAgIHN3aXRjaCAocmVjb3JkLnZhbHVlVHlwZSkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuICg8U3RyaW5nRmllbGRFZGl0b3JcbiAgICAgICAgICAgICAgICB2YWx1ZT17cmVjb3JkLnZhbHVlIHx8ICcnfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHByb3BzLm9uQ2hhbmdlKE9iamVjdC5hc3NpZ24ocmVjb3JkLCB7IHZhbHVlIH0pKX0gLz4pO1xuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHJldHVybiAoPERhdGVGaWVsZEVkaXRvclxuICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNvcmQudmFsdWUgfHwgJyd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gcHJvcHMub25DaGFuZ2UoT2JqZWN0LmFzc2lnbihyZWNvcmQsIHsgdmFsdWUgfSkpfSAvPik7XG4gICAgICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuICg8SW50ZWdlckZpZWxkRWRpdG9yXG4gICAgICAgICAgICAgICAgdmFsdWU9e3JlY29yZC52YWx1ZSB8fCAnJ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBwcm9wcy5vbkNoYW5nZShPYmplY3QuYXNzaWduKHJlY29yZCwgeyB2YWx1ZSB9KSl9IC8+KTtcbiAgICAgICAgY2FzZSAnZW50aXR5JzpcbiAgICAgICAgICAgIHJldHVybiAoPEVudGl0eUZpZWxkRWRpdG9yXG4gICAgICAgICAgICAgICAgdmFsdWU9e3JlY29yZC52YWx1ZSA9PT0gbnVsbCA/IDAgOiBwYXJzZUludChyZWNvcmQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHByb3BzLm9uQ2hhbmdlKE9iamVjdC5hc3NpZ24ocmVjb3JkLCB7IHZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgICBlbnRpdGllcz17cHJvcHMuZW50aXRpZXN9IC8+KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoPGRpdj5NaXNzaW5nIGVkaXRvcjwvZGl2Pik7XG4gICAgfVxufTtcblxuY29uc3QgZm9ybWF0VmFsdWUgPSAocHJvcHM6IFJlY29yZFJvd1Byb3BzLCByZWNvcmQ6IFJlY29yZCkgPT4ge1xuICAgIGlmIChyZWNvcmQudmFsdWVUeXBlID09PSAnZW50aXR5Jykge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBwcm9wcy5lbnRpdGllcy5maW5kKChlbnRpdHkpID0+IGVudGl0eS51aWQgPT0gcmVjb3JkLnZhbHVlKTtcbiAgICAgICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZW50aXR5LnVpZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVW5leHBlY3RlZCBudWxsIElEIG9uIGVudGl0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICg8c3Bhbj5cbiAgICAgICAgICAgICAgICB7ZW50aXR5LmxhYmVsfSA8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17cHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgICB1aWQ9e2VudGl0eS51aWR9XG4gICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J2VudGl0eScgLz5cbiAgICAgICAgICAgIDwvc3Bhbj4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICg8ZW0+TWlzc2luZyBFbnRpdHk8L2VtPik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVjb3JkLnZhbHVlVHlwZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgcmV0dXJuICg8c3Bhbj57Zm9ybWF0RGF0ZShyZWNvcmQudmFsdWUpfTwvc3Bhbj4pO1xuICAgIH1cblxuICAgIHJldHVybiAoPHNwYW4+e3JlY29yZC52YWx1ZX08L3NwYW4+KTtcbn07XG5cbmV4cG9ydCBjb25zdCBSZWNvcmRSb3cgPSAocHJvcHM6IFJlY29yZFJvd1Byb3BzKSA9PiB7XG5cbiAgICBjb25zdCByZWNvcmRWYWx1ZSA9IHByb3BzLnZhbHVlO1xuXG4gICAgaWYgKHJlY29yZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIG5vdCBiZSBudWxsISEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50U291cmNlID0gcHJvcHMuc291cmNlcy5maW5kKChzb3VyY2UpID0+IHNvdXJjZS51aWQgPT09IHJlY29yZFZhbHVlLnNvdXJjZSk7XG4gICAgY29uc3QgZHJvcERvd25WYWx1ZSA9IHtcbiAgICAgICAga2V5OiAnJywgdmFsdWU6IHJlY29yZFZhbHVlLnNvdXJjZVxuICAgIH07XG5cbiAgICBpZiAoY3VycmVudFNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRyb3BEb3duVmFsdWUua2V5ID0gY3VycmVudFNvdXJjZS5sYWJlbDtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZWRpdCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8dHIgY2xhc3NOYW1lPSdyZWNvcmQtcm93Jz5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSB1aWQnPntyZWNvcmRWYWx1ZS51aWR9PC90ZD5cbiAgICAgICAgICAgIHtyZWNvcmRWYWx1ZS52YWx1ZVR5cGUgIT09ICdzb3VyY2UnID8gKFxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSc+XG4gICAgICAgICAgICAgICAgICAgIHtyZWNvcmRFZGl0b3IocHJvcHMsIHJlY29yZFZhbHVlKX1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0nPlxuICAgICAgICAgICAgICAgIDxDb21ib0Ryb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3Byb3BzLnNvdXJjZXMubWFwKChzb3VyY2UpID0+ICh7IGtleTogc291cmNlLmxhYmVsICwgdmFsdWU6IHNvdXJjZS51aWR9KSl9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lPSdzb3VyY2UnXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkcm9wRG93blZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZT17KGNvbWJvKSA9PiBwcm9wcy5vbkNoYW5nZShPYmplY3QuYXNzaWduKHJlY29yZFZhbHVlLCB7IHNvdXJjZTogY29tYm8gPT09IG51bGwgPyBjb21ibyA6IGNvbWJvLnZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTmV3VmFsdWU9e2NyZWF0ZU5ld1NvdXJjZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSBzY29yZSc+XG4gICAgICAgICAgICAgICAgPFNjb3JlUGlja2VyIHZhbHVlPXtyZWNvcmRWYWx1ZS5zY29yZX0gcmVhZE9ubHk9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHNjb3JlKSA9PiBwcm9wcy5vbkNoYW5nZShPYmplY3QuYXNzaWduKHJlY29yZFZhbHVlLCB7IHNjb3JlIH0pKX0gLz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0gcGVyaW9kJz5cbiAgICAgICAgICAgICAgICA8RGF0ZUZpZWxkRWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNvcmRWYWx1ZS5wZXJpb2QgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsocGVyaW9kKSA9PiBwcm9wcy5vbkNoYW5nZShPYmplY3QuYXNzaWduKHByb3BzLnZhbHVlLCB7IHBlcmlvZCB9KSl9IC8+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0ncmVjb3JkLXJvdy1pdGVtIGJ1dHRvbnMnPlxuICAgICAgICAgICAgICAgIDxidXR0b24+PGkgY2xhc3NOYW1lPSdmYSBmYS1jaGVjaycgb25DbGljaz17cHJvcHMuYWNjZXB0Q2hhbmdlc30gYXJpYS1oaWRkZW49J3RydWUnPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uPjxpIGNsYXNzTmFtZT0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJyBvbkNsaWNrPXtwcm9wcy5jYW5jZWxDaGFuZ2VzfT48L2k+PC9idXR0b24+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRyIGNsYXNzTmFtZT0ncmVjb3JkLXJvdyc+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSdyZWNvcmQtcm93LWl0ZW0gdWlkJz4je3JlY29yZFZhbHVlLnVpZH08L3RkPlxuICAgICAgICAgICAge3JlY29yZFZhbHVlLnZhbHVlVHlwZSAhPT0gJ3NvdXJjZScgPyAoXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0ncmVjb3JkLXJvdy1pdGVtJz5cbiAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VmFsdWUocHJvcHMsIHJlY29yZFZhbHVlKX1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgKSA6IG51bGwgfVxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0ncmVjb3JkLXJvdy1pdGVtJz57ZHJvcERvd25WYWx1ZS5rZXl9XG4gICAgICAgICAgICAgICAge2Ryb3BEb3duVmFsdWUua2V5Lmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxBZGRUYWJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17cHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgdWlkPXtkcm9wRG93blZhbHVlLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiVHlwZT0nc291cmNlJyAvPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuXHRcdFx0PC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSBzY29yZSc+XG4gICAgICAgICAgICAgICAgIDxTY29yZVBpY2tlciB2YWx1ZT17cmVjb3JkVmFsdWUuc2NvcmV9IHJlYWRPbmx5PXt0cnVlfSAvPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSBwZXJpb2QnPlxuICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShyZWNvcmRWYWx1ZS5wZXJpb2QpfVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J3JlY29yZC1yb3ctaXRlbSBidXR0b25zJz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uPjxpIGNsYXNzTmFtZT0nZmEgZmEtcGVuY2lsLXNxdWFyZS1vJyB0aXRsZT0nRWRpdCcgb25DbGljaz17cHJvcHMuc2V0RWRpdH0gYXJpYS1oaWRkZW49J3RydWUnPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uPjxpIGNsYXNzTmFtZT0nZmEgZmEtdHJhc2gnIGFyaWEtaGlkZGVuPSd0cnVlJyBvbkNsaWNrPXtwcm9wcy5vbkRlbGV0ZX0+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL2VudGl0eV9lZGl0b3IvUmVjb3JkUm93LnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 38 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst lodash_1 = __webpack_require__(20);\r\nexports.ScorePicker = (props) => {\r\n    const values = [1, 2, 3, 4, 5];\r\n    if (props.readOnly) {\r\n        return (React.createElement(\"span\", {className: 'score-picker'}, values.map((val) => (React.createElement(\"i\", {key: val, className: 'fa fa-star' + (val > props.value ? '-o' : ''), \"aria-hidden\": 'true'})))));\r\n    }\r\n    else {\r\n        if (props.onChange === undefined) {\r\n            throw new Error('An onChange handler is required');\r\n        }\r\n        return (React.createElement(\"span\", {className: 'score-picker editing'}, lodash_1.reverse(values).map((val) => (React.createElement(\"i\", {key: val, className: 'fa fa-star' + (val > props.value ? '-o' : ''), onClick: () => props.onChange(val), \"aria-hidden\": 'true'})))));\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL1Njb3JlUGlja2VyLnRzeD9mNzYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUMvQixxQ0FBd0IsRUFBUSxDQUFDO0FBUXBCLG1CQUFXLEdBQ3BCLENBQUMsS0FBdUI7SUFFcEIsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFL0IsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDakIsTUFBTSxDQUFDLENBQ1AscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQ3pCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxxQkFBQyxDQUFDLElBQUMsR0FBRyxFQUFFLEdBQUksRUFDOUIsU0FBUyxFQUFFLFlBQVksR0FBRyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUUsR0FDMUQsV0FBVyxHQUFDLE1BQU0sRUFBSyxDQUFDLENBQUUsQ0FDM0IsQ0FDTixDQUFDO0lBQ04sQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQztRQUN2RCxDQUFDO1FBQ0QsTUFBTSxDQUFDLENBQ1AscUJBQUMsSUFBSSxJQUFDLFNBQVMsRUFBQyxzQkFBc0IsR0FDakMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxxQkFBQyxDQUFDLElBQUMsR0FBRyxFQUFFLEdBQUksRUFDdkMsU0FBUyxFQUFFLFlBQVksR0FBRyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUUsRUFDMUQsT0FBTyxFQUFFLE1BQU0sS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUUsR0FDbkMsV0FBVyxHQUFDLE1BQU0sRUFBSyxDQUFDLENBQUUsQ0FDM0IsQ0FDTixDQUFDO0lBQ04sQ0FBQztBQUdMLENBQUMsQ0FBQyIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJldmVyc2UgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbnRlcmZhY2UgU2NvcmVQaWNrZXJQcm9wcyB7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICBvbkNoYW5nZT86ICh2YWw6IG51bWJlcikgPT4gdm9pZDtcbiAgICByZWFkT25seTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFNjb3JlUGlja2VyIDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFNjb3JlUGlja2VyUHJvcHM+ID1cbiAgICAocHJvcHM6IFNjb3JlUGlja2VyUHJvcHMpID0+IHtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbMSwgMiwgMywgNCwgNV07XG5cbiAgICAgICAgaWYgKHByb3BzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzY29yZS1waWNrZXInPlxuICAgICAgICAgICAgICAgIHt2YWx1ZXMubWFwKCh2YWwpID0+ICg8aSBrZXk9e3ZhbH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnZmEgZmEtc3RhcicgKyAodmFsID4gcHJvcHMudmFsdWUgPyAnLW8nIDogJycpfVxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPikpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5vbkNoYW5nZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBvbkNoYW5nZSBoYW5kbGVyIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzY29yZS1waWNrZXIgZWRpdGluZyc+XG4gICAgICAgICAgICAgICAge3JldmVyc2UodmFsdWVzKS5tYXAoKHZhbCkgPT4gKDxpIGtleT17dmFsfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydmYSBmYS1zdGFyJyArICh2YWwgPiBwcm9wcy52YWx1ZSA/ICctbycgOiAnJyl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHByb3BzLm9uQ2hhbmdlKHZhbCl9XG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+KSl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cblxuICAgIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL2ZpZWxkcy9TY29yZVBpY2tlci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 39 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.StringFieldEditor = (props) => {\r\n    return (React.createElement(\"input\", {type: 'text', value: props.value, onChange: (e) => props.onChange(e.target.value)}));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9TdHJpbmdGaWVsZEVkaXRvci50c3g/NjMwMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFPbEIseUJBQWlCLEdBQzFCLENBQUMsS0FBNkI7SUFDMUIsTUFBTSxDQUFDLENBQUMscUJBQUMsS0FBSyxJQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFNLEVBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUUsRUFBRyxDQUFDLENBQUM7QUFDeEcsQ0FBQyxDQUFDIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgU3RyaW5nRmllbGRFZGl0b3JQcm9wcyB7XG4gICAgb25DaGFuZ2U6IChzOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgdmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFN0cmluZ0ZpZWxkRWRpdG9yIDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFN0cmluZ0ZpZWxkRWRpdG9yUHJvcHM+ID1cbiAgICAocHJvcHM6IFN0cmluZ0ZpZWxkRWRpdG9yUHJvcHMpICA9PiB7XG4gICAgICAgIHJldHVybiAoPGlucHV0IHR5cGU9J3RleHQnIHZhbHVlPXtwcm9wcy52YWx1ZX0gb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9IC8+KTtcbiAgICB9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9lbnRpdHlfZWRpdG9yL1N0cmluZ0ZpZWxkRWRpdG9yLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 40 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst lodash_1 = __webpack_require__(20);\r\nexports.EntityFieldEditor = (props) => {\r\n    const options = props.entities.map((entity) => ({ key: entity.label, value: entity.uid }));\r\n    let selectedOption = options.find((opt) => opt.value == props.value);\r\n    if (selectedOption === undefined) {\r\n        selectedOption = { key: '', value: '' };\r\n    }\r\n    return (React.createElement(ComboDropdown_1.ComboDropdown, {options: options, typeName: 'entity type', allowNew: false, value: selectedOption, setValue: (val) => props.onChange(val.value), createNewValue: lodash_1.noop}));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9FbnRpdHlGaWVsZEVkaXRvci50c3g/ODhhNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsNENBQW1ELEVBQWtCLENBQUM7QUFFdEUscUNBQXFCLEVBQVEsQ0FBQztBQVNqQix5QkFBaUIsR0FDMUIsQ0FBQyxLQUE2QjtJQUUxQixNQUFNLE9BQU8sR0FBMkIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBRWxILElBQUksY0FBYyxHQUFxQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXZHLEVBQUUsQ0FBQyxDQUFDLGNBQWMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQy9CLGNBQWMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxNQUFNLENBQUMsQ0FDRixvQkFBQyw2QkFBYSxHQUNYLE9BQU8sRUFBRSxPQUFRLEVBQ2pCLFFBQVEsRUFBQyxhQUFhLEVBQ3RCLFFBQVEsRUFBRSxLQUFNLEVBQ2hCLEtBQUssRUFBRSxjQUFlLEVBQ3RCLFFBQVEsRUFBRSxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUUsRUFDN0MsY0FBYyxFQUFFLGFBQUssRUFBRyxDQUMvQixDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiZmlsZSI6IjQwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29tYm9Ecm9wZG93biwgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2RhdGFtb2RlbC9lbnRpdHknO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cblxuaW50ZXJmYWNlIEVudGl0eUZpZWxkRWRpdG9yUHJvcHMge1xuICAgIG9uQ2hhbmdlOiAodmFsOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICBlbnRpdGllczogRW50aXR5W107XG59XG5cbmV4cG9ydCBjb25zdCBFbnRpdHlGaWVsZEVkaXRvciA6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxFbnRpdHlGaWVsZEVkaXRvclByb3BzPiA9XG4gICAgKHByb3BzOiBFbnRpdHlGaWVsZEVkaXRvclByb3BzKSAgPT4ge1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgOiBDb21ib0Ryb3Bkb3duT3B0aW9uW10gPSBwcm9wcy5lbnRpdGllcy5tYXAoKGVudGl0eSkgPT4gKHsga2V5OiBlbnRpdHkubGFiZWwsIHZhbHVlOiBlbnRpdHkudWlkfSkpO1xuXG4gICAgICAgIGxldCBzZWxlY3RlZE9wdGlvbiA6IENvbWJvRHJvcGRvd25PcHRpb24gfCB1bmRlZmluZWQgPSBvcHRpb25zLmZpbmQoKG9wdCkgPT4gb3B0LnZhbHVlID09IHByb3BzLnZhbHVlKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb24gPSB7IGtleTogJycsIHZhbHVlOiAnJ307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIDxDb21ib0Ryb3Bkb3duXG4gICAgICAgICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICAgICAgICB0eXBlTmFtZT0nZW50aXR5IHR5cGUnXG4gICAgICAgICAgICAgICAgYWxsb3dOZXc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZE9wdGlvbn1cbiAgICAgICAgICAgICAgICBzZXRWYWx1ZT17KHZhbCkgPT4gcHJvcHMub25DaGFuZ2UodmFsLnZhbHVlKX1cbiAgICAgICAgICAgICAgICBjcmVhdGVOZXdWYWx1ZT17bm9vcH0gLz5cbiAgICAgICAgKTtcbiAgICB9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9lbnRpdHlfZWRpdG9yL0VudGl0eUZpZWxkRWRpdG9yLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 41 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst DatePickerDropdown_1 = __webpack_require__(42);\r\nexports.DateFieldEditor = (props) => {\r\n    return (React.createElement(\"div\", {className: 'date-selector'}, \r\n        React.createElement(DatePickerDropdown_1.DatePickerDropdown, {value: props.value, setValue: props.onChange})\r\n    ));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9EYXRlRmllbGRFZGl0b3IudHN4Pzc1YjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBRS9CLGlEQUFtQyxFQUE4QixDQUFDO0FBT3JELHVCQUFlLEdBQ3hCLENBQUMsS0FBMkI7SUFDeEIsTUFBTSxDQUFDLENBQ1AscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxlQUFlO1FBQzFCLG9CQUFDLHVDQUFrQixHQUNmLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUNuQixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVMsRUFDM0I7S0FDQSxDQUFDLENBQUM7QUFDWixDQUFDLENBQUMiLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgPERlc2NyaXB0aW9uIE1pc3Npbmc+XG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERhdGVQaWNrZXJEcm9wZG93biB9IGZyb20gJy4uL2ZpZWxkcy9EYXRlUGlja2VyRHJvcGRvd24nO1xuXG5pbnRlcmZhY2UgRGF0ZUZpZWxkRWRpdG9yUHJvcHMge1xuICAgIG9uQ2hhbmdlOiAoczogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBEYXRlRmllbGRFZGl0b3IgOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8RGF0ZUZpZWxkRWRpdG9yUHJvcHM+ID1cbiAgICAocHJvcHM6IERhdGVGaWVsZEVkaXRvclByb3BzKSAgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGF0ZS1zZWxlY3Rvcic+XG4gICAgICAgICAgICA8RGF0ZVBpY2tlckRyb3Bkb3duXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgIHNldFZhbHVlPXtwcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pik7XG4gICAgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9EYXRlRmllbGRFZGl0b3IudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 42 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst moment = __webpack_require__(43);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst formatDate_1 = __webpack_require__(44);\r\nclass DatePickerDropdown extends React.Component {\r\n    constructor() {\r\n        super();\r\n        //TODO: should be false\r\n        this.state = {\r\n            showingDropDown: false\r\n        };\r\n        if (document !== undefined) {\r\n            this.boundWindowClick = () => {\r\n                if (!this.ignoreGlobalClick) {\r\n                    this.setState({\r\n                        showingDropDown: false\r\n                    });\r\n                }\r\n                else {\r\n                    this.ignoreGlobalClick = false;\r\n                }\r\n            };\r\n            document.body.addEventListener('click', this.boundWindowClick);\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.ignoreBlur = false;\r\n        this.ignoreClick = false;\r\n        this.ignoreGlobalClick = false;\r\n    }\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener('click', this.boundWindowClick);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        // this.updateFilter(newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString, newProps);\r\n        // this.setState({\r\n        //     searchString: newProps.value.key !== this.props.value.key ? newProps.value.key : this.state.searchString,\r\n        //     selected: newProps.value,\r\n        //     options: newProps.options\r\n        // });\r\n    }\r\n    //should be false\r\n    handleInputBlur() {\r\n        if (!this.ignoreBlur) {\r\n            this.setState({\r\n                showingDropDown: false\r\n            });\r\n        }\r\n        else {\r\n            this.ignoreBlur = false;\r\n        }\r\n    }\r\n    handleInputFocus() {\r\n        if (this.ignoreBlur) {\r\n            this.ignoreBlur = true;\r\n            return;\r\n        }\r\n        // We don't want `selectItemFromMouse` to trigger when\r\n        // the user clicks into the input to focus it, so set this\r\n        // flag to cancel out the logic in `handleInputClick`.\r\n        // The event order is:  MouseDown -> Focus -> MouseUp -> Click\r\n        this.ignoreClick = true;\r\n        this.setState({ showingDropDown: true });\r\n    }\r\n    handleInputClick() {\r\n        // Input will not be focused if it's disabled\r\n        if (this.isInputFocused() && this.state.showingDropDown === false) {\r\n            this.setState({ showingDropDown: true });\r\n        }\r\n        else {\r\n            //  if (this.state.highlightedIndex !== null && !this.ignoreClick) {\r\n            //      this.selectItemFromMouse(this.state.filteredOptions[this.state.highlightedIndex]);\r\n            //  } else {\r\n            this.ignoreClick = false;\r\n        }\r\n    }\r\n    selectItemFromMouse(item) {\r\n        this.setState({\r\n            showingDropDown: false\r\n        }, () => {\r\n            this.props.setValue(item);\r\n        });\r\n    }\r\n    isInputFocused() {\r\n        const el = this.refs.datePickerDropDownInputBox;\r\n        return el.ownerDocument && (el === el.ownerDocument.activeElement);\r\n    }\r\n    onDropdownClick() {\r\n        this.ignoreBlur = true;\r\n        this.ignoreGlobalClick = true;\r\n        console.log('clicked');\r\n    }\r\n    rangeTypeChanged(rangeType) {\r\n        this.props.setValue(rangeType + this.props.value.substr(1));\r\n    }\r\n    yearChanged(e) {\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        let yearVal = e.target.value.substr(0, 4).replace(/[^0-9]/g, '');\r\n        for (let i = yearVal.length; i < 4; i += 1) {\r\n            yearVal += 'X';\r\n        }\r\n        this.props.setValue(base.substr(0, 1) + yearVal + base.substr(5));\r\n    }\r\n    monthChanged(e) {\r\n        this.ignoreGlobalClick = true;\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        let monthVal = e.target.value.substr(0, 2);\r\n        this.props.setValue(base.substr(0, 5) + monthVal + base.substr(7));\r\n    }\r\n    dayChanged(e) {\r\n        const base = this.props.value.length === 9 ? this.props.value : '=XXXX0000';\r\n        let dayVal = e.target.value.substr(0, 2).replace(/[^0-9]/g, '');\r\n        dayVal = lodash_1.padStart(dayVal, 2, '0');\r\n        this.props.setValue(base.substr(0, 7) + dayVal);\r\n    }\r\n    render() {\r\n        let rangeOption = this.props.value.substr(0, 1);\r\n        if (['<', '>', '='].indexOf(rangeOption) === -1) {\r\n            rangeOption = '=';\r\n        }\r\n        const rangeOptionClassName = (val) => {\r\n            if (val === rangeOption) {\r\n                return 'range-option selected';\r\n            }\r\n            else {\r\n                return 'range-option';\r\n            }\r\n        };\r\n        const year = this.props.value.substr(1, 4).replace(/X/g, '');\r\n        const month = this.props.value.substr(5, 2);\r\n        const day = this.props.value[7] === '0' ? this.props.value[8] === '0' ?\r\n            ''\r\n            : this.props.value.substr(8, 1)\r\n            : this.props.value.substr(7, 2);\r\n        const displayValue = formatDate_1.formatDate(this.props.value);\r\n        return (React.createElement(\"div\", {className: 'combo-dropdown'}, \r\n            React.createElement(\"div\", null, \r\n                React.createElement(\"input\", {type: 'text', readOnly: true, ref: 'datePickerDropDownInputBox', className: 'search-input', value: displayValue, onBlur: this.handleInputBlur.bind(this), onFocus: this.handleInputFocus.bind(this), onClick: this.handleInputClick.bind(this)})\r\n            ), \r\n            this.state.showingDropDown ? (React.createElement(\"div\", {className: 'dropdown'}, \r\n                React.createElement(\"div\", {className: 'date-picker-dropdown', onMouseDown: this.onDropdownClick.bind(this)}, \r\n                    React.createElement(\"section\", {className: 'range-type'}, \r\n                        React.createElement(\"div\", {className: rangeOptionClassName('<'), onClick: () => this.rangeTypeChanged('<')}, \"Before\"), \r\n                        React.createElement(\"div\", {className: rangeOptionClassName('='), onClick: () => this.rangeTypeChanged('=')}, \"Exactly\"), \r\n                        React.createElement(\"div\", {className: rangeOptionClassName('>'), onClick: () => this.rangeTypeChanged('>')}, \"After\")), \r\n                    React.createElement(\"section\", {className: 'date-select'}, \r\n                        React.createElement(\"div\", {className: 'date-selector day'}, \r\n                            React.createElement(\"label\", {className: 'small'}, \"Day\"), \r\n                            React.createElement(\"input\", {type: 'text', maxLength: 2, value: day, onChange: this.dayChanged.bind(this)})), \r\n                        React.createElement(\"div\", {className: 'date-selector month'}, \r\n                            React.createElement(\"label\", {className: 'small'}, \"Month\"), \r\n                            React.createElement(\"select\", {onChange: this.monthChanged.bind(this), value: month}, \r\n                                React.createElement(\"option\", {value: '00'}, \"Unknown\"), \r\n                                moment.months().map((month, i) => (React.createElement(\"option\", {key: `option-${month}`, value: lodash_1.padStart((i + 1).toString(), 2, '0')}, month))))), \r\n                        React.createElement(\"div\", {className: 'date-selector year'}, \r\n                            React.createElement(\"label\", {className: 'small'}, \"Year\"), \r\n                            React.createElement(\"input\", {type: 'text', maxLength: 4, value: year, onChange: this.yearChanged.bind(this)}))))\r\n            )) : null));\r\n    }\r\n}\r\nexports.DatePickerDropdown = DatePickerDropdown;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0RhdGVQaWNrZXJEcm9wZG93bi50c3g/YmQyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsTUFBWSxNQUFNLHVCQUFNLEVBQVEsQ0FBQztBQUVqQyxxQ0FBeUIsRUFBUSxDQUFDO0FBRWxDLHlDQUEyQixFQUF5QixDQUFDO0FBV3JELGlDQUEyQyxLQUFLLENBQUMsU0FBUztJQU90RDtRQUNJLE9BQU8sQ0FBQztRQUVSLHVCQUF1QjtRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsZUFBZSxFQUFFLEtBQUs7U0FDekIsQ0FBQztRQUVGLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRztnQkFDcEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO29CQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDO3dCQUNWLGVBQWUsRUFBRSxLQUFLO3FCQUN6QixDQUFDLENBQUM7Z0JBQ1AsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO2dCQUNuQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDO1lBRUYsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkUsQ0FBQztJQUNMLENBQUM7SUFFTSxrQkFBa0I7UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztJQUNuQyxDQUFDO0lBRU0sb0JBQW9C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QVM7Z0NBQ2xDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQy9CLHFCQUFDLE1BQU0sSUFBQyxHQUFHLEVBQUUsVUFBVSxLQUFLLEVBQUcsRUFBQyxLQUFLLEVBQUUsaUJBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFFLEdBQUUsS0FBTSxDQUFTLENBQ2hHLENBQUUsQ0FDRSxDQUNQO3dCQUNOLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsb0JBQW9COzRCQUMvQixxQkFBQyxLQUFLLElBQUMsU0FBUyxFQUFDLE9BQU8sR0FBQyxNQUFJLENBQVE7NEJBQ3JDLHFCQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLFNBQVMsRUFBRSxDQUFFLEVBQUMsS0FBSyxFQUFFLElBQUssRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLEVBQUcsQ0FDckYsQ0FDQSxDQUNSO2FBQ0osQ0FDVCxHQUFHLElBQUssQ0FDUCxDQUNULENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQTNNWSwwQkFBa0IscUJBMk05QiIsImZpbGUiOiI0Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5pbXBvcnQgeyBwYWRTdGFydCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi9oZWxwZXIvZm9ybWF0RGF0ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZVBpY2tlckRyb3Bkb3duUHJvcHMge1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgc2V0VmFsdWU6IChzOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBEYXRlUGlja2VyRHJvcGRvd25TdGF0ZSB7XG4gICAgc2hvd2luZ0Ryb3BEb3duOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0ZVBpY2tlckRyb3Bkb3duPFQ+IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERhdGVQaWNrZXJEcm9wZG93blByb3BzLCBEYXRlUGlja2VyRHJvcGRvd25TdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBpZ25vcmVCbHVyO1xuICAgIHByaXZhdGUgaWdub3JlQ2xpY2s7XG4gICAgcHJpdmF0ZSBpZ25vcmVHbG9iYWxDbGljaztcbiAgICBwcml2YXRlIGJvdW5kV2luZG93Q2xpY2s7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvL1RPRE86IHNob3VsZCBiZSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvd2luZ0Ryb3BEb3duOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkb2N1bWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kV2luZG93Q2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlnbm9yZUdsb2JhbENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd2luZ0Ryb3BEb3duOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlnbm9yZUdsb2JhbENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRXaW5kb3dDbGljayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB0aGlzLmlnbm9yZUJsdXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pZ25vcmVDbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlnbm9yZUdsb2JhbENsaWNrID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZFdpbmRvd0NsaWNrKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wczogRGF0ZVBpY2tlckRyb3Bkb3duUHJvcHMpIHtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVGaWx0ZXIobmV3UHJvcHMudmFsdWUua2V5ICE9PSB0aGlzLnByb3BzLnZhbHVlLmtleSA/IG5ld1Byb3BzLnZhbHVlLmtleSA6IHRoaXMuc3RhdGUuc2VhcmNoU3RyaW5nLCBuZXdQcm9wcyk7XG4gICAgICAgIC8vIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAvLyAgICAgc2VhcmNoU3RyaW5nOiBuZXdQcm9wcy52YWx1ZS5rZXkgIT09IHRoaXMucHJvcHMudmFsdWUua2V5ID8gbmV3UHJvcHMudmFsdWUua2V5IDogdGhpcy5zdGF0ZS5zZWFyY2hTdHJpbmcsXG4gICAgICAgIC8vICAgICBzZWxlY3RlZDogbmV3UHJvcHMudmFsdWUsXG4gICAgICAgIC8vICAgICBvcHRpb25zOiBuZXdQcm9wcy5vcHRpb25zXG4gICAgICAgIC8vIH0pO1xuICAgIH1cblxuICAgIC8vc2hvdWxkIGJlIGZhbHNlXG4gICAgcHVibGljIGhhbmRsZUlucHV0Qmx1cigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlnbm9yZUJsdXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNob3dpbmdEcm9wRG93bjogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVCbHVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlSW5wdXRGb2N1cyAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJsdXIpIHtcbiAgICAgICAgdGhpcy5pZ25vcmVCbHVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgYHNlbGVjdEl0ZW1Gcm9tTW91c2VgIHRvIHRyaWdnZXIgd2hlblxuICAgICAgICAvLyB0aGUgdXNlciBjbGlja3MgaW50byB0aGUgaW5wdXQgdG8gZm9jdXMgaXQsIHNvIHNldCB0aGlzXG4gICAgICAgIC8vIGZsYWcgdG8gY2FuY2VsIG91dCB0aGUgbG9naWMgaW4gYGhhbmRsZUlucHV0Q2xpY2tgLlxuICAgICAgICAvLyBUaGUgZXZlbnQgb3JkZXIgaXM6ICBNb3VzZURvd24gLT4gRm9jdXMgLT4gTW91c2VVcCAtPiBDbGlja1xuICAgICAgICB0aGlzLmlnbm9yZUNsaWNrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dpbmdEcm9wRG93bjogdHJ1ZSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVJbnB1dENsaWNrICgpIHtcbiAgICAvLyBJbnB1dCB3aWxsIG5vdCBiZSBmb2N1c2VkIGlmIGl0J3MgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5pc0lucHV0Rm9jdXNlZCgpICYmIHRoaXMuc3RhdGUuc2hvd2luZ0Ryb3BEb3duID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd2luZ0Ryb3BEb3duOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICBpZiAodGhpcy5zdGF0ZS5oaWdobGlnaHRlZEluZGV4ICE9PSBudWxsICYmICF0aGlzLmlnbm9yZUNsaWNrKSB7XG4gICAgICAgIC8vICAgICAgdGhpcy5zZWxlY3RJdGVtRnJvbU1vdXNlKHRoaXMuc3RhdGUuZmlsdGVyZWRPcHRpb25zW3RoaXMuc3RhdGUuaGlnaGxpZ2h0ZWRJbmRleF0pO1xuICAgICAgICAvLyAgfSBlbHNlIHtcbiAgICAgICAgICAgICB0aGlzLmlnbm9yZUNsaWNrID0gZmFsc2U7XG4gICAgICAgIC8vICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNlbGVjdEl0ZW1Gcm9tTW91c2UgKGl0ZW0pIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dpbmdEcm9wRG93bjogZmFsc2VcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNldFZhbHVlKGl0ZW0pO1xuICAgIH0pXG4gIH1cblxuICAgcHVibGljIGlzSW5wdXRGb2N1c2VkICgpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMucmVmcy5kYXRlUGlja2VyRHJvcERvd25JbnB1dEJveDtcbiAgICByZXR1cm4gZWwub3duZXJEb2N1bWVudCAmJiAoZWwgPT09IGVsLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gIH1cblxuICBwdWJsaWMgb25Ecm9wZG93bkNsaWNrKCkge1xuICAgICAgdGhpcy5pZ25vcmVCbHVyID0gdHJ1ZTtcbiAgICAgIHRoaXMuaWdub3JlR2xvYmFsQ2xpY2sgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQnKTtcbiAgfVxuXG4gIHB1YmxpYyByYW5nZVR5cGVDaGFuZ2VkKHJhbmdlVHlwZTogc3RyaW5nKSB7XG4gICAgICAgdGhpcy5wcm9wcy5zZXRWYWx1ZShyYW5nZVR5cGUgKyB0aGlzLnByb3BzLnZhbHVlLnN1YnN0cigxKSk7XG4gIH1cblxuICBwdWJsaWMgeWVhckNoYW5nZWQoZTogUmVhY3QuRm9ybUV2ZW50KSB7XG4gICAgICBjb25zdCBiYXNlID0gdGhpcy5wcm9wcy52YWx1ZS5sZW5ndGggPT09IDkgPyB0aGlzLnByb3BzLnZhbHVlIDogJz1YWFhYMDAwMCc7XG4gICAgICBsZXQgeWVhclZhbCA6IHN0cmluZyA9IGUudGFyZ2V0LnZhbHVlLnN1YnN0cigwLCA0KS5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xuICAgICAgZm9yIChsZXQgaSA9IHllYXJWYWwubGVuZ3RoOyBpIDwgNDsgaSArPSAxKSB7XG4gICAgICAgICAgeWVhclZhbCArPSAnWCc7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLnNldFZhbHVlKGJhc2Uuc3Vic3RyKDAsIDEpICsgeWVhclZhbCArIGJhc2Uuc3Vic3RyKDUpKTtcbiAgfVxuXG4gIHB1YmxpYyBtb250aENoYW5nZWQoZTogUmVhY3QuRm9ybUV2ZW50KSB7XG4gICAgICB0aGlzLmlnbm9yZUdsb2JhbENsaWNrID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLnByb3BzLnZhbHVlLmxlbmd0aCA9PT0gOSA/IHRoaXMucHJvcHMudmFsdWUgOiAnPVhYWFgwMDAwJztcbiAgICAgIGxldCBtb250aFZhbCA6IHN0cmluZyA9IGUudGFyZ2V0LnZhbHVlLnN1YnN0cigwLCAyKTtcbiAgICAgIHRoaXMucHJvcHMuc2V0VmFsdWUoYmFzZS5zdWJzdHIoMCwgNSkgKyBtb250aFZhbCArIGJhc2Uuc3Vic3RyKDcpKTtcbiAgfVxuXG4gIHB1YmxpYyBkYXlDaGFuZ2VkKGU6IFJlYWN0LkZvcm1FdmVudCkge1xuICAgICAgY29uc3QgYmFzZSA9IHRoaXMucHJvcHMudmFsdWUubGVuZ3RoID09PSA5ID8gdGhpcy5wcm9wcy52YWx1ZSA6ICc9WFhYWDAwMDAnO1xuICAgICAgbGV0IGRheVZhbCA6IHN0cmluZyA9IGUudGFyZ2V0LnZhbHVlLnN1YnN0cigwLCAyKS5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xuICAgICAgZGF5VmFsID0gcGFkU3RhcnQoZGF5VmFsLCAyLCAnMCcpO1xuICAgICAgdGhpcy5wcm9wcy5zZXRWYWx1ZSggYmFzZS5zdWJzdHIoMCwgNykgKyBkYXlWYWwpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgbGV0IHJhbmdlT3B0aW9uID0gdGhpcy5wcm9wcy52YWx1ZS5zdWJzdHIoMCwgMSk7XG5cbiAgICAgIGlmIChbJzwnLCAnPicsICc9J10uaW5kZXhPZihyYW5nZU9wdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgcmFuZ2VPcHRpb24gPSAnPSc7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJhbmdlT3B0aW9uQ2xhc3NOYW1lID0gKHZhbDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gcmFuZ2VPcHRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdyYW5nZS1vcHRpb24gc2VsZWN0ZWQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAncmFuZ2Utb3B0aW9uJztcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB5ZWFyID0gdGhpcy5wcm9wcy52YWx1ZS5zdWJzdHIoMSwgNCkucmVwbGFjZSgvWC9nLCAnJyk7XG4gICAgICBjb25zdCBtb250aCA9IHRoaXMucHJvcHMudmFsdWUuc3Vic3RyKDUsIDIpO1xuICAgICAgY29uc3QgZGF5ID0gdGhpcy5wcm9wcy52YWx1ZVs3XSA9PT0gJzAnID8gdGhpcy5wcm9wcy52YWx1ZVs4XSA9PT0gJzAnID9cbiAgICAgICAgJydcbiAgICAgICAgOiB0aGlzLnByb3BzLnZhbHVlLnN1YnN0cig4LCAxKVxuICAgICAgICA6IHRoaXMucHJvcHMudmFsdWUuc3Vic3RyKDcsIDIpO1xuXG4gICAgICAgY29uc3QgZGlzcGxheVZhbHVlID0gZm9ybWF0RGF0ZSh0aGlzLnByb3BzLnZhbHVlKTtcblxuICAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21iby1kcm9wZG93bic+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj0nZGF0ZVBpY2tlckRyb3BEb3duSW5wdXRCb3gnXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkaXNwbGF5VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMuaGFuZGxlSW5wdXRCbHVyLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXt0aGlzLmhhbmRsZUlucHV0Rm9jdXMuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3dpbmdEcm9wRG93biA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Ryb3Bkb3duJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkYXRlLXBpY2tlci1kcm9wZG93bicgb25Nb3VzZURvd249e3RoaXMub25Ecm9wZG93bkNsaWNrLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0ncmFuZ2UtdHlwZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtyYW5nZU9wdGlvbkNsYXNzTmFtZSgnPCcpfSBvbkNsaWNrPXsoKSA9PiB0aGlzLnJhbmdlVHlwZUNoYW5nZWQoJzwnKX0+QmVmb3JlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtyYW5nZU9wdGlvbkNsYXNzTmFtZSgnPScpfSBvbkNsaWNrPXsoKSA9PiB0aGlzLnJhbmdlVHlwZUNoYW5nZWQoJz0nKX0+RXhhY3RseTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cmFuZ2VPcHRpb25DbGFzc05hbWUoJz4nKX0gb25DbGljaz17KCkgPT4gdGhpcy5yYW5nZVR5cGVDaGFuZ2VkKCc+Jyl9PkFmdGVyPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0nZGF0ZS1zZWxlY3QnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGF0ZS1zZWxlY3RvciBkYXknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nc21hbGwnPkRheTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbWF4TGVuZ3RoPXsyfSB2YWx1ZT17ZGF5fSBvbkNoYW5nZT17dGhpcy5kYXlDaGFuZ2VkLmJpbmQodGhpcyl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGF0ZS1zZWxlY3RvciBtb250aCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+TW9udGg8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBvbkNoYW5nZT17dGhpcy5tb250aENoYW5nZWQuYmluZCh0aGlzKX0gdmFsdWU9e21vbnRofT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPScwMCc+VW5rbm93bjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb21lbnQubW9udGhzKCkubWFwKChtb250aCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17YG9wdGlvbi0ke21vbnRofWB9IHZhbHVlPXtwYWRTdGFydCgoaSArIDEpLnRvU3RyaW5nKCksIDIsICcwJyl9Pnttb250aH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RhdGUtc2VsZWN0b3IgeWVhcic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+WWVhcjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbWF4TGVuZ3RoPXs0fSB2YWx1ZT17eWVhcn0gb25DaGFuZ2U9e3RoaXMueWVhckNoYW5nZWQuYmluZCh0aGlzKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0RhdGVQaWNrZXJEcm9wZG93bi50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 43 */
/***/ function(module, exports) {

	eval("module.exports = require(\"moment\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9hODhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9tZW50XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibW9tZW50XCJcbi8vIG1vZHVsZSBpZCA9IDQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 44 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst moment = __webpack_require__(43);\r\nexports.formatDate = (str) => {\r\n    if (str === null || str.length === 0) {\r\n        return '';\r\n    }\r\n    const modifier = {\r\n        '=': '',\r\n        '>': 'After ',\r\n        '<': 'Before '\r\n    }[str[0]];\r\n    const year = str.substr(1, 4);\r\n    const rawMonth = parseInt(str.substr(5, 2)) - 1;\r\n    const month = rawMonth === -1 || isNaN(rawMonth) ? 'Unknown' : moment.months()[rawMonth];\r\n    const rawDay = parseInt(str.substr(7, 2));\r\n    const day = rawDay > 0 ? rawDay : '';\r\n    return `${modifier} ${day} ${month} ${year}`;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2hlbHBlci9mb3JtYXREYXRlLnRzPzIzYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLE1BQU0sdUJBQU0sRUFBUSxDQUFDO0FBRXBCLGtCQUFVLEdBQWtDLENBQUMsR0FBa0I7SUFFdEUsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNLFFBQVEsR0FBRztRQUNYLEdBQUcsRUFBRSxFQUFFO1FBQ1AsR0FBRyxFQUFFLFFBQVE7UUFDYixHQUFHLEVBQUUsU0FBUztLQUNqQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRVYsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFOUIsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sS0FBSyxHQUFHLFFBQVEsS0FBSyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUV6RixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQyxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFHckMsTUFBTSxDQUFDLEdBQUcsUUFBUSxJQUFJLEdBQUcsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7QUFDckQsQ0FBQyxDQUFDIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXREYXRlIDogKHM6IHN0cmluZyB8IG51bGwpID0+IHN0cmluZyA9IChzdHI6IHN0cmluZyB8IG51bGwpID0+IHtcblxuICAgICAgaWYgKHN0ciA9PT0gbnVsbCB8fCBzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAgICAgICAgICc9JzogJycsXG4gICAgICAgICAgICAnPic6ICdBZnRlciAnLFxuICAgICAgICAgICAgJzwnOiAnQmVmb3JlICdcbiAgICAgICAgfVtzdHJbMF1dO1xuXG4gICAgICAgIGNvbnN0IHllYXIgPSBzdHIuc3Vic3RyKDEsIDQpO1xuXG4gICAgICAgIGNvbnN0IHJhd01vbnRoID0gcGFyc2VJbnQoc3RyLnN1YnN0cig1LCAyKSkgLSAxO1xuICAgICAgICBjb25zdCBtb250aCA9IHJhd01vbnRoID09PSAtMSB8fCBpc05hTihyYXdNb250aCkgPyAnVW5rbm93bicgOiBtb21lbnQubW9udGhzKClbcmF3TW9udGhdO1xuXG4gICAgICAgIGNvbnN0IHJhd0RheSA9IHBhcnNlSW50KHN0ci5zdWJzdHIoNywgMikpO1xuICAgICAgICBjb25zdCBkYXkgPSByYXdEYXkgPiAwID8gcmF3RGF5IDogJyc7XG5cblxuICAgICAgICByZXR1cm4gYCR7bW9kaWZpZXJ9ICR7ZGF5fSAke21vbnRofSAke3llYXJ9YDtcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9oZWxwZXIvZm9ybWF0RGF0ZS50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 45 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.IntegerFieldEditor = (props) => {\r\n    return (React.createElement(\"input\", {type: 'number', value: props.value, onChange: (e) => props.onChange(e.target.value)}));\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9JbnRlZ2VyRmllbGRFZGl0b3IudHN4PzFhOTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBT2xCLDBCQUFrQixHQUMzQixDQUFDLEtBQThCO0lBQzNCLE1BQU0sQ0FBQyxDQUFDLHFCQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFFLEVBQUcsQ0FBQyxDQUFDO0FBQzFHLENBQUMsQ0FBQyIsImZpbGUiOiI0NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEludGVnZXJGaWVsZEVkaXRvclByb3BzIHtcbiAgICBvbkNoYW5nZTogKHM6IHN0cmluZykgPT4gdm9pZDtcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgSW50ZWdlckZpZWxkRWRpdG9yIDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PEludGVnZXJGaWVsZEVkaXRvclByb3BzPiA9XG4gICAgKHByb3BzOiBJbnRlZ2VyRmllbGRFZGl0b3JQcm9wcykgID0+IHtcbiAgICAgICAgcmV0dXJuICg8aW5wdXQgdHlwZT0nbnVtYmVyJyB2YWx1ZT17cHJvcHMudmFsdWV9IG9uQ2hhbmdlPXsoZSkgPT4gcHJvcHMub25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfSAvPik7XG4gICAgfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZW50aXR5X2VkaXRvci9JbnRlZ2VyRmllbGRFZGl0b3IudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 46 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Signaller_1 = __webpack_require__(21);\r\nexports.AddTabButton = (props, context) => {\r\n    if (props.dataStore.tabs[props.tabType] !== undefined\r\n        && props.dataStore.tabs[props.tabType].has(`${props.tabType}-${props.uid}`)) {\r\n        return (React.createElement(\"i\", {className: 'fa fa-folder-open-o add button', title: 'Open item', onClick: () => context.router.transitionTo(`/edit/${props.tabType}/${props.uid}`)}, \" \"));\r\n    }\r\n    return (React.createElement(\"i\", {className: 'icon-list-add add button', title: 'Add to list', onClick: () => Signaller_1.createTab.dispatch(props.tabType, props.uid, 'item', props.data)}));\r\n};\r\nexports.AddTabButton.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvQWRkVGFiQnV0dG9uLnRzeD9hYmFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUMvQix3Q0FBMEIsRUFBYyxDQUFDO0FBVTVCLG9CQUFZLEdBQ3JCLENBQUMsS0FBd0IsRUFBRSxPQUFZO0lBRW5DLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxTQUFTO1dBQzFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRixNQUFNLENBQUMsQ0FBQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGdDQUFnQyxFQUNqRCxLQUFLLEVBQUMsV0FBVyxFQUNqQixPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFTLEtBQUssQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFFLEdBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEcsQ0FBQztJQUVELE1BQU0sQ0FBQyxDQUNQLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsMEJBQTBCLEVBQ25DLEtBQUssRUFBQyxhQUFhLEVBQ25CLE9BQU8sRUFBRSxNQUFNLHFCQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBRSxFQUFLLENBQ2hHO0FBQUEsQ0FBQyxDQUFDO0FBRUgsb0JBQVksQ0FBQyxZQUFZLEdBQUc7SUFDeEIsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7Q0FDNUMsQ0FBQyIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVRhYiB9IGZyb20gJy4uL1NpZ25hbGxlcic7XG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi9EYXRhU3RvcmUnO1xuXG5pbnRlcmZhY2UgQWRkVGFiQnV0dG9uUHJvcHMge1xuICAgIHRhYlR5cGU6IHN0cmluZztcbiAgICB1aWQ6IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBkYXRhPzogYW55O1xufVxuXG5leHBvcnQgY29uc3QgQWRkVGFiQnV0dG9uIDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PEFkZFRhYkJ1dHRvblByb3BzPiA9XG4gICAgKHByb3BzOiBBZGRUYWJCdXR0b25Qcm9wcywgY29udGV4dDogYW55KSA9PiB7XG5cbiAgICAgICAgaWYgKHByb3BzLmRhdGFTdG9yZS50YWJzW3Byb3BzLnRhYlR5cGVdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAmJiBwcm9wcy5kYXRhU3RvcmUudGFic1twcm9wcy50YWJUeXBlXS5oYXMoYCR7cHJvcHMudGFiVHlwZX0tJHtwcm9wcy51aWR9YCkpIHtcbiAgICAgICAgICAgIHJldHVybiAoPGkgY2xhc3NOYW1lPSdmYSBmYS1mb2xkZXItb3Blbi1vIGFkZCBidXR0b24nXG4gICAgICAgICAgICAgICAgdGl0bGU9J09wZW4gaXRlbSdcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb250ZXh0LnJvdXRlci50cmFuc2l0aW9uVG8oYC9lZGl0LyR7cHJvcHMudGFiVHlwZX0vJHtwcm9wcy51aWR9YCl9PiA8L2k+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIDxpIGNsYXNzTmFtZT0naWNvbi1saXN0LWFkZCBhZGQgYnV0dG9uJ1xuICAgICAgICAgICAgdGl0bGU9J0FkZCB0byBsaXN0J1xuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY3JlYXRlVGFiLmRpc3BhdGNoKHByb3BzLnRhYlR5cGUsIHByb3BzLnVpZCwgJ2l0ZW0nLCBwcm9wcy5kYXRhKX0+PC9pPlxuKX07XG5cbkFkZFRhYkJ1dHRvbi5jb250ZXh0VHlwZXMgPSB7XG4gICAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvQWRkVGFiQnV0dG9uLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 47 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nconst React = __webpack_require__(2);\r\nvar EditableFieldComponent_1 = __webpack_require__(32);\r\nexports.EditableFieldComponent = EditableFieldComponent_1.EditableFieldComponent;\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nexports.EditableComboDropdown = (props) => {\r\n    if (props.edit) {\r\n        return (React.createElement(\"div\", null, \r\n            React.createElement(ComboDropdown_1.ComboDropdown, __assign({}, props.comboSettings, {value: props.value, setValue: props.onChange, allowNew: false, createNewValue: () => { }})), \r\n            React.createElement(\"button\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-check', onClick: props.acceptChanges, \"aria-hidden\": 'true'})\r\n            ), \r\n            React.createElement(\"button\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true', onClick: props.cancelChanges})\r\n            )));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", null, \r\n            props.value !== null && props.value.key.length > 0 ? props.value.key\r\n                : (React.createElement(\"em\", null, \"No value\")), \r\n            React.createElement(\"sup\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: props.setEdit})\r\n            )));\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlQ29tYm9Ecm9wZG93bi50c3g/N2U3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOzs7Ozs7Ozs7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixtREFBdUMsRUFBa0MsQ0FBQztBQUFqRSxpRkFBaUU7QUFDMUUsNENBQXVFLEVBQWtCLENBQUM7QUFNN0UsNkJBQXFCLEdBQUcsQ0FBQyxLQUFpQztJQUVuRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNiLE1BQU0sQ0FBQyxDQUFDLHFCQUFDLEdBQUc7WUFDUixvQkFBQyw2QkFBYSxlQUFLLEtBQUssQ0FBQyxhQUFhLEdBQ2xDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUNuQixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVMsRUFDekIsUUFBUSxFQUFFLEtBQU0sRUFDaEIsY0FBYyxFQUFFLFFBQU8sQ0FBRSxHQUFHO1lBQ2hDLHFCQUFDLE1BQU07Z0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxhQUFhLEVBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxhQUFjLEdBQUMsV0FBVyxHQUFDLE1BQU0sRUFBSzthQUFTO1lBQ2pHLHFCQUFDLE1BQU07Z0JBQUMscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyxhQUFhLEdBQUMsV0FBVyxHQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLGFBQWMsRUFBSzthQUFTLENBQy9GLENBQ0wsQ0FBQztJQUNOLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLE1BQU0sQ0FBQyxDQUNILHFCQUFDLEdBQUc7WUFDQyxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRztrQkFDbkUsQ0FDRSxxQkFBQyxFQUFFLFNBQUMsVUFBUSxDQUFLLENBQ25CO1lBQ0YscUJBQUMsR0FBRztnQkFDQSxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLHVCQUF1QixFQUNoQyxLQUFLLEVBQUMsTUFBTSxHQUNaLFdBQVcsR0FBQyxNQUFNLEVBQ2xCLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBUSxFQUN2QjthQUNGLENBQ0osQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUMsQ0FBQyIsImZpbGUiOiI0Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVkaXRhYmxlU3ViZmllbGRQcm9wcyB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUZpZWxkQ29tcG9uZW50JztcbmV4cG9ydCB7IEVkaXRhYmxlRmllbGRDb21wb25lbnQgfSBmcm9tICcuLi9maWVsZHMvRWRpdGFibGVGaWVsZENvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21ib0Ryb3Bkb3duLCBDb21ib0Ryb3Bkb3duT3B0aW9uLCBDb21ib0Ryb3Bkb3duUHJvcHMgfSBmcm9tICcuLi9Db21ib0Ryb3Bkb3duJztcblxuaW50ZXJmYWNlIEVkaXRhYmxlQ29tYm9Ecm9wZG93blByb3BzIGV4dGVuZHMgRWRpdGFibGVTdWJmaWVsZFByb3BzPENvbWJvRHJvcGRvd25PcHRpb24+IHtcbiAgICBjb21ib1NldHRpbmdzOiBDb21ib0Ryb3Bkb3duUHJvcHM7XG59XG5cbmV4cG9ydCBjb25zdCBFZGl0YWJsZUNvbWJvRHJvcGRvd24gPSAocHJvcHM6IEVkaXRhYmxlQ29tYm9Ecm9wZG93blByb3BzKSA9PiB7XG4gXG4gICAgaWYgKHByb3BzLmVkaXQpIHtcbiAgICAgICAgcmV0dXJuICg8ZGl2PlxuICAgICAgICAgICAgPENvbWJvRHJvcGRvd24gey4uLnByb3BzLmNvbWJvU2V0dGluZ3N9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgIHNldFZhbHVlPXtwcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBhbGxvd05ldz17ZmFsc2V9XG4gICAgICAgICAgICAgICAgY3JlYXRlTmV3VmFsdWU9eygpID0+IHt9fSAvPlxuICAgICAgICAgICAgPGJ1dHRvbj48aSBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJyBvbkNsaWNrPXtwcm9wcy5hY2NlcHRDaGFuZ2VzfSBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbj48aSBjbGFzc05hbWU9J2ZhIGZhLXRpbWVzJyBhcmlhLWhpZGRlbj0ndHJ1ZScgb25DbGljaz17cHJvcHMuY2FuY2VsQ2hhbmdlc30+PC9pPjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICB7cHJvcHMudmFsdWUgIT09IG51bGwgJiYgcHJvcHMudmFsdWUua2V5Lmxlbmd0aCA+IDAgPyBwcm9wcy52YWx1ZS5rZXlcbiAgICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICAgICAgPGVtPk5vIHZhbHVlPC9lbT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxzdXA+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtcGVuY2lsLXNxdWFyZS1vJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0VkaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNldEVkaXR9PlxuICAgICAgICAgICAgICAgICAgICA8L2k+XG4gICAgICAgICAgICAgICAgPC9zdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59OyBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlQ29tYm9Ecm9wZG93bi50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 48 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\n// What can I do?\r\n// Entity Operations\r\n// - Delete the entity\r\n// - Merge the entity\r\n// - Split the entity\r\n// - Add 'same-as-ses' to the entity\r\n// Records\r\n// - Order records by type, source and date\r\n// - Add new records\r\n// - Adding a new predicate creates a new record with the\r\n//   entity set, the predicate set, the score set to 3, the period set to null, source set to null\r\n//   it also creates a blank entry in the records sub table based on the range of the predicate.\r\n// - New predicates must have a name. The domain is set to the current entitytype but can be changed\r\n//   to one of its parents. The range MUST be set.\r\n// Visualisations:\r\n// - Network graph of entity relationships\r\nclass EntityWorkspaceReferenceView extends React.Component {\r\n    constructor(props, context) {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: 'test', value: '' },\r\n            comboSearchValue: ''\r\n        };\r\n    }\r\n    update(data) {\r\n        this.props.api.patchItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, this.props.id, data);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"section\", {className: 'editor-body'}, \r\n            React.createElement(\"h2\", null, \"References\"), \r\n            React.createElement(\"table\", {className: 'table'}, \r\n                React.createElement(\"thead\", null, \r\n                    React.createElement(\"tr\", null, \r\n                        React.createElement(\"th\", null, \"Entity\"), \r\n                        React.createElement(\"th\", null, \"Property\"))\r\n                ), \r\n                React.createElement(\"tbody\", null, this.props.dataStore.tabs.entity.get('entity-' + this.props.id).value.referenceRecords.map((record) => {\r\n                    return (React.createElement(\"tr\", {key: `record-${record.uid}`}, \r\n                        React.createElement(\"td\", null, \r\n                            record.entity, \r\n                            \" \", \r\n                            React.createElement(AddTabButton_1.AddTabButton, {tabType: 'entity', uid: record.entity, dataStore: this.props.dataStore})), \r\n                        React.createElement(\"td\", null, \r\n                            record.predicate, \r\n                            \" \", \r\n                            React.createElement(AddTabButton_1.AddTabButton, {tabType: 'predicate', uid: record.predicate, dataStore: this.props.dataStore}))));\r\n                })))));\r\n    }\r\n}\r\nEntityWorkspaceReferenceView.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityWorkspaceReferenceView = EntityWorkspaceReferenceView;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL2VudGl0eS9FbnRpdHlXb3Jrc3BhY2VSZWZlcmVuY2VWaWV3LnRzeD85OWMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQix5Q0FBb0MsQ0FBcUIsQ0FBQztBQUMxRCwwQ0FBdUIsRUFBYSxDQUFDO0FBRXJDLDJDQUE2QixFQUFvQixDQUFDO0FBY2xELGlCQUFpQjtBQUNqQixvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQixxQkFBcUI7QUFDckIsb0NBQW9DO0FBQ3BDLFVBQVU7QUFDViwyQ0FBMkM7QUFDM0Msb0JBQW9CO0FBQ3BCLHlEQUF5RDtBQUN6RCxrR0FBa0c7QUFDbEcsZ0dBQWdHO0FBQ2hHLG9HQUFvRztBQUNwRyxrREFBa0Q7QUFDbEQsa0JBQWtCO0FBQ2xCLDBDQUEwQztBQUMxQywyQ0FBa0QsS0FBSyxDQUFDLFNBQVM7SUFNN0QsWUFBWSxLQUF5QyxFQUFFLE9BQVk7UUFDL0QsT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFVBQVUsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQztZQUNyQyxnQkFBZ0IsRUFBRSxFQUFFO1NBQ3ZCLENBQUM7SUFDTixDQUFDO0lBRU0sTUFBTSxDQUFDLElBQVM7UUFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLG9CQUFNLEVBQUUsb0JBQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVNLE1BQU07UUFFVCxNQUFNLENBQUMsQ0FDTCxxQkFBQyxPQUFPLElBQUMsU0FBUyxFQUFDLGFBQWE7WUFDOUIscUJBQUMsRUFBRSxTQUFDLFlBQVUsQ0FBSztZQUNuQixxQkFBQyxLQUFLLElBQUMsU0FBUyxFQUFDLE9BQU87Z0JBQ3RCLHFCQUFDLEtBQUs7b0JBQ0oscUJBQUMsRUFBRTt3QkFDRCxxQkFBQyxFQUFFLFNBQUMsUUFBTSxDQUFLO3dCQUNmLHFCQUFDLEVBQUUsU0FBQyxVQUFRLENBQUssQ0FDZDtpQkFDQztnQkFDUixxQkFBQyxLQUFLLFNBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07b0JBQ2pHLE1BQU0sQ0FBQyxDQUFDLHFCQUFDLEVBQUUsSUFBQyxHQUFHLEVBQUUsVUFBVSxNQUFNLENBQUMsR0FBRyxFQUFHO3dCQUN0QyxxQkFBQyxFQUFFOzRCQUFFLE1BQU0sQ0FBQyxNQUFPOzRCQUFDOzRCQUFBLG9CQUFDLDJCQUFZLEdBQUMsT0FBTyxFQUFFLFFBQVMsRUFBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLE1BQU8sRUFBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFVLEVBQUUsQ0FBSzt3QkFDaEgscUJBQUMsRUFBRTs0QkFBRSxNQUFNLENBQUMsU0FBVTs0QkFBQzs0QkFBQSxvQkFBQywyQkFBWSxHQUNsQyxPQUFPLEVBQUUsV0FBWSxFQUNyQixHQUFHLEVBQUUsTUFBTSxDQUFDLFNBQVUsRUFDdEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBVSxFQUFFLENBQUssQ0FDdEMsQ0FBQyxDQUFDO2dCQUNULENBQUMsQ0FBRSxDQUNHLENBQ0YsQ0FDQSxDQUNYLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQTNDaUIseUNBQVksR0FBRztJQUN6QixNQUFNLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtDQUM1QyxDQUFDO0FBSk8sb0NBQTRCLCtCQTZDeEMiLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgRW1wdHkgd29ya3NwYWNlIGZvciB3aGVuIG5vdGhpbmcgaXMgb3BlbiFcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uLy4uL0FwaVNlcnZpY2UnO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuXG5pbXBvcnQgeyBBZGRUYWJCdXR0b24gfSBmcm9tICcuLi8uLi9BZGRUYWJCdXR0b24nO1xuXG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9EYXRhU3RvcmUnO1xuXG5pbnRlcmZhY2UgRW50aXR5V29ya3NwYWNlUmVmZXJlbmNlVmlld1Byb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIEVudGl0eVdvcmtzcGFjZVJlZmVyZW5jZVZpZXdTdGF0ZSB7XG5cbn1cblxuLy8gV2hhdCBjYW4gSSBkbz9cbi8vIEVudGl0eSBPcGVyYXRpb25zXG4vLyAtIERlbGV0ZSB0aGUgZW50aXR5XG4vLyAtIE1lcmdlIHRoZSBlbnRpdHlcbi8vIC0gU3BsaXQgdGhlIGVudGl0eVxuLy8gLSBBZGQgJ3NhbWUtYXMtc2VzJyB0byB0aGUgZW50aXR5XG4vLyBSZWNvcmRzXG4vLyAtIE9yZGVyIHJlY29yZHMgYnkgdHlwZSwgc291cmNlIGFuZCBkYXRlXG4vLyAtIEFkZCBuZXcgcmVjb3Jkc1xuLy8gLSBBZGRpbmcgYSBuZXcgcHJlZGljYXRlIGNyZWF0ZXMgYSBuZXcgcmVjb3JkIHdpdGggdGhlXG4vLyAgIGVudGl0eSBzZXQsIHRoZSBwcmVkaWNhdGUgc2V0LCB0aGUgc2NvcmUgc2V0IHRvIDMsIHRoZSBwZXJpb2Qgc2V0IHRvIG51bGwsIHNvdXJjZSBzZXQgdG8gbnVsbFxuLy8gICBpdCBhbHNvIGNyZWF0ZXMgYSBibGFuayBlbnRyeSBpbiB0aGUgcmVjb3JkcyBzdWIgdGFibGUgYmFzZWQgb24gdGhlIHJhbmdlIG9mIHRoZSBwcmVkaWNhdGUuXG4vLyAtIE5ldyBwcmVkaWNhdGVzIG11c3QgaGF2ZSBhIG5hbWUuIFRoZSBkb21haW4gaXMgc2V0IHRvIHRoZSBjdXJyZW50IGVudGl0eXR5cGUgYnV0IGNhbiBiZSBjaGFuZ2VkXG4vLyAgIHRvIG9uZSBvZiBpdHMgcGFyZW50cy4gVGhlIHJhbmdlIE1VU1QgYmUgc2V0LlxuLy8gVmlzdWFsaXNhdGlvbnM6XG4vLyAtIE5ldHdvcmsgZ3JhcGggb2YgZW50aXR5IHJlbGF0aW9uc2hpcHNcbmV4cG9ydCBjbGFzcyBFbnRpdHlXb3Jrc3BhY2VSZWZlcmVuY2VWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEVudGl0eVdvcmtzcGFjZVJlZmVyZW5jZVZpZXdQcm9wcywgRW50aXR5V29ya3NwYWNlUmVmZXJlbmNlVmlld1N0YXRlPiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMgOiBFbnRpdHlXb3Jrc3BhY2VSZWZlcmVuY2VWaWV3UHJvcHMsIGNvbnRleHQ6IGFueSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tYm9WYWx1ZTogeyBrZXk6ICd0ZXN0JywgdmFsdWU6ICcnfSxcbiAgICAgICAgICAgIGNvbWJvU2VhcmNoVmFsdWU6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShkYXRhOiBhbnkpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucGF0Y2hJdGVtKEVudGl0eSwgQXBwVXJscy5lbnRpdHksIHRoaXMucHJvcHMuaWQsIGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9J2VkaXRvci1ib2R5Jz5cbiAgICAgICAgICAgIDxoMj5SZWZlcmVuY2VzPC9oMj5cbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9J3RhYmxlJz5cbiAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0aD5FbnRpdHk8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPlByb3BlcnR5PC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZGF0YVN0b3JlLnRhYnMuZW50aXR5LmdldCgnZW50aXR5LScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZS5yZWZlcmVuY2VSZWNvcmRzLm1hcCgocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKDx0ciBrZXk9e2ByZWNvcmQtJHtyZWNvcmQudWlkfWB9PlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e3JlY29yZC5lbnRpdHl9IDxBZGRUYWJCdXR0b24gdGFiVHlwZT17J2VudGl0eSd9IHVpZD17cmVjb3JkLmVudGl0eX0gZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX0vPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57cmVjb3JkLnByZWRpY2F0ZX0gPEFkZFRhYkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9eydwcmVkaWNhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgIHVpZD17cmVjb3JkLnByZWRpY2F0ZX1cbiAgICAgICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfS8+PC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+KTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy93b3Jrc3BhY2UvZW50aXR5L0VudGl0eVdvcmtzcGFjZVJlZmVyZW5jZVZpZXcudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 49 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst SameAsEditor_1 = __webpack_require__(50);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst EditableHeader_1 = __webpack_require__(31);\r\nconst EditableParagraph_1 = __webpack_require__(52);\r\nconst EditableComboDropdown_1 = __webpack_require__(47);\r\nconst Signaller_1 = __webpack_require__(21);\r\nclass StringEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\nclass ComboEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\nclass EntityTypeWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {};\r\n    }\r\n    update(data) {\r\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\r\n        this.props.api.patchItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.id, data)\r\n            .then(() => this.setState({ entityType: Object.assign({}, entityType, data) }));\r\n    }\r\n    copy() {\r\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\r\n        const newEntityType = falcon_core_1.Serializer.fromJson(falcon_core_1.EntityType, Object.assign({}, falcon_core_1.Serializer.toJson(entityType), { name: 'Copy of ' + entityType.label }));\r\n        this.props.api.postItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, newEntityType)\r\n            .then(([id]) => {\r\n            Signaller_1.createTab.dispatch('entity_type', id, 'item');\r\n        });\r\n    }\r\n    del() {\r\n        this.props.api.delItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            e.data.data.then((data) => {\r\n                const conflictResolutionModal = {\r\n                    name: 'conflict_resolution',\r\n                    cancel: () => { },\r\n                    complete: (result) => {\r\n                        if (result === 'addToWorkspace') {\r\n                            data.entityType.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('entity_type', datum.uid, 'item');\r\n                            });\r\n                            data.predicate.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('predicate', datum.uid, 'item');\r\n                            });\r\n                            data.entity.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('entity', datum.uid, 'item');\r\n                            });\r\n                        }\r\n                    },\r\n                    settings: {\r\n                        conflictingItems: data,\r\n                        message: 'Deleting Entity Type'\r\n                    }\r\n                };\r\n                Signaller_1.showModal.dispatch(conflictResolutionModal);\r\n            });\r\n        });\r\n    }\r\n    createEntity() {\r\n        const a = {\r\n            name: 'entity',\r\n            complete: ([id]) => {\r\n                Signaller_1.createTab.dispatch('entity', id, 'item');\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: '',\r\n                initialType: this.props.id\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    render() {\r\n        const entityType = this.props.dataStore.tabs.entity_type.get('entity_type-' + this.props.id).value;\r\n        const potentialParents = this.props.dataStore.all.entity_type.value;\r\n        let parentName = '';\r\n        if (potentialParents !== null && entityType.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === entityType.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header entity_type'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"div\", {className: 'bread-crumbs'}, entityType.parents.map((parent, i) => (React.createElement(\"span\", {key: `breadcrumb-${parent.uid}`}, \r\n                            React.createElement(\"span\", null, \r\n                                \"  \", \r\n                                parent.label, \r\n                                \" \", \r\n                                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, tabType: 'entity_type', uid: parent.uid}), \r\n                                \" \"), \r\n                            React.createElement(\"i\", {className: 'fa fa-angle-right'}))))), \r\n                        React.createElement(\"i\", {className: 'fa fa-tag item-icon'}), \r\n                        React.createElement(StringEditableFieldComponent, {value: entityType.label, component: EditableHeader_1.EditableHeader, onChange: (value) => this.update({ 'label': value })})), \r\n                    React.createElement(\"div\", {className: 'sub-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-plus add button', \"aria-hidden\": 'true', onClick: this.createEntity.bind(this)}), \r\n                        React.createElement(\"i\", {className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this)}), \r\n                        React.createElement(\"i\", {className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: this.copy.bind(this)})))\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Parent\"), \r\n                    React.createElement(ComboEditableFieldComponent, {value: entityType.parent === null ? null : { key: parentName, value: entityType.parent }, component: EditableComboDropdown_1.EditableComboDropdown, onChange: (value) => this.update({ 'parent': value === null ? null : value.value }), additionalProps: { comboSettings: {\r\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid })),\r\n                            typeName: 'EntityType'\r\n                        } }}), \r\n                    entityType.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, {tabType: 'entity_type', dataStore: this.props.dataStore, uid: entityType.parent})) : null), \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Description\"), \r\n                    React.createElement(StringEditableFieldComponent, {value: entityType.description, component: EditableParagraph_1.EditableParagraph, onChange: (value) => this.update({ 'description': value })})), \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(StringEditableFieldComponent, {value: entityType.sameAs, component: SameAsEditor_1.SameAsEditor, onChange: (value) => this.update({ 'sameAs': value })})\r\n                ), \r\n                React.createElement(\"div\", null, \r\n                    React.createElement(\"h4\", null, \"Direct Children\"), \r\n                    React.createElement(\"ul\", null, entityType.children\r\n                        .map((child) => this.props.dataStore.all.entity_type.value.find((et) => et.uid === child))\r\n                        .map((childEt) => (React.createElement(\"li\", {key: `dc-${childEt.label}`}, \r\n                        childEt.label, \r\n                        \" \", \r\n                        React.createElement(AddTabButton_1.AddTabButton, {tabType: 'entity_type', dataStore: this.props.dataStore, uid: childEt.uid})))))))));\r\n    }\r\n}\r\nEntityTypeWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityTypeWorkspace = EntityTypeWorkspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0VudGl0eVR5cGVXb3Jrc3BhY2UudHN4Pzk0MmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBRS9CLDJDQUE2QixFQUF3QixDQUFDO0FBQ3RELHlDQUFvQyxDQUFrQixDQUFDO0FBRXZELDBDQUF1QyxFQUFhLENBQUM7QUFFckQsMkNBQTZCLEVBQWlCLENBQUM7QUFFL0MsNkNBQXVELEVBQTBCLENBQUM7QUFDbEYsZ0RBQWtDLEVBQTZCLENBQUM7QUFDaEUsb0RBQXNDLEVBQWlDLENBQUM7QUFHeEUsd0NBQXFDLEVBQWlCLENBQUM7QUFNdkQsMkNBQTJDLHVDQUFzQjtBQUFVLENBQUM7QUFDNUUsMENBQTBDLHVDQUFzQjtBQUF1QixDQUFDO0FBV3hGLGtDQUF5QyxLQUFLLENBQUMsU0FBUztJQU1wRDtRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFDWixDQUFDO0lBQ04sQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFTO1FBQ25CLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNuRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsd0JBQVUsRUFBRSxvQkFBTyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUM7YUFDN0UsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLEVBQUMs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S0FBSyxDQUFDLFNBQVUsRUFDaEMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFJLEVBQUcsQ0FBSyxDQUNoQyxDQUFFLENBQ0YsQ0FDSCxDQUNBLENBQ1IsQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUEzTGlCLGdDQUFZLEdBQUc7SUFDekIsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7Q0FDNUMsQ0FBQztBQUpPLDJCQUFtQixzQkE2TC9CIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFByZWRpY2F0ZSBlZGl0b3Igd29ya3NwYWNlXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFNhbWVBc0VkaXRvciB9IGZyb20gJy4uL2ZpZWxkcy9TYW1lQXNFZGl0b3InO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuXG5pbXBvcnQgeyBFbnRpdHlUeXBlLCBTZXJpYWxpemVyIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuXG5pbXBvcnQgeyBBZGRUYWJCdXR0b24gfSBmcm9tICcuLi9BZGRUYWJCdXR0b24nO1xuXG5pbXBvcnQgeyBFZGl0YWJsZUhlYWRlciwgRWRpdGFibGVGaWVsZENvbXBvbmVudCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUhlYWRlcic7XG5pbXBvcnQgeyBFZGl0YWJsZVBhcmFncmFwaCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZVBhcmFncmFwaCc7XG5pbXBvcnQgeyBFZGl0YWJsZUNvbWJvRHJvcGRvd24gfSBmcm9tICcuLi9maWVsZHMvRWRpdGFibGVDb21ib0Ryb3Bkb3duJztcbmltcG9ydCB7IENvbWJvRHJvcGRvd25PcHRpb24gfSBmcm9tICcuLi9Db21ib0Ryb3Bkb3duJztcblxuaW1wb3J0IHsgc2hvd01vZGFsLCBjcmVhdGVUYWIgfSBmcm9tICcuLi8uLi9TaWduYWxsZXInO1xuaW1wb3J0IHsgTW9kYWxEZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kYWwvTW9kYWxEZWZpbml0aW9uJztcblxuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vRGF0YVN0b3JlJztcblxuXG5jbGFzcyBTdHJpbmdFZGl0YWJsZUZpZWxkQ29tcG9uZW50IGV4dGVuZHMgRWRpdGFibGVGaWVsZENvbXBvbmVudDxzdHJpbmc+IHt9XG5jbGFzcyBDb21ib0VkaXRhYmxlRmllbGRDb21wb25lbnQgZXh0ZW5kcyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50PENvbWJvRHJvcGRvd25PcHRpb24+IHt9XG5cbmludGVyZmFjZSBFbnRpdHlUeXBlV29ya3NwYWNlUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBpZDogbnVtYmVyO1xuICAgIGRhdGFTdG9yZTogRGF0YVN0b3JlO1xufVxuXG5pbnRlcmZhY2UgRW50aXR5VHlwZVdvcmtzcGFjZVN0YXRlIHtcbn1cblxuZXhwb3J0IGNsYXNzIEVudGl0eVR5cGVXb3Jrc3BhY2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RW50aXR5VHlwZVdvcmtzcGFjZVByb3BzLCBFbnRpdHlUeXBlV29ya3NwYWNlU3RhdGU+IHtcblxuICAgIHB1YmxpYyBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgICAgICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGRhdGE6IGFueSkge1xuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5lbnRpdHlfdHlwZS5nZXQoJ2VudGl0eV90eXBlLScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZTtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucGF0Y2hJdGVtKEVudGl0eVR5cGUsIEFwcFVybHMuZW50aXR5X3R5cGUsIHRoaXMucHJvcHMuaWQsIGRhdGEpXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMuc2V0U3RhdGUoeyBlbnRpdHlUeXBlOiBPYmplY3QuYXNzaWduKHt9LCBlbnRpdHlUeXBlLCBkYXRhKX0pKTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBjb3B5KCkge1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLmVudGl0eV90eXBlLmdldCgnZW50aXR5X3R5cGUtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IG5ld0VudGl0eVR5cGUgPSBTZXJpYWxpemVyLmZyb21Kc29uKEVudGl0eVR5cGUsXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBTZXJpYWxpemVyLnRvSnNvbihlbnRpdHlUeXBlKSwgeyBuYW1lOiAnQ29weSBvZiAnICsgZW50aXR5VHlwZS5sYWJlbH0pKTtcblxuICAgICAgICB0aGlzLnByb3BzLmFwaS5wb3N0SXRlbShFbnRpdHlUeXBlLCBBcHBVcmxzLmVudGl0eV90eXBlLCBuZXdFbnRpdHlUeXBlKVxuICAgICAgICAgICAgLnRoZW4oKFtpZF0pID0+IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVUYWIuZGlzcGF0Y2goJ2VudGl0eV90eXBlJywgaWQsICdpdGVtJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWwoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXBpLmRlbEl0ZW0oRW50aXR5VHlwZSwgQXBwVXJscy5lbnRpdHlfdHlwZSwgdGhpcy5wcm9wcy5pZClcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jb250ZXh0LnJvdXRlci50cmFuc2l0aW9uVG8oJy9lZGl0L25vdGZvdW5kJykpXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgZS5kYXRhLmRhdGEudGhlbigoZGF0YSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmxpY3RSZXNvbHV0aW9uTW9kYWwgOiBNb2RhbERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb25mbGljdF9yZXNvbHV0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7fSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09ICdhZGRUb1dvcmtzcGFjZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmVudGl0eVR5cGUuZm9yRWFjaCgoZGF0dW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYi5kaXNwYXRjaCgnZW50aXR5X3R5cGUnLCBkYXR1bS51aWQsICdpdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcmVkaWNhdGUuZm9yRWFjaCgoZGF0dW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYi5kaXNwYXRjaCgncHJlZGljYXRlJywgZGF0dW0udWlkLCAnaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZW50aXR5LmZvckVhY2goKGRhdHVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWIuZGlzcGF0Y2goJ2VudGl0eScsIGRhdHVtLnVpZCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nSXRlbXM6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVsZXRpbmcgRW50aXR5IFR5cGUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKGNvbmZsaWN0UmVzb2x1dGlvbk1vZGFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRW50aXR5KCkge1xuICAgICAgICBjb25zdCBhIDogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ2VudGl0eScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKFtpZF0pID0+IHtcbiAgICAgICAgICAgICAgICAgY3JlYXRlVGFiLmRpc3BhdGNoKCdlbnRpdHknLCBpZCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHsgY29uc29sZS5sb2coJ2NhbmNlbCcpOyB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsTmFtZTogJycsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFR5cGU6IHRoaXMucHJvcHMuaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzaG93TW9kYWwuZGlzcGF0Y2goYSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5lbnRpdHlfdHlwZS5nZXQoJ2VudGl0eV90eXBlLScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZTtcbiAgICAgICAgY29uc3QgcG90ZW50aWFsUGFyZW50cyA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHlfdHlwZS52YWx1ZTtcblxuXG4gICAgICAgIGxldCBwYXJlbnROYW1lID0gJyc7XG4gICAgICAgIGlmIChwb3RlbnRpYWxQYXJlbnRzICE9PSBudWxsICYmIGVudGl0eVR5cGUucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gcG90ZW50aWFsUGFyZW50cy5maW5kKChwYXIpID0+IHBhci51aWQgPT09IGVudGl0eVR5cGUucGFyZW50KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50TmFtZSA9IGZvdW5kLmxhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3b3Jrc3BhY2UtZWRpdG9yJz5cblxuICAgICAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPSdlZGl0b3ItaGVhZGVyIGVudGl0eV90eXBlJz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcmltYXJ5LXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbi10b29sYmFyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdicmVhZC1jcnVtYnMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRpdHlUeXBlLnBhcmVudHMubWFwKChwYXJlbnQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtgYnJlYWRjcnVtYi0ke3BhcmVudC51aWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4gIHtwYXJlbnQubGFiZWx9IDxBZGRUYWJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J2VudGl0eV90eXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZD17cGFyZW50LnVpZH0gLz4gPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1hbmdsZS1yaWdodCc+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtdGFnIGl0ZW0taWNvbic+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW50aXR5VHlwZS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e0VkaXRhYmxlSGVhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlKHsnbGFiZWwnOiB2YWx1ZX0pfSAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdWItdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtcGx1cyBhZGQgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY3JlYXRlRW50aXR5LmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS10cmFzaCBkZWxldGUgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLWNsb25lIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNvcHkuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9J2VkaXRvci1ib2R5Jz5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5QYXJlbnQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvRWRpdGFibGVGaWVsZENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbnRpdHlUeXBlLnBhcmVudCA9PT0gbnVsbCA/IG51bGwgOiB7a2V5OiBwYXJlbnROYW1lLCB2YWx1ZTogZW50aXR5VHlwZS5wYXJlbnR9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17RWRpdGFibGVDb21ib0Ryb3Bkb3dufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlKHsncGFyZW50JzogdmFsdWUgPT09IG51bGwgPyBudWxsIDogdmFsdWUudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcHM9e3sgY29tYm9TZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBwb3RlbnRpYWxQYXJlbnRzLm1hcCgocGFyKSA9PiAoeyBrZXk6IHBhci5sYWJlbCwgdmFsdWU6IHBhci51aWR9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiAnRW50aXR5VHlwZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRpdHlUeXBlLnBhcmVudCAhPT0gbnVsbCA/ICg8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiVHlwZT0nZW50aXR5X3R5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e2VudGl0eVR5cGUucGFyZW50fSAvPikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+RGVzY3JpcHRpb248L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW50aXR5VHlwZS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e0VkaXRhYmxlUGFyYWdyYXBofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlKHsnZGVzY3JpcHRpb24nOiB2YWx1ZX0pfSAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXQtZ3JvdXAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW50aXR5VHlwZS5zYW1lQXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PXtTYW1lQXNFZGl0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gdGhpcy51cGRhdGUoeydzYW1lQXMnOiB2YWx1ZX0pfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0PkRpcmVjdCBDaGlsZHJlbjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZW50aXR5VHlwZS5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGNoaWxkKSA9PiB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWUuZmluZCgoZXQpID0+IGV0LnVpZCA9PT0gY2hpbGQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGNoaWxkRXQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8bGkga2V5PXtgZGMtJHtjaGlsZEV0LmxhYmVsfWB9PntjaGlsZEV0LmxhYmVsfSA8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJUeXBlPSdlbnRpdHlfdHlwZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e2NoaWxkRXQudWlkfSAvPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0VudGl0eVR5cGVXb3Jrc3BhY2UudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 50 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst mousetrap = __webpack_require__(51);\r\nclass SameAsEditor extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            temporaryValue: '',\r\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\r\n        };\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            temporaryValue: '',\r\n            urls: props.value === null || props.value.length === 0 ? [] : props.value.split(',')\r\n        });\r\n    }\r\n    addItemToList() {\r\n        if (this.state.temporaryValue.length === 0) {\r\n            return;\r\n        }\r\n        this.setState({ urls: this.state.urls.concat([this.state.temporaryValue]), temporaryValue: '' }, () => this.props.onChange(this.state.urls.join(',')));\r\n    }\r\n    removeItemFromList(itemId) {\r\n        this.setState({\r\n            urls: this.state.urls.filter((val, i) => i !== itemId)\r\n        }, () => this.props.onChange(this.state.urls.join(',')));\r\n    }\r\n    setupKeyboardShortcuts(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.addItemToList.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancelChanges);\r\n            this.keyboardShortcuts.bind('ctrl+s', (e) => {\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                }\r\n                else {\r\n                    // internet explorer\r\n                    e.returnValue = false;\r\n                }\r\n                this.props.acceptChanges();\r\n            });\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n            this.keyboardShortcuts.unbind('escape');\r\n            this.keyboardShortcuts.unbind('ctrl+s');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {className: 'same-as-box'}, \r\n            React.createElement(\"label\", {className: 'small'}, \r\n                \"Same As \", \r\n                !this.props.edit ? (React.createElement(\"sup\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: this.props.setEdit})\r\n                )) : null), \r\n            this.props.edit ? (React.createElement(\"div\", {className: 'edit-group'}, \r\n                React.createElement(\"button\", {onClick: this.props.acceptChanges}, \r\n                    React.createElement(\"i\", {className: 'fa fa-check', \"aria-hidden\": 'true'})\r\n                ), \r\n                React.createElement(\"button\", {onClick: this.props.cancelChanges}, \r\n                    React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true'})\r\n                ), \r\n                React.createElement(\"div\", {className: 'input-addon-formgroup'}, \r\n                    React.createElement(\"input\", {type: 'text', value: this.state.temporaryValue, ref: this.setupKeyboardShortcuts.bind(this), onChange: (e) => this.setState({ temporaryValue: e.target.value }), className: 'form-control with-addon'}), \r\n                    React.createElement(\"span\", {className: 'input-addon-icon right button', onClick: this.addItemToList.bind(this)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-plus'})\r\n                    )))) : null, \r\n            React.createElement(\"ul\", {className: 'same-as-list'}, this.state.urls.map((url, i) => (React.createElement(\"li\", {key: `li-${url}`}, \r\n                React.createElement(\"a\", {target: '_blank', href: url}, url), \r\n                \" \", \r\n                this.props.edit ? (React.createElement(\"i\", {className: 'fa fa-times close-button', onClick: this.removeItemFromList.bind(this, i)})) : null))))));\r\n    }\r\n}\r\nexports.SameAsEditor = SameAsEditor;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL1NhbWVBc0VkaXRvci50c3g/MzFjZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFHL0IsTUFBWSxTQUFTLHVCQUFNLEVBQVcsQ0FBQztBQVN2QywyQkFBa0MsS0FBSyxDQUFDLFNBQVM7SUFJN0MsWUFBWSxLQUFvQztRQUM1QyxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsY0FBYyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxFQUFFLEtBQUssQ0FBQyxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1NBQ3ZGLENBQUM7SUFDTixDQUFDO0lBRU0seUJBQXlCLENBQUMsS0FBb0M7UUFDakUsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNWLGNBQWMsRUFBRSxFQUFFO1lBQ2xCLElBQUksRUFBRSxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztTQUN2RixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sYUFBYTtRQUNoQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUM7UUFDWCxDQUFDO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FB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QUMsMEJBQTBCLEVBQ3BDLE9BQU8sRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUUsRUFBSyxDQUFDLEdBQUcsSUFBSyxDQUFLLENBQ3hFLENBQUUsQ0FDRixDQUNILENBQUMsQ0FBQztJQUNaLENBQUM7QUFDTCxDQUFDO0FBNUZZLG9CQUFZLGVBNEZ4QiIsImZpbGUiOiI1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG9taXQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgKiBhcyBtb3VzZXRyYXAgZnJvbSAnbW91c2V0cmFwJztcblxuaW1wb3J0IHsgRWRpdGFibGVTdWJmaWVsZFByb3BzIH0gZnJvbSAnLi9FZGl0YWJsZUZpZWxkQ29tcG9uZW50JztcblxuaW50ZXJmYWNlIFNhbWVBc0VkaXRvclN0YXRlIHtcbiAgICB0ZW1wb3JhcnlWYWx1ZTogc3RyaW5nO1xuICAgIHVybHM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgU2FtZUFzRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEVkaXRhYmxlU3ViZmllbGRQcm9wczxzdHJpbmc+LCBTYW1lQXNFZGl0b3JTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBrZXlib2FyZFNob3J0Y3V0cztcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBFZGl0YWJsZVN1YmZpZWxkUHJvcHM8c3RyaW5nPikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdGVtcG9yYXJ5VmFsdWU6ICcnLFxuICAgICAgICAgICAgdXJsczogcHJvcHMudmFsdWUgPT09IG51bGwgfHwgcHJvcHMudmFsdWUubGVuZ3RoID09PSAwID8gW10gOiBwcm9wcy52YWx1ZS5zcGxpdCgnLCcpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHM6IEVkaXRhYmxlU3ViZmllbGRQcm9wczxzdHJpbmc+KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdGVtcG9yYXJ5VmFsdWU6ICcnLFxuICAgICAgICAgICAgdXJsczogcHJvcHMudmFsdWUgPT09IG51bGwgfHwgcHJvcHMudmFsdWUubGVuZ3RoID09PSAwID8gW10gOiBwcm9wcy52YWx1ZS5zcGxpdCgnLCcpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRJdGVtVG9MaXN0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS50ZW1wb3JhcnlWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXJsczogdGhpcy5zdGF0ZS51cmxzLmNvbmNhdChbdGhpcy5zdGF0ZS50ZW1wb3JhcnlWYWx1ZV0pLCB0ZW1wb3JhcnlWYWx1ZTogJyd9LFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLnVybHMuam9pbignLCcpKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW1Gcm9tTGlzdChpdGVtSWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVybHM6IHRoaXMuc3RhdGUudXJscy5maWx0ZXIoKHZhbCwgaSkgPT4gaSAhPT0gaXRlbUlkKVxuICAgICAgICB9LCAoKSA9PiB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUudXJscy5qb2luKCcsJykpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0dXBLZXlib2FyZFNob3J0Y3V0cyh2YWw6IG51bGwgfCBIVE1MRWxlbWVudCApIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsLmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzID0gbmV3IG1vdXNldHJhcCh2YWwpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZFNob3J0Y3V0cy5iaW5kKCdyZXR1cm4nLCB0aGlzLmFkZEl0ZW1Ub0xpc3QuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLmJpbmQoJ2VzY2FwZScsIHRoaXMucHJvcHMuY2FuY2VsQ2hhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLmJpbmQoJ2N0cmwrcycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVybmV0IGV4cGxvcmVyXG4gICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hY2NlcHRDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dHMudW5iaW5kKCdyZXR1cm4nKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dHMudW5iaW5kKCdlc2NhcGUnKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dHMudW5iaW5kKCdjdHJsK3MnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NhbWUtYXMtYm94Jz5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5TYW1lIEFzIHshdGhpcy5wcm9wcy5lZGl0ID8gKFxuICAgICAgICAgICAgICAgIDxzdXA+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtcGVuY2lsLXNxdWFyZS1vJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0VkaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2V0RWRpdH0+XG4gICAgICAgICAgICAgICAgICAgIDwvaT5cbiAgICAgICAgICAgICAgICA8L3N1cD5cbiAgICAgICAgICAgICkgOiBudWxsIH08L2xhYmVsPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuZWRpdCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5hY2NlcHRDaGFuZ2VzfT48aSBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FuY2VsQ2hhbmdlc30+PGkgY2xhc3NOYW1lPSdmYSBmYS10aW1lcycgYXJpYS1oaWRkZW49J3RydWUnPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2lucHV0LWFkZG9uLWZvcm1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgdmFsdWU9e3RoaXMuc3RhdGUudGVtcG9yYXJ5VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnNldHVwS2V5Ym9hcmRTaG9ydGN1dHMuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuc2V0U3RhdGUoeyB0ZW1wb3JhcnlWYWx1ZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgd2l0aC1hZGRvbicgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0naW5wdXQtYWRkb24taWNvbiByaWdodCBidXR0b24nIG9uQ2xpY2s9e3RoaXMuYWRkSXRlbVRvTGlzdC5iaW5kKHRoaXMpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXBsdXMnPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J3NhbWUtYXMtbGlzdCc+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudXJscy5tYXAoKHVybCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtgbGktJHt1cmx9YH0+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9e3VybH0+e3VybH08L2E+IHt0aGlzLnByb3BzLmVkaXQgPyAoPGkgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLXRpbWVzIGNsb3NlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVtb3ZlSXRlbUZyb21MaXN0LmJpbmQodGhpcyxpKX0+PC9pPikgOiBudWxsfTwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj4pO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL1NhbWVBc0VkaXRvci50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 51 */
/***/ function(module, exports) {

	eval("module.exports = require(\"mousetrap\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb3VzZXRyYXBcIj9hMjIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW91c2V0cmFwXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibW91c2V0cmFwXCJcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 52 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nvar EditableFieldComponent_1 = __webpack_require__(32);\r\nexports.EditableFieldComponent = EditableFieldComponent_1.EditableFieldComponent;\r\nconst mousetrap = __webpack_require__(51);\r\nexports.EditableParagraph = (props) => {\r\n    let keyBoardShortcuts;\r\n    const bindKeyboard = (val) => {\r\n        if (val !== null) {\r\n            val.focus();\r\n            keyBoardShortcuts = new mousetrap(val);\r\n            keyBoardShortcuts.bind('ctrl+return', props.acceptChanges);\r\n            keyBoardShortcuts.bind('escape', props.cancelChanges);\r\n        }\r\n        else {\r\n            keyBoardShortcuts.unbind('ctrl+return');\r\n        }\r\n    };\r\n    if (!props.edit) {\r\n        return (React.createElement(\"div\", {onClick: props.setEdit, className: 'editable-paragraph-box'}, \r\n            React.createElement(\"p\", null, \r\n                props.value === null || props.value.length > 0 ? props.value\r\n                    : (React.createElement(\"em\", null, \"No value\")), \r\n                React.createElement(\"sup\", null, \r\n                    React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true'})\r\n                ))\r\n        ));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", null, \r\n            React.createElement(\"textarea\", {value: props.value, ref: bindKeyboard, onChange: (e) => props.onChange(e.target.value), style: { width: '100%', height: '6em' }}), \r\n            React.createElement(\"button\", {onClick: props.acceptChanges}, \r\n                React.createElement(\"i\", {className: 'fa fa-check', \"aria-hidden\": 'true'})\r\n            ), \r\n            React.createElement(\"button\", {onClick: props.cancelChanges}, \r\n                React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true'})\r\n            )));\r\n    }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlUGFyYWdyYXBoLnRzeD9iZjllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixtREFBdUMsRUFBMEIsQ0FBQztBQUF6RCxpRkFBeUQ7QUFFbEUsTUFBWSxTQUFTLHVCQUFNLEVBQVcsQ0FBQztBQUUxQix5QkFBaUIsR0FDMUIsQ0FBQyxLQUFvQztJQUVyQyxJQUFJLGlCQUFpQixDQUFDO0lBRXRCLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBRztRQUNyQixFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNmLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNaLGlCQUFpQixHQUFHLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNELGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzFELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM1QyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNkLE1BQU0sQ0FBQyxDQUNILHFCQUFDLEdBQUcsSUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQVEsRUFBQyxTQUFTLEVBQUMsd0JBQXdCO1lBQzNELHFCQUFDLENBQUM7Z0JBQ0csS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLO3NCQUMzRCxDQUNFLHFCQUFDLEVBQUUsU0FBQyxVQUFRLENBQUssQ0FDbkI7Z0JBQ0YscUJBQUMsR0FBRztvQkFDQSxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLHVCQUF1QixFQUNoQyxLQUFLLEVBQUMsTUFBTSxHQUNaLFdBQVcsR0FBQyxNQUFNLEVBRWxCO2lCQUNGLENBQ047U0FDRixDQUNULENBQUM7SUFDTixDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDSixNQUFNLENBQUMsQ0FDSCxxQkFBQyxHQUFHO1lBQ0EscUJBQUMsUUFBUSxJQUNMLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUNuQixHQUFHLEVBQUUsWUFBYSxFQUNsQixRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxFQUNoRCxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBWTtZQUN2RCxxQkFBQyxNQUFNLElBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxhQUFjO2dCQUNqQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGFBQWEsR0FBQyxXQUFXLEdBQUMsTUFBTSxFQUFLO2FBQVM7WUFDL0QscUJBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsYUFBYztnQkFBQyxxQkFBQyxDQUFDLElBQUMsU0FBUyxFQUFDLGFBQWEsR0FBQyxXQUFXLEdBQUMsTUFBTSxFQUFLO2FBQVMsQ0FDL0YsQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNKLENBQUMsQ0FBQyIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVkaXRhYmxlU3ViZmllbGRQcm9wcyB9IGZyb20gJy4vRWRpdGFibGVGaWVsZENvbXBvbmVudCc7XG5leHBvcnQgeyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi9FZGl0YWJsZUZpZWxkQ29tcG9uZW50JztcblxuaW1wb3J0ICogYXMgbW91c2V0cmFwIGZyb20gJ21vdXNldHJhcCc7XG5cbmV4cG9ydCBjb25zdCBFZGl0YWJsZVBhcmFncmFwaCA6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxFZGl0YWJsZVN1YmZpZWxkUHJvcHM8c3RyaW5nPj4gPVxuICAgIChwcm9wczogRWRpdGFibGVTdWJmaWVsZFByb3BzPHN0cmluZz4pID0+IHtcblxuICAgIGxldCBrZXlCb2FyZFNob3J0Y3V0cztcblxuICAgIGNvbnN0IGJpbmRLZXlib2FyZCA9ICh2YWwpID0+IHtcbiAgICAgICAgaWYgKHZhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsLmZvY3VzKCk7XG4gICAgICAgICAgICBrZXlCb2FyZFNob3J0Y3V0cyA9IG5ldyBtb3VzZXRyYXAodmFsKTtcbiAgICAgICAgICAgIGtleUJvYXJkU2hvcnRjdXRzLmJpbmQoJ2N0cmwrcmV0dXJuJywgcHJvcHMuYWNjZXB0Q2hhbmdlcyk7XG4gICAgICAgICAgICBrZXlCb2FyZFNob3J0Y3V0cy5iaW5kKCdlc2NhcGUnLCBwcm9wcy5jYW5jZWxDaGFuZ2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleUJvYXJkU2hvcnRjdXRzLnVuYmluZCgnY3RybCtyZXR1cm4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIXByb3BzLmVkaXQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgb25DbGljaz17cHJvcHMuc2V0RWRpdH0gY2xhc3NOYW1lPSdlZGl0YWJsZS1wYXJhZ3JhcGgtYm94Jz5cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAge3Byb3BzLnZhbHVlID09PSBudWxsIHx8IHByb3BzLnZhbHVlLmxlbmd0aCA+IDAgPyBwcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxlbT5ObyB2YWx1ZTwvZW0+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxzdXA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXBlbmNpbC1zcXVhcmUtbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT0nRWRpdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvc3VwPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17YmluZEtleWJvYXJkfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnNmVtJ319PjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5hY2NlcHRDaGFuZ2VzfT5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1jaGVjaycgYXJpYS1oaWRkZW49J3RydWUnPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Byb3BzLmNhbmNlbENoYW5nZXN9PjxpIGNsYXNzTmFtZT0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4gfTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL0VkaXRhYmxlUGFyYWdyYXBoLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 53 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst SameAsEditor_1 = __webpack_require__(50);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst EditableHeader_1 = __webpack_require__(31);\r\nconst EditableParagraph_1 = __webpack_require__(52);\r\nconst EditableComboDropdown_1 = __webpack_require__(47);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nclass StringEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\nclass ComboEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\n// - Should state the number of times this predicate is used\r\n// - Widening the domain or range always okay\r\n// - Narrowing should check for conflicts and return them\r\n// - Asks 'Delete conflicting records?'\r\n// - Strong check (double button press or type) to confirm\r\n// - Changing name/description/sameAs - absolutly fine\r\n// - Cannot change 'readonly'\r\nclass SourceEditorWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            metaData: {}\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadData(this.props);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.loadData(newProps);\r\n    }\r\n    loadData(props) {\r\n        const source = props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\r\n        this.setState({\r\n            metaData: lodash_1.keyBy(source.metaData, 'name')\r\n        });\r\n    }\r\n    updateSource(field, value) {\r\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\r\n        this.props.api.patchItem(falcon_core_1.Source, ApiService_1.AppUrls.source, source.uid, { [field]: value });\r\n        //.then((success) => {\r\n        // const updatedSource = new Source().deserialize(Object.assign({},\r\n        //     source.serialize(), { [field]: value }));\r\n        // this.setState({\r\n        //     source: updatedSource,\r\n        //     metaData: keyBy(updatedSource.metaData, 'name')\r\n        // });\r\n        //});\r\n    }\r\n    updateSourceElement(element, value) {\r\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\r\n        const compositeKey = {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.props.id,\r\n                element: element.uid\r\n            }\r\n        };\r\n        if (source.metaData[element.label] !== undefined\r\n            && source.metaData[element.label].values.find((a) => a.source === this.props.id) !== undefined) {\r\n            this.props.api.patchItem(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, compositeKey, falcon_core_1.Serializer.fromJson(falcon_core_1.SourceElement, {\r\n                uid: compositeKey,\r\n                element: source.metaData[element.label].element_uid,\r\n                source: this.props.id,\r\n                value\r\n            }));\r\n        }\r\n        else {\r\n            this.props.api.postItem(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, falcon_core_1.Serializer.fromJson(falcon_core_1.SourceElement, {\r\n                uid: compositeKey,\r\n                value: value\r\n            }));\r\n        }\r\n    }\r\n    del() {\r\n        this.props.api.delItem(falcon_core_1.Source, ApiService_1.AppUrls.source, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            e.data.data.then((data) => {\r\n                const conflictResolutionModal = {\r\n                    name: 'conflict_resolution',\r\n                    cancel: () => { },\r\n                    complete: (result) => {\r\n                        if (result === 'addToWorkspace') {\r\n                            data.source.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('source', datum.uid, 'item');\r\n                            });\r\n                        }\r\n                        if (result === 'deleteAll') {\r\n                            Promise.all(data.source.map((datum) => this.props.api.delItem(falcon_core_1.Source, ApiService_1.AppUrls.source, datum.uid)))\r\n                                .then(() => {\r\n                                this.del();\r\n                            });\r\n                        }\r\n                    },\r\n                    settings: {\r\n                        conflictingItems: data,\r\n                        message: 'Deleting Source'\r\n                    }\r\n                };\r\n                Signaller_1.showModal.dispatch(conflictResolutionModal);\r\n            });\r\n        });\r\n    }\r\n    createChild() {\r\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\r\n        const newSource = falcon_core_1.Serializer.fromJson(falcon_core_1.Source, Object.assign({}, falcon_core_1.Serializer.toJson(source), { name: 'Child of ' + source.label, parent: this.props.id }));\r\n        this.props.api.postItem(falcon_core_1.Source, ApiService_1.AppUrls.source, newSource)\r\n            .then(([id]) => {\r\n            Signaller_1.createTab.dispatch('source', id, 'item');\r\n        });\r\n    }\r\n    // create entity with 'mentioned in' already set to this source\r\n    createEntity() {\r\n        const a = {\r\n            name: 'preset_record',\r\n            complete: ([id]) => {\r\n                Signaller_1.createTab.dispatch('entity', id, 'item');\r\n            },\r\n            cancel: () => { },\r\n            settings: {\r\n                source: this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    render() {\r\n        const source = this.props.dataStore.tabs.source.get('source-' + this.props.id).value.source;\r\n        const potentialParents = this.props.dataStore.all.source.value;\r\n        let parentName = '';\r\n        if (potentialParents !== null && source.parent !== undefined) {\r\n            const found = potentialParents.find((par) => par.uid === source.parent);\r\n            if (found !== undefined) {\r\n                parentName = found.label;\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header source'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"div\", {className: 'bread-crumbs'}, source.parents\r\n                            .slice()\r\n                            .reverse()\r\n                            .map((child) => this.props.dataStore.all.source.value.find((et) => et.uid === child))\r\n                            .map((parent, i) => (React.createElement(\"span\", {key: `breadcrumb-${parent.uid}`}, \r\n                            React.createElement(\"span\", null, \r\n                                \"  \", \r\n                                parent.label, \r\n                                \" \", \r\n                                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, tabType: 'source', uid: parent.uid}), \r\n                                \" \"), \r\n                            React.createElement(\"i\", {className: 'fa fa-angle-right'}))))), \r\n                        React.createElement(\"i\", {className: 'fa fa-sun-o item-icon'}), \r\n                        React.createElement(StringEditableFieldComponent, {value: source.label, component: EditableHeader_1.EditableHeader, onChange: (value) => this.updateSource('label', value)})), \r\n                    React.createElement(\"div\", {className: 'sub-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-plus add button', \"aria-hidden\": 'true', onClick: this.createEntity.bind(this)}), \r\n                        React.createElement(\"i\", {className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: () => this.del()}), \r\n                        React.createElement(\"i\", {className: 'fa fa-arrow-circle-o-down button', \"aria-hidden\": 'true', onClick: this.createChild.bind(this)})))\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Parent\"), \r\n                    React.createElement(ComboEditableFieldComponent, {value: { key: parentName, value: source.parent }, component: EditableComboDropdown_1.EditableComboDropdown, onChange: (value) => this.updateSource('parent', value.value), additionalProps: { comboSettings: {\r\n                            options: potentialParents.map((par) => ({ key: par.label, value: par.uid })),\r\n                            typeName: 'Source'\r\n                        } }}), \r\n                    source.parent !== null ? (React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, tabType: 'source', uid: source.parent})) : null), \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(StringEditableFieldComponent, {value: source.sameAs, component: SameAsEditor_1.SameAsEditor, onChange: (value) => this.updateSource('sameAs', value)})\r\n                ), \r\n                this.props.dataStore.all.dublinCore.value.elements.map((element) => {\r\n                    const values = source.metaData.hasOwnProperty(element.label) ?\r\n                        source.metaData[element.label].values : [{ source: this.props.id, value: '' }];\r\n                    const editableValue = values[0].source == this.props.id ? values[0].value : '';\r\n                    return (React.createElement(\"div\", {key: `${element.label}-edit`}, \r\n                        React.createElement(\"h5\", {className: 'section-header'}, \r\n                            element.label, \r\n                            \" \", \r\n                            React.createElement(\"small\", null, \r\n                                React.createElement(\"a\", {href: element.url}, element.uri)\r\n                            )), \r\n                        React.createElement(\"p\", {className: 'element-description'}, element.description), \r\n                        React.createElement(\"ul\", null, values.map((value) => value.source != this.props.id ? (React.createElement(\"li\", {key: `${element.uid}-${value.source}`}, \r\n                            this.props.dataStore.all.source.value.find((s) => s.uid === value.source).label, \r\n                            \": \", \r\n                            value.value)) : null)), \r\n                        React.createElement(StringEditableFieldComponent, {value: editableValue, component: EditableParagraph_1.EditableParagraph, onChange: (value) => this.updateSourceElement(element, value)})));\r\n                }), \r\n                React.createElement(\"div\", null, \r\n                    React.createElement(\"h4\", null, \"Direct Children\"), \r\n                    React.createElement(\"ul\", null, source.children\r\n                        .map((child) => this.props.dataStore.all.source.value.find((et) => et.uid === child))\r\n                        .map((childEt) => (React.createElement(\"li\", {key: `dc-${childEt.uid}`}, \r\n                        childEt.label, \r\n                        \" \", \r\n                        React.createElement(AddTabButton_1.AddTabButton, {tabType: 'source', dataStore: this.props.dataStore, uid: childEt.uid})))))))));\r\n    }\r\n}\r\nSourceEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.SourceEditorWorkspace = SourceEditorWorkspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL1NvdXJjZUVkaXRvcldvcmtzcGFjZS50c3g/ZjA3ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFFL0IsMkNBQTZCLEVBQXdCLENBQUM7QUFFdEQseUNBQW9DLENBQWtCLENBQUM7QUFFdkQsMENBQW1FLEVBQWEsQ0FBQztBQUVqRiw2Q0FBdUQsRUFBMEIsQ0FBQztBQUNsRixnREFBa0MsRUFBNkIsQ0FBQztBQUNoRSxvREFBc0MsRUFBaUMsQ0FBQztBQUd4RSxxQ0FBa0MsRUFBUSxDQUFDO0FBRTNDLHdDQUFxQyxFQUFpQixDQUFDO0FBR3ZELDJDQUE2QixFQUFpQixDQUFDO0FBSS9DLDJDQUEyQyx1Q0FBc0I7QUFBVSxDQUFDO0FBQzVFLDBDQUEwQyx1Q0FBc0I7QUFBdUIsQ0FBQztBQVl4Riw0REFBNEQ7QUFDNUQsNkNBQTZDO0FBQzdDLHlEQUF5RDtBQUN6RCx1Q0FBdUM7QUFDdkMsMERBQTBEO0FBQzFELHNEQUFzRDtBQUN0RCw2QkFBNkI7QUFDN0Isb0NBQTJDLEtBQUssQ0FBQyxTQUFTO0lBTXREO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFFBQVEsRUFBRSxFQUFFO1NBQ2YsQ0FBQztJQUNOLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLHlCQUF5QixDQUFDLFFBQTJCO1FBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUdNLFFBQVEsQ0FBQyxLQUF3QjtRQUVwQyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FB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RyxLQUFLLEtBQUssQ0FBQyxDQUFDO3lCQUNwRixHQUFHLENBQUMsQ0FBQyxPQUFPLEtBQ1QsQ0FBQyxxQkFBQyxFQUFFLElBQUMsR0FBRyxFQUFFLE1BQU0sT0FBTyxDQUFDLEdBQUcsRUFBRzt3QkFBRSxPQUFPLENBQUMsS0FBTTt3QkFBQzt3QkFBQSxvQkFBQywyQkFBWSxHQUN4RCxPQUFPLEVBQUMsUUFBUSxFQUNoQixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFVLEVBQ2hDLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBSSxFQUFHLENBQUssQ0FDaEMsQ0FBRSxDQUNGLENBQ0gsQ0FDQSxDQUNSLENBQ1QsQ0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBNVFpQixrQ0FBWSxHQUFHO0lBQ3pCLE1BQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO0NBQzVDLENBQUM7QUFKTyw2QkFBcUIsd0JBOFFqQyIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBQcmVkaWNhdGUgZWRpdG9yIHdvcmtzcGFjZVxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTYW1lQXNFZGl0b3IgfSBmcm9tICcuLi9maWVsZHMvU2FtZUFzRWRpdG9yJztcbmltcG9ydCB7IExvYWRpbmcgfSBmcm9tICcuLi9Mb2FkaW5nJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcblxuaW1wb3J0IHsgU291cmNlLCBTZXJpYWxpemVyLCBFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBSZWNvcmQgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbmltcG9ydCB7IEVkaXRhYmxlSGVhZGVyLCBFZGl0YWJsZUZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi4vZmllbGRzL0VkaXRhYmxlSGVhZGVyJztcbmltcG9ydCB7IEVkaXRhYmxlUGFyYWdyYXBoIH0gZnJvbSAnLi4vZmllbGRzL0VkaXRhYmxlUGFyYWdyYXBoJztcbmltcG9ydCB7IEVkaXRhYmxlQ29tYm9Ecm9wZG93biB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUNvbWJvRHJvcGRvd24nO1xuaW1wb3J0IHsgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuXG5pbXBvcnQgeyBrZXlCeSwgRGljdGlvbmFyeSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IHNob3dNb2RhbCwgY3JlYXRlVGFiIH0gZnJvbSAnLi4vLi4vU2lnbmFsbGVyJztcblxuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vRGF0YVN0b3JlJztcbmltcG9ydCB7IEFkZFRhYkJ1dHRvbiB9IGZyb20gJy4uL0FkZFRhYkJ1dHRvbic7XG5cbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4uL21vZGFsL01vZGFsRGVmaW5pdGlvbic7XG5cbmNsYXNzIFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnQgZXh0ZW5kcyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50PHN0cmluZz4ge31cbmNsYXNzIENvbWJvRWRpdGFibGVGaWVsZENvbXBvbmVudCBleHRlbmRzIEVkaXRhYmxlRmllbGRDb21wb25lbnQ8Q29tYm9Ecm9wZG93bk9wdGlvbj4ge31cblxuaW50ZXJmYWNlIFNvdXJjZUVkaXRvclByb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIFNvdXJjZUVkaXRvclN0YXRlIHtcbiAgICBtZXRhRGF0YTogXy5EaWN0aW9uYXJ5PFNvdXJjZUVsZW1lbnQ+O1xufVxuXG4vLyAtIFNob3VsZCBzdGF0ZSB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoaXMgcHJlZGljYXRlIGlzIHVzZWRcbi8vIC0gV2lkZW5pbmcgdGhlIGRvbWFpbiBvciByYW5nZSBhbHdheXMgb2theVxuLy8gLSBOYXJyb3dpbmcgc2hvdWxkIGNoZWNrIGZvciBjb25mbGljdHMgYW5kIHJldHVybiB0aGVtXG4vLyAtIEFza3MgJ0RlbGV0ZSBjb25mbGljdGluZyByZWNvcmRzPydcbi8vIC0gU3Ryb25nIGNoZWNrIChkb3VibGUgYnV0dG9uIHByZXNzIG9yIHR5cGUpIHRvIGNvbmZpcm1cbi8vIC0gQ2hhbmdpbmcgbmFtZS9kZXNjcmlwdGlvbi9zYW1lQXMgLSBhYnNvbHV0bHkgZmluZVxuLy8gLSBDYW5ub3QgY2hhbmdlICdyZWFkb25seSdcbmV4cG9ydCBjbGFzcyBTb3VyY2VFZGl0b3JXb3Jrc3BhY2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8U291cmNlRWRpdG9yUHJvcHMsIFNvdXJjZUVkaXRvclN0YXRlPiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBtZXRhRGF0YToge31cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEodGhpcy5wcm9wcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHM6IFNvdXJjZUVkaXRvclByb3BzKSAge1xuICAgICAgICB0aGlzLmxvYWREYXRhKG5ld1Byb3BzKTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBsb2FkRGF0YShwcm9wczogU291cmNlRWRpdG9yUHJvcHMpIHtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBwcm9wcy5kYXRhU3RvcmUudGFicy5zb3VyY2UuZ2V0KCdzb3VyY2UtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlLnNvdXJjZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1ldGFEYXRhOiBrZXlCeShzb3VyY2UubWV0YURhdGEsICduYW1lJylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVNvdXJjZShmaWVsZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5zb3VyY2UuZ2V0KCdzb3VyY2UtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlLnNvdXJjZTtcblxuICAgICAgICB0aGlzLnByb3BzLmFwaS5wYXRjaEl0ZW0oU291cmNlLCBBcHBVcmxzLnNvdXJjZSwgc291cmNlLnVpZCwgeyBbZmllbGRdOiB2YWx1ZSB9KVxuICAgICAgICAvLy50aGVuKChzdWNjZXNzKSA9PiB7XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IHVwZGF0ZWRTb3VyY2UgPSBuZXcgU291cmNlKCkuZGVzZXJpYWxpemUoT2JqZWN0LmFzc2lnbih7fSxcbiAgICAgICAgICAgIC8vICAgICBzb3VyY2Uuc2VyaWFsaXplKCksIHsgW2ZpZWxkXTogdmFsdWUgfSkpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIC8vICAgICBzb3VyY2U6IHVwZGF0ZWRTb3VyY2UsXG4gICAgICAgICAgICAvLyAgICAgbWV0YURhdGE6IGtleUJ5KHVwZGF0ZWRTb3VyY2UubWV0YURhdGEsICduYW1lJylcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAvL30pO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVTb3VyY2VFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLnNvdXJjZS5nZXQoJ3NvdXJjZS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWUuc291cmNlO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvc2l0ZUtleSA9IHtcbiAgICAgICAgICAgIG9yZGVyOiBbJ3NvdXJjZScsICdlbGVtZW50J10sXG4gICAgICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudC51aWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc291cmNlLm1ldGFEYXRhW2VsZW1lbnQubGFiZWxdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICYmIHNvdXJjZS5tZXRhRGF0YVtlbGVtZW50LmxhYmVsXS52YWx1ZXMuZmluZCgoYSkgPT4gYS5zb3VyY2UgPT09IHRoaXMucHJvcHMuaWQpICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hcGkucGF0Y2hJdGVtKFNvdXJjZUVsZW1lbnQsIEFwcFVybHMuc291cmNlX2VsZW1lbnQsXG4gICAgICAgICAgICBjb21wb3NpdGVLZXksXG4gICAgICAgICAgICAgICAgU2VyaWFsaXplci5mcm9tSnNvbihTb3VyY2VFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHVpZDogY29tcG9zaXRlS2V5LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBzb3VyY2UubWV0YURhdGFbZWxlbWVudC5sYWJlbF0uZWxlbWVudF91aWQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmFwaS5wb3N0SXRlbShTb3VyY2VFbGVtZW50LCBBcHBVcmxzLnNvdXJjZV9lbGVtZW50LFxuICAgICAgICAgICAgICAgIFNlcmlhbGl6ZXIuZnJvbUpzb24oU291cmNlRWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICB1aWQ6IGNvbXBvc2l0ZUtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlbCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkuZGVsSXRlbShTb3VyY2UsIEFwcFVybHMuc291cmNlLCB0aGlzLnByb3BzLmlkKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNvbnRleHQucm91dGVyLnRyYW5zaXRpb25UbygnL2VkaXQvbm90Zm91bmQnKSlcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBlLmRhdGEuZGF0YS50aGVuKChkYXRhKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdFJlc29sdXRpb25Nb2RhbCA6IE1vZGFsRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbmZsaWN0X3Jlc29sdXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWw6ICgpID0+IHt9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ2FkZFRvV29ya3NwYWNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc291cmNlLmZvckVhY2goKGRhdHVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWIuZGlzcGF0Y2goJ3NvdXJjZScsIGRhdHVtLnVpZCwgJ2l0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ2RlbGV0ZUFsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChkYXRhLnNvdXJjZS5tYXAoKGRhdHVtKSA9PiB0aGlzLnByb3BzLmFwaS5kZWxJdGVtKFNvdXJjZSwgQXBwVXJscy5zb3VyY2UsIGRhdHVtLnVpZCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0aW5nSXRlbXM6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVsZXRpbmcgU291cmNlJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNob3dNb2RhbC5kaXNwYXRjaChjb25mbGljdFJlc29sdXRpb25Nb2RhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgY3JlYXRlQ2hpbGQoKSB7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5zb3VyY2UuZ2V0KCdzb3VyY2UtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlLnNvdXJjZTtcblxuICAgICAgICBjb25zdCBuZXdTb3VyY2UgPSBTZXJpYWxpemVyLmZyb21Kc29uKFNvdXJjZSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIFNlcmlhbGl6ZXIudG9Kc29uKHNvdXJjZSksIHsgbmFtZTogJ0NoaWxkIG9mICcgKyBzb3VyY2UubGFiZWwsIHBhcmVudDogdGhpcy5wcm9wcy5pZCB9KSk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucG9zdEl0ZW0oU291cmNlLCBBcHBVcmxzLnNvdXJjZSwgbmV3U291cmNlKVxuICAgICAgICAgICAgLnRoZW4oKFtpZF0pID0+IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVUYWIuZGlzcGF0Y2goJ3NvdXJjZScsIGlkLCAnaXRlbScpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgZW50aXR5IHdpdGggJ21lbnRpb25lZCBpbicgYWxyZWFkeSBzZXQgdG8gdGhpcyBzb3VyY2VcbiAgICBwdWJsaWMgY3JlYXRlRW50aXR5KCkge1xuICAgICAgICBjb25zdCBhIDogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3ByZXNldF9yZWNvcmQnLFxuICAgICAgICAgICAgY29tcGxldGU6IChbaWRdKSA9PiB7XG4gICAgICAgICAgICAgICAgIGNyZWF0ZVRhYi5kaXNwYXRjaCgnZW50aXR5JywgaWQsICdpdGVtJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7IH0sXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5zb3VyY2UuZ2V0KCdzb3VyY2UtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlLnNvdXJjZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNob3dNb2RhbC5kaXNwYXRjaChhKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLnRhYnMuc291cmNlLmdldCgnc291cmNlLScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZS5zb3VyY2U7XG4gICAgICAgIGNvbnN0IHBvdGVudGlhbFBhcmVudHMgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuc291cmNlLnZhbHVlO1xuXG4gICAgICAgIGxldCBwYXJlbnROYW1lID0gJyc7XG4gICAgICAgIGlmIChwb3RlbnRpYWxQYXJlbnRzICE9PSBudWxsICYmIHNvdXJjZS5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBwb3RlbnRpYWxQYXJlbnRzLmZpbmQoKHBhcikgPT4gcGFyLnVpZCA9PT0gc291cmNlLnBhcmVudCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudE5hbWUgPSBmb3VuZC5sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd29ya3NwYWNlLWVkaXRvcic+XG4gICAgICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9J2VkaXRvci1oZWFkZXIgc291cmNlJz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcmltYXJ5LXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbi10b29sYmFyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdicmVhZC1jcnVtYnMnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzb3VyY2UucGFyZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGNoaWxkKSA9PiB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuc291cmNlLnZhbHVlLmZpbmQoKGV0KSA9PiBldC51aWQgPT09IGNoaWxkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgocGFyZW50LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17YGJyZWFkY3J1bWItJHtwYXJlbnQudWlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+ICB7cGFyZW50LmxhYmVsfSA8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJUeXBlPSdzb3VyY2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkPXtwYXJlbnQudWlkfSAvPiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLWFuZ2xlLXJpZ2h0Jz48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1zdW4tbyBpdGVtLWljb24nPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdHJpbmdFZGl0YWJsZUZpZWxkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NvdXJjZS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e0VkaXRhYmxlSGVhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlU291cmNlKCdsYWJlbCcsIHZhbHVlKX0gIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3ViLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLXBsdXMgYWRkIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNyZWF0ZUVudGl0eS5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS10cmFzaCBkZWxldGUgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuZGVsKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLWFycm93LWNpcmNsZS1vLWRvd24gYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY3JlYXRlQ2hpbGQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9J2VkaXRvci1ib2R5Jz5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+UGFyZW50PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb21ib0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17e2tleTogcGFyZW50TmFtZSwgdmFsdWU6IHNvdXJjZS5wYXJlbnR9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17RWRpdGFibGVDb21ib0Ryb3Bkb3dufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlU291cmNlKCdwYXJlbnQnLCB2YWx1ZS52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BzPXt7IGNvbWJvU2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogcG90ZW50aWFsUGFyZW50cy5tYXAoKHBhcikgPT4gKHsga2V5OiBwYXIubGFiZWwsIHZhbHVlOiBwYXIudWlkfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ1NvdXJjZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c291cmNlLnBhcmVudCAhPT0gbnVsbCA/ICg8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J3NvdXJjZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkPXtzb3VyY2UucGFyZW50fSAvPikgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RyaW5nRWRpdGFibGVGaWVsZENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzb3VyY2Uuc2FtZUFzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17U2FtZUFzRWRpdG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlU291cmNlKCdzYW1lQXMnLCB2YWx1ZSl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZHVibGluQ29yZS52YWx1ZS5lbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gc291cmNlLm1ldGFEYXRhLmhhc093blByb3BlcnR5KGVsZW1lbnQubGFiZWwpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWV0YURhdGFbZWxlbWVudC5sYWJlbF0udmFsdWVzIDogW3sgc291cmNlOiB0aGlzLnByb3BzLmlkLCB2YWx1ZTogJyd9XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRhYmxlVmFsdWUgPSB2YWx1ZXNbMF0uc291cmNlID09IHRoaXMucHJvcHMuaWQgPyB2YWx1ZXNbMF0udmFsdWUgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YCR7ZWxlbWVudC5sYWJlbH0tZWRpdGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPSdzZWN0aW9uLWhlYWRlcic+e2VsZW1lbnQubGFiZWx9IDxzbWFsbD48YSBocmVmPXtlbGVtZW50LnVybH0+e2VsZW1lbnQudXJpfTwvYT48L3NtYWxsPjwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nZWxlbWVudC1kZXNjcmlwdGlvbic+e2VsZW1lbnQuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dmFsdWVzLm1hcCgodmFsdWUpID0+IHZhbHVlLnNvdXJjZSAhPSB0aGlzLnByb3BzLmlkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2Ake2VsZW1lbnQudWlkfS0ke3ZhbHVlLnNvdXJjZX1gfT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5zb3VyY2UudmFsdWUuZmluZCgocykgPT4gcy51aWQgPT09IHZhbHVlLnNvdXJjZSkubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OiB7dmFsdWUudmFsdWV9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0YWJsZVZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PXtFZGl0YWJsZVBhcmFncmFwaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHRoaXMudXBkYXRlU291cmNlRWxlbWVudChlbGVtZW50LCB2YWx1ZSl9ICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoND5EaXJlY3QgQ2hpbGRyZW48L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NvdXJjZS5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGNoaWxkKSA9PiB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuc291cmNlLnZhbHVlLmZpbmQoKGV0KSA9PiBldC51aWQgPT09IGNoaWxkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChjaGlsZEV0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGxpIGtleT17YGRjLSR7Y2hpbGRFdC51aWR9YH0+e2NoaWxkRXQubGFiZWx9IDxBZGRUYWJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J3NvdXJjZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e2NoaWxkRXQudWlkfSAvPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL1NvdXJjZUVkaXRvcldvcmtzcGFjZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 54 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Predicate editor workspace\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst react_router_1 = __webpack_require__(4);\r\nconst SameAsEditor_1 = __webpack_require__(50);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst EditableHeader_1 = __webpack_require__(31);\r\nconst EditableParagraph_1 = __webpack_require__(52);\r\nconst PredicateDescription_1 = __webpack_require__(55);\r\nconst literalTypes_1 = __webpack_require__(56);\r\nclass StringEditableFieldComponent extends EditableHeader_1.EditableFieldComponent {\r\n}\r\n// - Should state the number of times this predicate is used\r\n// - Widening the domain or range always okay\r\n// - Narrowing should check for conflicts and return them\r\n// - Asks 'Delete conflicting records?'\r\n// - Strong check (double button press or type) to confirm\r\n// - Changing name/description/sameAs - absolutly fine\r\n// - Cannot change 'readonly'\r\nclass PredicateEditorWorkspace extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            records: []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadData(this.props);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.loadData(newProps);\r\n    }\r\n    loadData(props) {\r\n        // Promise.all([\r\n        //     props.api.getCollection(Record, AppUrls.record, { predicate: props.id })\r\n        // ]).then(([records]) => {\r\n        //     this.setState({ records });\r\n        // });\r\n    }\r\n    updatePredicate(field, value, rangeIsReferenceOverride = null) {\r\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\r\n        if (predicate === null) {\r\n            console.warn('Tried to edit unready predicate');\r\n            return;\r\n        }\r\n        const rangeIsReferenceVal = rangeIsReferenceOverride === null\r\n            ? predicate.rangeIsReference : rangeIsReferenceOverride;\r\n        this.props.api.patchItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, predicate.uid, {\r\n            [field]: value,\r\n            rangeIsReference: rangeIsReferenceVal\r\n        });\r\n    }\r\n    copy() {\r\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\r\n        const newPredicate = falcon_core_1.Serializer.fromJson(falcon_core_1.Predicate, Object.assign({}, falcon_core_1.Serializer.toJson(predicate), { name: 'Copy of ' + predicate.label }));\r\n        this.props.api.postItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, newPredicate)\r\n            .then(([id]) => {\r\n            Signaller_1.createTab.dispatch('predicate', id, 'item');\r\n        });\r\n    }\r\n    del() {\r\n        this.props.api.delItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, this.props.id)\r\n            .then(() => this.context.router.transitionTo('/edit/notfound'))\r\n            .catch((e) => {\r\n            e.data.data.then((data) => {\r\n                const conflictResolutionModal = {\r\n                    name: 'conflict_resolution',\r\n                    cancel: () => { },\r\n                    complete: (result) => {\r\n                        if (result === 'addToWorkspace') {\r\n                            data.forEach((datum) => {\r\n                                Signaller_1.createTab.dispatch('entity', datum.entity, 'item');\r\n                            });\r\n                        }\r\n                        if (result === 'deleteAll') {\r\n                            Promise.all(data.record.map((datum) => this.props.api.delItem(falcon_core_1.Record, ApiService_1.AppUrls.record, datum.uid)))\r\n                                .then(() => {\r\n                                this.del();\r\n                            });\r\n                        }\r\n                    },\r\n                    settings: {\r\n                        conflictingItems: data,\r\n                        message: 'Deleting Predicate'\r\n                    }\r\n                };\r\n                Signaller_1.showModal.dispatch(conflictResolutionModal);\r\n            });\r\n        });\r\n    }\r\n    render() {\r\n        const predicate = this.props.dataStore.tabs.predicate.get('predicate-' + this.props.id).value;\r\n        const entityTypes = this.props.dataStore.all.entity_type.value;\r\n        const currentDomainEntityType = entityTypes.find((t) => t.uid == predicate.domain);\r\n        let currentDomainEntityTypeName = '';\r\n        if (currentDomainEntityType !== undefined) {\r\n            currentDomainEntityTypeName = currentDomainEntityType.label;\r\n        }\r\n        const domain = { key: currentDomainEntityTypeName, value: predicate.domain.toString() };\r\n        const range = { key: '', value: predicate.range.toString() };\r\n        if (predicate.rangeIsReference) {\r\n            const currentRangeEntityType = entityTypes.find((t) => t.uid == predicate.range);\r\n            if (currentRangeEntityType !== undefined) {\r\n                range.key = currentRangeEntityType.label;\r\n            }\r\n        }\r\n        else {\r\n            const literalType = literalTypes_1.literalTypes.find((t) => t.value === predicate.range);\r\n            if (literalType !== undefined) {\r\n                range.key = literalType.label;\r\n            }\r\n        }\r\n        const entityTypeOptions = entityTypes.map((t) => {\r\n            if (t.uid === null) {\r\n                throw new Error('Encountered entity type with no id!');\r\n            }\r\n            return { key: t.label, value: t.uid.toString() };\r\n        });\r\n        const literalTypeOptions = literalTypes_1.literalTypes.map((t) => ({ key: t.label, value: t.value, meta: 'literal' }));\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header predicate'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-long-arrow-right item-icon'}), \r\n                        React.createElement(StringEditableFieldComponent, {value: predicate.label, component: EditableHeader_1.EditableHeader, onChange: (value) => this.updatePredicate('label', value)})), \r\n                    React.createElement(\"div\", {className: 'sub-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-trash delete button', \"aria-hidden\": 'true', onClick: this.del.bind(this)}), \r\n                        React.createElement(\"i\", {className: 'fa fa-clone button', \"aria-hidden\": 'true', onClick: this.copy.bind(this)})))\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(\"div\", null, \r\n                    React.createElement(react_router_1.Link, {to: `/edit/entity?col1p=${this.props.id}&col1f=exists`}, \r\n                        \"Uses: \", \r\n                        this.state.records.length)\r\n                ), \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Description\"), \r\n                    React.createElement(StringEditableFieldComponent, {value: predicate.description, component: EditableParagraph_1.EditableParagraph, onChange: (value) => this.updatePredicate('description', value)})), \r\n                React.createElement(\"div\", {className: 'edit-group'}, \r\n                    React.createElement(\"label\", {className: 'small'}, \"Typing\"), \r\n                    React.createElement(PredicateDescription_1.PredicateDescription, {domain: domain, range: range, domainChanged: (value) => this.updatePredicate('domain', value.value), rangeChanged: (value) => this.updatePredicate('range', value.value, value.meta !== 'literal'), mode: 'editSingle', domainOptions: entityTypeOptions, rangeOptions: literalTypeOptions.concat(entityTypeOptions)})), \r\n                React.createElement(\"div\", null, \r\n                    React.createElement(StringEditableFieldComponent, {value: predicate.sameAs, component: SameAsEditor_1.SameAsEditor, onChange: (value) => this.updatePredicate('sameAs', value)})\r\n                ))));\r\n    }\r\n}\r\nPredicateEditorWorkspace.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.PredicateEditorWorkspace = PredicateEditorWorkspace;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL1ByZWRpY2F0ZUVkaXRvcldvcmtzcGFjZS50c3g/N2FlOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFDL0IsMkNBQXFCLENBQWMsQ0FBQztBQUVwQywyQ0FBNkIsRUFBd0IsQ0FBQztBQUV0RCx5Q0FBb0MsQ0FBa0IsQ0FBQztBQUN2RCx3Q0FBcUMsRUFBaUIsQ0FBQztBQUV2RCwwQ0FBOEMsRUFBYSxDQUFDO0FBRTVELDZDQUF1RCxFQUEwQixDQUFDO0FBQ2xGLGdEQUFrQyxFQUE2QixDQUFDO0FBQ2hFLG1EQUFxQyxFQUFnQyxDQUFDO0FBR3RFLDJDQUE2QixFQUFvQixDQUFDO0FBTWxELDJDQUEyQyx1Q0FBc0I7QUFBVSxDQUFDO0FBWTVFLDREQUE0RDtBQUM1RCw2Q0FBNkM7QUFDN0MseURBQXlEO0FBQ3pELHVDQUF1QztBQUN2QywwREFBMEQ7QUFDMUQsc0RBQXNEO0FBQ3RELDZCQUE2QjtBQUM3Qix1Q0FBOEMsS0FBSyxDQUFDLFNBQVM7SUFNekQ7UUFDSSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsT0FBTyxFQUFFLEVBQUU7U0FDZCxDQUFDO0lBQ04sQ0FBQztJQUVNLGlCQUFpQjtRQUNwQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRU0seUJBQXlCLENBQUMsUUFBOEI7UUFDM0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sUUFBUSxDQUFDLEtBQTJCO1FBQ3ZDLGdCQUFnQjtRQUNoQiwrRUFBK0U7UUFDL0UsMkJBQTJCO1FBQzNCLGtDQUFrQztRQUNsQyxNQUFNO0lBQ1YsQ0FBQztJQUVNLGVBQWUsQ0FBQyxLQUFhLEVBQUUsS0FBYSxFQUFF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LEVBQUUsMkJBQWEsRUFDeEIsUUFBUSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBRSxFQUFHO2lCQUNoRSxDQUNBLENBQ1IsQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUFuTWlCLHFDQUFZLEdBQUc7SUFDekIsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7Q0FDNUMsQ0FBQztBQUpPLGdDQUF3QiwyQkFxTXBDIiwiZmlsZSI6IjU0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFByZWRpY2F0ZSBlZGl0b3Igd29ya3NwYWNlXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuaW1wb3J0IHsgU2FtZUFzRWRpdG9yIH0gZnJvbSAnLi4vZmllbGRzL1NhbWVBc0VkaXRvcic7XG5pbXBvcnQgeyBMb2FkaW5nIH0gZnJvbSAnLi4vTG9hZGluZyc7XG5pbXBvcnQgeyBBcGlTZXJ2aWNlLCBBcHBVcmxzIH0gZnJvbSAnLi4vLi4vQXBpU2VydmljZSc7XG5pbXBvcnQgeyBzaG93TW9kYWwsIGNyZWF0ZVRhYiB9IGZyb20gJy4uLy4uL1NpZ25hbGxlcic7XG5cbmltcG9ydCB7IFByZWRpY2F0ZSwgU2VyaWFsaXplciwgUmVjb3JkIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuXG5pbXBvcnQgeyBFZGl0YWJsZUhlYWRlciwgRWRpdGFibGVGaWVsZENvbXBvbmVudCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZUhlYWRlcic7XG5pbXBvcnQgeyBFZGl0YWJsZVBhcmFncmFwaCB9IGZyb20gJy4uL2ZpZWxkcy9FZGl0YWJsZVBhcmFncmFwaCc7XG5pbXBvcnQgeyBQcmVkaWNhdGVEZXNjcmlwdGlvbiB9IGZyb20gJy4uL2ZpZWxkcy9QcmVkaWNhdGVEZXNjcmlwdGlvbic7XG5pbXBvcnQgeyBDb21ib0Ryb3Bkb3duT3B0aW9uIH0gZnJvbSAnLi4vQ29tYm9Ecm9wZG93bic7XG5cbmltcG9ydCB7IGxpdGVyYWxUeXBlcyB9IGZyb20gJy4uLy4uL2xpdGVyYWxUeXBlcyc7XG5cbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4uL21vZGFsL01vZGFsRGVmaW5pdGlvbic7XG5cbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5cbmNsYXNzIFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnQgZXh0ZW5kcyBFZGl0YWJsZUZpZWxkQ29tcG9uZW50PHN0cmluZz4ge31cblxuaW50ZXJmYWNlIFByZWRpY2F0ZUVkaXRvclByb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIFByZWRpY2F0ZUVkaXRvclN0YXRlIHtcbiAgICByZWNvcmRzOiBSZWNvcmRbXTtcbn1cblxuLy8gLSBTaG91bGQgc3RhdGUgdGhlIG51bWJlciBvZiB0aW1lcyB0aGlzIHByZWRpY2F0ZSBpcyB1c2VkXG4vLyAtIFdpZGVuaW5nIHRoZSBkb21haW4gb3IgcmFuZ2UgYWx3YXlzIG9rYXlcbi8vIC0gTmFycm93aW5nIHNob3VsZCBjaGVjayBmb3IgY29uZmxpY3RzIGFuZCByZXR1cm4gdGhlbVxuLy8gLSBBc2tzICdEZWxldGUgY29uZmxpY3RpbmcgcmVjb3Jkcz8nXG4vLyAtIFN0cm9uZyBjaGVjayAoZG91YmxlIGJ1dHRvbiBwcmVzcyBvciB0eXBlKSB0byBjb25maXJtXG4vLyAtIENoYW5naW5nIG5hbWUvZGVzY3JpcHRpb24vc2FtZUFzIC0gYWJzb2x1dGx5IGZpbmVcbi8vIC0gQ2Fubm90IGNoYW5nZSAncmVhZG9ubHknXG5leHBvcnQgY2xhc3MgUHJlZGljYXRlRWRpdG9yV29ya3NwYWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByZWRpY2F0ZUVkaXRvclByb3BzLCBQcmVkaWNhdGVFZGl0b3JTdGF0ZT4ge1xuXG4gICAgcHVibGljIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVjb3JkczogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEodGhpcy5wcm9wcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHM6IFByZWRpY2F0ZUVkaXRvclByb3BzKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEobmV3UHJvcHMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkRGF0YShwcm9wczogUHJlZGljYXRlRWRpdG9yUHJvcHMpIHtcbiAgICAgICAgLy8gUHJvbWlzZS5hbGwoW1xuICAgICAgICAvLyAgICAgcHJvcHMuYXBpLmdldENvbGxlY3Rpb24oUmVjb3JkLCBBcHBVcmxzLnJlY29yZCwgeyBwcmVkaWNhdGU6IHByb3BzLmlkIH0pXG4gICAgICAgIC8vIF0pLnRoZW4oKFtyZWNvcmRzXSkgPT4ge1xuICAgICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZHMgfSk7XG4gICAgICAgIC8vIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVQcmVkaWNhdGUoZmllbGQ6IHN0cmluZywgdmFsdWU6IHN0cmluZywgcmFuZ2VJc1JlZmVyZW5jZU92ZXJyaWRlOiBib29sZWFuIHwgbnVsbCA9IG51bGwpIHtcblxuICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS50YWJzLnByZWRpY2F0ZS5nZXQoJ3ByZWRpY2F0ZS0nICsgdGhpcy5wcm9wcy5pZCkudmFsdWU7XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUcmllZCB0byBlZGl0IHVucmVhZHkgcHJlZGljYXRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZUlzUmVmZXJlbmNlVmFsID0gcmFuZ2VJc1JlZmVyZW5jZU92ZXJyaWRlID09PSBudWxsXG4gICAgICAgICAgICA/IHByZWRpY2F0ZS5yYW5nZUlzUmVmZXJlbmNlIDogcmFuZ2VJc1JlZmVyZW5jZU92ZXJyaWRlO1xuXG4gICAgICAgIHRoaXMucHJvcHMuYXBpLnBhdGNoSXRlbShQcmVkaWNhdGUsIEFwcFVybHMucHJlZGljYXRlLCBwcmVkaWNhdGUudWlkLFxuICAgICAgICB7XG4gICAgICAgICAgICBbZmllbGRdOiB2YWx1ZSxcbiAgICAgICAgICAgIHJhbmdlSXNSZWZlcmVuY2U6IHJhbmdlSXNSZWZlcmVuY2VWYWxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvcHkoKSB7XG5cbiAgICAgICAgY29uc3QgcHJlZGljYXRlID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUudGFicy5wcmVkaWNhdGUuZ2V0KCdwcmVkaWNhdGUtJyArIHRoaXMucHJvcHMuaWQpLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IG5ld1ByZWRpY2F0ZSA9IFNlcmlhbGl6ZXIuZnJvbUpzb24oUHJlZGljYXRlLFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgU2VyaWFsaXplci50b0pzb24ocHJlZGljYXRlKSwgeyBuYW1lOiAnQ29weSBvZiAnICsgcHJlZGljYXRlLmxhYmVsfSkpO1xuXG4gICAgICAgIHRoaXMucHJvcHMuYXBpLnBvc3RJdGVtKFByZWRpY2F0ZSwgQXBwVXJscy5wcmVkaWNhdGUsIG5ld1ByZWRpY2F0ZSlcbiAgICAgICAgICAgIC50aGVuKChbaWRdKSA9PiB7XG4gICAgICAgICAgICAgICAgY3JlYXRlVGFiLmRpc3BhdGNoKCdwcmVkaWNhdGUnLCBpZCwgJ2l0ZW0nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlbCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkuZGVsSXRlbShQcmVkaWNhdGUsIEFwcFVybHMucHJlZGljYXRlLCB0aGlzLnByb3BzLmlkKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNvbnRleHQucm91dGVyLnRyYW5zaXRpb25UbygnL2VkaXQvbm90Zm91bmQnKSlcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBlLmRhdGEuZGF0YS50aGVuKChkYXRhKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25mbGljdFJlc29sdXRpb25Nb2RhbCA6IE1vZGFsRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbmZsaWN0X3Jlc29sdXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWw6ICgpID0+IHt9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ2FkZFRvV29ya3NwYWNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoZGF0dW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYi5kaXNwYXRjaCgnZW50aXR5JywgZGF0dW0uZW50aXR5LCAnaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnZGVsZXRlQWxsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGRhdGEucmVjb3JkLm1hcCgoZGF0dW0pID0+IHRoaXMucHJvcHMuYXBpLmRlbEl0ZW0oUmVjb3JkLCBBcHBVcmxzLnJlY29yZCwgZGF0dW0udWlkKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3RpbmdJdGVtczogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdEZWxldGluZyBQcmVkaWNhdGUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKGNvbmZsaWN0UmVzb2x1dGlvbk1vZGFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLnRhYnMucHJlZGljYXRlLmdldCgncHJlZGljYXRlLScgKyB0aGlzLnByb3BzLmlkKS52YWx1ZTtcbiAgICAgICAgY29uc3QgZW50aXR5VHlwZXMgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5X3R5cGUudmFsdWU7XG5cbiAgICAgICAgY29uc3QgY3VycmVudERvbWFpbkVudGl0eVR5cGUgPSBlbnRpdHlUeXBlcy5maW5kKCh0KSA9PiB0LnVpZCA9PSBwcmVkaWNhdGUuZG9tYWluKTtcblxuICAgICAgICBsZXQgY3VycmVudERvbWFpbkVudGl0eVR5cGVOYW1lID0gJyc7XG5cbiAgICAgICAgaWYgKGN1cnJlbnREb21haW5FbnRpdHlUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnREb21haW5FbnRpdHlUeXBlTmFtZSA9IGN1cnJlbnREb21haW5FbnRpdHlUeXBlLmxhYmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZG9tYWluIDogQ29tYm9Ecm9wZG93bk9wdGlvbiA9IHtrZXk6IGN1cnJlbnREb21haW5FbnRpdHlUeXBlTmFtZSwgdmFsdWU6IHByZWRpY2F0ZS5kb21haW4udG9TdHJpbmcoKX07XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgOiBDb21ib0Ryb3Bkb3duT3B0aW9uID0ge2tleTogJycsIHZhbHVlOiBwcmVkaWNhdGUucmFuZ2UudG9TdHJpbmcoKX07XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZS5yYW5nZUlzUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UmFuZ2VFbnRpdHlUeXBlID1cbiAgICAgICAgICAgICAgICBlbnRpdHlUeXBlcy5maW5kKCh0KSA9PiB0LnVpZCA9PSBwcmVkaWNhdGUucmFuZ2UpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFJhbmdlRW50aXR5VHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uua2V5ID0gY3VycmVudFJhbmdlRW50aXR5VHlwZS5sYWJlbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGl0ZXJhbFR5cGUgPSBsaXRlcmFsVHlwZXMuZmluZCgodCkgPT4gdC52YWx1ZSA9PT0gcHJlZGljYXRlLnJhbmdlKTtcbiAgICAgICAgICAgIGlmIChsaXRlcmFsVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uua2V5ID0gbGl0ZXJhbFR5cGUubGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlT3B0aW9ucyA9IGVudGl0eVR5cGVzLm1hcCgodCkgPT4ge1xuICAgICAgICAgICAgaWYgKHQudWlkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNvdW50ZXJlZCBlbnRpdHkgdHlwZSB3aXRoIG5vIGlkIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsga2V5OiB0LmxhYmVsLCB2YWx1ZTogdC51aWQudG9TdHJpbmcoKSB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBsaXRlcmFsVHlwZU9wdGlvbnMgPSBsaXRlcmFsVHlwZXMubWFwKCh0KSA9PiAoeyBrZXk6IHQubGFiZWwsIHZhbHVlOiB0LnZhbHVlLCBtZXRhOiAnbGl0ZXJhbCd9KSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3b3Jrc3BhY2UtZWRpdG9yJz5cbiAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT0nZWRpdG9yLWhlYWRlciBwcmVkaWNhdGUnPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ByaW1hcnktdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYWluLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1sb25nLWFycm93LXJpZ2h0IGl0ZW0taWNvbic+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJlZGljYXRlLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17RWRpdGFibGVIZWFkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gdGhpcy51cGRhdGVQcmVkaWNhdGUoJ2xhYmVsJywgdmFsdWUpfSAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdWItdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtdHJhc2ggZGVsZXRlIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmRlbC5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1jbG9uZSBidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jb3B5LmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdlZGl0b3ItYm9keSc+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj48TGluayB0bz17YC9lZGl0L2VudGl0eT9jb2wxcD0ke3RoaXMucHJvcHMuaWR9JmNvbDFmPWV4aXN0c2B9PlVzZXM6IHt0aGlzLnN0YXRlLnJlY29yZHMubGVuZ3RofTwvTGluaz48L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdC1ncm91cCc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+RGVzY3JpcHRpb248L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJlZGljYXRlLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD17RWRpdGFibGVQYXJhZ3JhcGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gdGhpcy51cGRhdGVQcmVkaWNhdGUoJ2Rlc2NyaXB0aW9uJywgdmFsdWUpfSAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXQtZ3JvdXAnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nc21hbGwnPlR5cGluZzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UHJlZGljYXRlRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21haW49e2RvbWFpbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZT17cmFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluQ2hhbmdlZD17KHZhbHVlKSA9PiB0aGlzLnVwZGF0ZVByZWRpY2F0ZSgnZG9tYWluJywgdmFsdWUudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlQ2hhbmdlZD17KHZhbHVlKSA9PiB0aGlzLnVwZGF0ZVByZWRpY2F0ZSgncmFuZ2UnLCB2YWx1ZS52YWx1ZSwgdmFsdWUubWV0YSAhPT0gJ2xpdGVyYWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlPSdlZGl0U2luZ2xlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbk9wdGlvbnM9e2VudGl0eVR5cGVPcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlT3B0aW9ucz17bGl0ZXJhbFR5cGVPcHRpb25zLmNvbmNhdChlbnRpdHlUeXBlT3B0aW9ucyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0cmluZ0VkaXRhYmxlRmllbGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJlZGljYXRlLnNhbWVBc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e1NhbWVBc0VkaXRvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB0aGlzLnVwZGF0ZVByZWRpY2F0ZSgnc2FtZUFzJywgdmFsdWUpfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL1ByZWRpY2F0ZUVkaXRvcldvcmtzcGFjZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 55 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass PredicateDescription extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            editingDomain: false,\r\n            editingRange: false,\r\n            rangeValue: { key: '', value: '' },\r\n            domainValue: { key: '', value: '' }\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({\r\n            rangeValue: this.props.range,\r\n            domainValue: this.props.domain\r\n        });\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({\r\n            rangeValue: newProps.range,\r\n            domainValue: newProps.domain\r\n        });\r\n    }\r\n    acceptDomainChanges() {\r\n        this.props.domainChanged(this.state.domainValue);\r\n        this.setState({ editingDomain: false });\r\n    }\r\n    cancelDomainChanges() {\r\n        this.setState({ editingDomain: false, domainValue: this.props.domain });\r\n    }\r\n    acceptRangeChanges() {\r\n        this.props.rangeChanged(this.state.rangeValue);\r\n        this.setState({ editingRange: false });\r\n    }\r\n    cancelRangeChanges() {\r\n        this.setState({ editingDomain: false, rangeValue: this.props.range });\r\n    }\r\n    render() {\r\n        const domainChanged = this.props.mode === 'editAll' ?\r\n            this.props.domainChanged : (c) => this.setState({ domainValue: c });\r\n        const rangeChanged = this.props.mode === 'editAll' ?\r\n            this.props.rangeChanged : (c) => this.setState({ rangeValue: c });\r\n        return (React.createElement(\"div\", {className: 'predicate-function-description'}, \r\n            React.createElement(\"div\", {className: 'domain'}, this.props.mode === 'editAll' || this.state.editingDomain ? (React.createElement(\"div\", null, \r\n                React.createElement(\"label\", {className: 'small'}, \"Domain\"), \r\n                React.createElement(ComboDropdown_1.ComboDropdown, {options: this.props.domainOptions, typeName: 'entity type', allowNew: false, value: this.state.domainValue, setValue: domainChanged, createNewValue: lodash_1.noop}), \r\n                this.props.mode === 'editSingle' ? (React.createElement(\"div\", null, \r\n                    React.createElement(\"button\", {onClick: this.acceptDomainChanges.bind(this)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-check', \"aria-hidden\": 'true'})\r\n                    ), \r\n                    React.createElement(\"button\", {onClick: this.cancelDomainChanges.bind(this)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true'})\r\n                    ))) : null)) : (React.createElement(\"div\", null, \r\n                this.props.domain.key, \r\n                \" \", \r\n                React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: () => this.setState({ editingDomain: true })})))), \r\n            React.createElement(\"div\", {className: 'arrow'}, \r\n                React.createElement(\"i\", {className: 'fa fa-long-arrow-right', \"aria-hidden\": 'true'})\r\n            ), \r\n            React.createElement(\"div\", {className: 'range'}, this.props.mode === 'editAll' || this.state.editingRange ? (React.createElement(\"div\", null, \r\n                React.createElement(\"label\", {className: 'small'}, \"Range\"), \r\n                React.createElement(ComboDropdown_1.ComboDropdown, {options: this.props.rangeOptions, typeName: 'entity type', allowNew: false, value: this.state.rangeValue, setValue: rangeChanged, createNewValue: lodash_1.noop}), \r\n                this.props.mode === 'editSingle' ? (React.createElement(\"div\", null, \r\n                    React.createElement(\"button\", {onClick: this.acceptRangeChanges.bind(this)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-check', \"aria-hidden\": 'true'})\r\n                    ), \r\n                    React.createElement(\"button\", {onClick: this.cancelRangeChanges.bind(this)}, \r\n                        React.createElement(\"i\", {className: 'fa fa-times', \"aria-hidden\": 'true'})\r\n                    ))) : null)) : (React.createElement(\"div\", null, \r\n                this.props.range.key, \r\n                \" \", \r\n                React.createElement(\"i\", {className: 'fa fa-pencil-square-o', title: 'Edit', \"aria-hidden\": 'true', onClick: () => this.setState({ editingRange: true })}))))));\r\n    }\r\n}\r\nexports.PredicateDescription = PredicateDescription;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvZmllbGRzL1ByZWRpY2F0ZURlc2NyaXB0aW9uLnRzeD8yYzc0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUMvQiw0Q0FBbUQsRUFBa0IsQ0FBQztBQUN0RSxxQ0FBcUIsRUFBUSxDQUFDO0FBbUI5QixtQ0FBMEMsS0FBSyxDQUFDLFNBQVM7SUFFckQ7UUFDSSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsYUFBYSxFQUFFLEtBQUs7WUFDcEIsWUFBWSxFQUFFLEtBQUs7WUFDbkIsVUFBVSxFQUFFLEVBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFDO1lBQ2hDLFdBQVcsRUFBRSxFQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQztTQUNwQyxDQUFDO0lBQ04sQ0FBQztJQUVNLGtCQUFrQjtRQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ1YsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztZQUM1QixXQUFXLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO1NBQ2pDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSx5QkFBeUIsQ0FBQyxRQUFtQztRQUNoRSxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ1YsVUFBVSxFQUFFLFFBQVEsQ0FBQyxLQUFLO1lBQzFCLFdBQVcsRUFBRSxRQUFRLENBQUMsTUFBTTtTQUMvQixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sbUJBQW1CO1FBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDO0lB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SyxDQUFDLEdBQUk7Z0JBQUM7Z0JBQUEscUJBQUMsQ0FBQyxJQUFDLFNBQVMsRUFBQyx1QkFBdUIsRUFDakUsS0FBSyxFQUFDLE1BQU0sR0FDWixXQUFXLEdBQUMsTUFBTSxFQUNsQixPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFFLEVBQ3JELENBQU0sQ0FBRSxDQUNWLENBQ0osQ0FBQyxDQUFDO0lBQ1osQ0FBQztBQUNMLENBQUM7QUFqSFksNEJBQW9CLHVCQWlIaEMiLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb21ib0Ryb3Bkb3duLCBDb21ib0Ryb3Bkb3duT3B0aW9uIH0gZnJvbSAnLi4vQ29tYm9Ecm9wZG93bic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuaW50ZXJmYWNlIFByZWRpY2F0ZURlc2NyaXB0aW9uUHJvcHMge1xuICAgIGRvbWFpbjogQ29tYm9Ecm9wZG93bk9wdGlvbjtcbiAgICByYW5nZTogQ29tYm9Ecm9wZG93bk9wdGlvbjtcbiAgICBtb2RlOiAnZWRpdEFsbCcgfCAnZWRpdFNpbmdsZSc7XG4gICAgZG9tYWluQ2hhbmdlZDogKHM6IENvbWJvRHJvcGRvd25PcHRpb24pID0+IHZvaWQ7XG4gICAgcmFuZ2VDaGFuZ2VkOiAoczogQ29tYm9Ecm9wZG93bk9wdGlvbikgPT4gdm9pZDtcbiAgICBkb21haW5PcHRpb25zOiBDb21ib0Ryb3Bkb3duT3B0aW9uW107XG4gICAgcmFuZ2VPcHRpb25zOiBDb21ib0Ryb3Bkb3duT3B0aW9uW107XG59XG5cbmludGVyZmFjZSBQcmVkaWNhdGVEZXNjcmlwdGlvblN0YXRlIHtcbiAgICBlZGl0aW5nRG9tYWluOiBib29sZWFuO1xuICAgIGVkaXRpbmdSYW5nZTogYm9vbGVhbjtcbiAgICBkb21haW5WYWx1ZTogQ29tYm9Ecm9wZG93bk9wdGlvbjtcbiAgICByYW5nZVZhbHVlOiBDb21ib0Ryb3Bkb3duT3B0aW9uO1xufVxuXG5leHBvcnQgY2xhc3MgUHJlZGljYXRlRGVzY3JpcHRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJlZGljYXRlRGVzY3JpcHRpb25Qcm9wcywgUHJlZGljYXRlRGVzY3JpcHRpb25TdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBlZGl0aW5nRG9tYWluOiBmYWxzZSxcbiAgICAgICAgICAgIGVkaXRpbmdSYW5nZTogZmFsc2UsXG4gICAgICAgICAgICByYW5nZVZhbHVlOiB7a2V5OiAnJywgdmFsdWU6ICcnfSxcbiAgICAgICAgICAgIGRvbWFpblZhbHVlOiB7a2V5OiAnJywgdmFsdWU6ICcnfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcmFuZ2VWYWx1ZTogdGhpcy5wcm9wcy5yYW5nZSxcbiAgICAgICAgICAgIGRvbWFpblZhbHVlOiB0aGlzLnByb3BzLmRvbWFpblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wczogUHJlZGljYXRlRGVzY3JpcHRpb25Qcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHJhbmdlVmFsdWU6IG5ld1Byb3BzLnJhbmdlLFxuICAgICAgICAgICAgZG9tYWluVmFsdWU6IG5ld1Byb3BzLmRvbWFpblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWNjZXB0RG9tYWluQ2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kb21haW5DaGFuZ2VkKHRoaXMuc3RhdGUuZG9tYWluVmFsdWUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ0RvbWFpbjogZmFsc2V9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuY2VsRG9tYWluQ2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmdEb21haW46IGZhbHNlLCBkb21haW5WYWx1ZTogdGhpcy5wcm9wcy5kb21haW59KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWNjZXB0UmFuZ2VDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnByb3BzLnJhbmdlQ2hhbmdlZCh0aGlzLnN0YXRlLnJhbmdlVmFsdWUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ1JhbmdlOiBmYWxzZX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxSYW5nZUNoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nRG9tYWluOiBmYWxzZSwgcmFuZ2VWYWx1ZTogdGhpcy5wcm9wcy5yYW5nZX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3QgZG9tYWluQ2hhbmdlZCA9IHRoaXMucHJvcHMubW9kZSA9PT0gJ2VkaXRBbGwnID9cbiAgICAgICAgICAgIHRoaXMucHJvcHMuZG9tYWluQ2hhbmdlZCA6IChjKSA9PiB0aGlzLnNldFN0YXRlKHsgZG9tYWluVmFsdWU6IGMgfSk7XG5cbiAgICAgICAgY29uc3QgcmFuZ2VDaGFuZ2VkID0gdGhpcy5wcm9wcy5tb2RlID09PSAnZWRpdEFsbCcgP1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5yYW5nZUNoYW5nZWQgOiAoYykgPT4gdGhpcy5zZXRTdGF0ZSh7IHJhbmdlVmFsdWU6IGMgfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ByZWRpY2F0ZS1mdW5jdGlvbi1kZXNjcmlwdGlvbic+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZG9tYWluJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5tb2RlID09PSAnZWRpdEFsbCcgfHwgdGhpcy5zdGF0ZS5lZGl0aW5nRG9tYWluID8gKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5Eb21haW48L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Q29tYm9Ecm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5wcm9wcy5kb21haW5PcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU9J2VudGl0eSB0eXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dOZXc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZG9tYWluVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZT17ZG9tYWluQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5ld1ZhbHVlPXtub29wfSAvPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5tb2RlID09PSAnZWRpdFNpbmdsZScgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5hY2NlcHREb21haW5DaGFuZ2VzLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLWNoZWNrJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5jYW5jZWxEb21haW5DaGFuZ2VzLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXRpbWVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoPGRpdj57dGhpcy5wcm9wcy5kb21haW4ua2V5fSA8aSBjbGFzc05hbWU9J2ZhIGZhLXBlbmNpbC1zcXVhcmUtbydcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0VkaXQnXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ0RvbWFpbjogdHJ1ZSB9KX0+XG4gICAgICAgICAgICAgICAgPC9pPjwvZGl2Pil9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhcnJvdyc+PGkgY2xhc3NOYW1lPSdmYSBmYS1sb25nLWFycm93LXJpZ2h0JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JhbmdlJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5tb2RlID09PSAnZWRpdEFsbCcgfHwgdGhpcy5zdGF0ZS5lZGl0aW5nUmFuZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+UmFuZ2U8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnByb3BzLnJhbmdlT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZT0nZW50aXR5IHR5cGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dOZXc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnJhbmdlVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWU9e3JhbmdlQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXdWYWx1ZT17bm9vcH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1vZGUgPT09ICdlZGl0U2luZ2xlJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAgb25DbGljaz17dGhpcy5hY2NlcHRSYW5nZUNoYW5nZXMuYmluZCh0aGlzKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtY2hlY2snIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAgb25DbGljaz17dGhpcy5jYW5jZWxSYW5nZUNoYW5nZXMuYmluZCh0aGlzKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoPGRpdj57dGhpcy5wcm9wcy5yYW5nZS5rZXl9IDxpIGNsYXNzTmFtZT0nZmEgZmEtcGVuY2lsLXNxdWFyZS1vJ1xuICAgICAgICAgICAgICAgICAgICB0aXRsZT0nRWRpdCdcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nUmFuZ2U6IHRydWUgfSl9PlxuICAgICAgICAgICAgICAgIDwvaT48L2Rpdj4pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2Pik7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9maWVsZHMvUHJlZGljYXRlRGVzY3JpcHRpb24udHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 56 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nexports.literalTypes = [\r\n    { label: 'text', value: 'string', url: '', description: 'some text' },\r\n    { label: 'number', value: 'integer', url: '', description: 'a number' },\r\n    { label: 'date', value: 'date', url: '', description: 'a date' },\r\n    // { name: 'point', value: 'point', url: '', description: 'a point on a map '},\r\n    // { name: 'region', value: 'region', url: '', description: 'a region on a map'},\r\n    { label: 'source', value: 'source', url: '', description: 'a source in the database' }\r\n];\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2xpdGVyYWxUeXBlcy50cz83YzliIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRVUsb0JBQVksR0FBeUU7SUFDOUYsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFO0lBQ3JFLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRTtJQUN2RSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUM7SUFDaEUsK0VBQStFO0lBQy9FLGlGQUFpRjtJQUNoRixFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSwwQkFBMEIsRUFBQztDQUN4RixDQUFDIiwiZmlsZSI6IjU2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxpdGVyYWxUeXBlczogeyBsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCB1cmw6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyB9W10gPSBbXG4gICAgeyBsYWJlbDogJ3RleHQnLCB2YWx1ZTogJ3N0cmluZycsIHVybDogJycsIGRlc2NyaXB0aW9uOiAnc29tZSB0ZXh0JyB9LFxuICAgIHsgbGFiZWw6ICdudW1iZXInLCB2YWx1ZTogJ2ludGVnZXInLCB1cmw6ICcnLCBkZXNjcmlwdGlvbjogJ2EgbnVtYmVyJyB9LFxuICAgIHsgbGFiZWw6ICdkYXRlJywgdmFsdWU6ICdkYXRlJywgdXJsOiAnJywgZGVzY3JpcHRpb246ICdhIGRhdGUnfSxcbiAgIC8vIHsgbmFtZTogJ3BvaW50JywgdmFsdWU6ICdwb2ludCcsIHVybDogJycsIGRlc2NyaXB0aW9uOiAnYSBwb2ludCBvbiBhIG1hcCAnfSxcbiAgIC8vIHsgbmFtZTogJ3JlZ2lvbicsIHZhbHVlOiAncmVnaW9uJywgdXJsOiAnJywgZGVzY3JpcHRpb246ICdhIHJlZ2lvbiBvbiBhIG1hcCd9LFxuICAgIHsgbGFiZWw6ICdzb3VyY2UnLCB2YWx1ZTogJ3NvdXJjZScsIHVybDogJycsIGRlc2NyaXB0aW9uOiAnYSBzb3VyY2UgaW4gdGhlIGRhdGFiYXNlJ31cbl07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2xpdGVyYWxUeXBlcy50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 57 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nexports.AdvancedSearchWorkspace = (props) => (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n    React.createElement(\"h2\", null, \"Advanced Search\")\r\n));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL0FkdmFuY2VkU2VhcmNoV29ya3NwYWNlLnRzeD8yYWUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQU9sQiwrQkFBdUIsR0FDaEMsQ0FBQyxLQUFtQyxLQUFLLENBQ3pDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsa0JBQWtCO0lBQzdCLHFCQUFDLEVBQUUsU0FBQyxpQkFBZSxDQUFLO0NBQ3RCLENBQ1QsQ0FBQyIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBFbXB0eSB3b3Jrc3BhY2UgZm9yIHdoZW4gbm90aGluZyBpcyBvcGVuIVxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuXG5pbnRlcmZhY2UgQWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2VQcm9wcyB7XG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xufVxuXG5leHBvcnQgY29uc3QgQWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2UgOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8QWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2VQcm9wcz4gPVxuICAgIChwcm9wczogQWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2VQcm9wcykgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSd3b3Jrc3BhY2UtZWRpdG9yJz5cbiAgICAgICAgPGgyPkFkdmFuY2VkIFNlYXJjaDwvaDI+XG4gICAgPC9kaXY+XG4pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy93b3Jrc3BhY2UvQWR2YW5jZWRTZWFyY2hXb3Jrc3BhY2UudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 58 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Empty workspace for when nothing is open!\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst EntityList_1 = __webpack_require__(59);\r\nconst PredicateList_1 = __webpack_require__(61);\r\nconst SourceList_1 = __webpack_require__(62);\r\nconst EntityTypeList_1 = __webpack_require__(63);\r\nexports.ObjectListWorkspace = (props) => (React.createElement(\"div\", {className: 'workspace-editor object-list'}, (() => {\r\n    switch (props.listType) {\r\n        case 'entity':\r\n            return (React.createElement(EntityList_1.EntityList, {api: props.api, query: props.query, dataStore: props.dataStore}));\r\n        case 'source':\r\n            return (React.createElement(SourceList_1.SourceList, {api: props.api, dataStore: props.dataStore}));\r\n        case 'predicate':\r\n            return (React.createElement(PredicateList_1.PredicateList, {api: props.api, dataStore: props.dataStore}));\r\n        case 'entity_type':\r\n            return (React.createElement(EntityTypeList_1.EntityTypeList, {api: props.api, dataStore: props.dataStore}));\r\n    }\r\n})()));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvd29ya3NwYWNlL09iamVjdExpc3RXb3Jrc3BhY2UudHN4P2U4YzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBRy9CLHlDQUEyQixFQUEyQixDQUFDO0FBQ3ZELDRDQUE4QixFQUE4QixDQUFDO0FBQzdELHlDQUEyQixFQUEyQixDQUFDO0FBQ3ZELDZDQUErQixFQUErQixDQUFDO0FBWWxELDJCQUFtQixHQUM1QixDQUFDLEtBQStCLEtBQUssQ0FDckMscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FDeEMsQ0FBQztJQUNFLE1BQU0sRUFBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNwQixLQUFLLFFBQVE7WUFDVCxNQUFNLENBQUMsQ0FBQyxvQkFBQyx1QkFBVSxHQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBSSxFQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBTSxFQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBVSxFQUFHLENBQUMsQ0FBQztRQUM1RixLQUFLLFFBQVE7WUFDVCxNQUFNLENBQUMsQ0FBQyxvQkFBQyx1QkFBVSxHQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBVSxFQUFHLENBQUMsQ0FBQztRQUN4RSxLQUFLLFdBQVc7WUFDWixNQUFNLENBQUMsQ0FBQyxvQkFBQyw2QkFBYSxHQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBVSxFQUFHLENBQUMsQ0FBQztRQUMzRSxLQUFLLGFBQWE7WUFDZCxNQUFNLENBQUMsQ0FBQyxvQkFBQywrQkFBYyxHQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBVSxFQUFHLENBQUMsQ0FBQztJQUNoRixDQUFDO0FBQ0wsQ0FBQyxDQUFDLEVBQUcsQ0FDSCxDQUNULENBQUMiLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgRW1wdHkgd29ya3NwYWNlIGZvciB3aGVuIG5vdGhpbmcgaXMgb3BlbiFcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcblxuaW1wb3J0IHsgRW50aXR5TGlzdCB9IGZyb20gJy4uL29iamVjdF9saXN0L0VudGl0eUxpc3QnO1xuaW1wb3J0IHsgUHJlZGljYXRlTGlzdCB9IGZyb20gJy4uL29iamVjdF9saXN0L1ByZWRpY2F0ZUxpc3QnO1xuaW1wb3J0IHsgU291cmNlTGlzdCB9IGZyb20gJy4uL29iamVjdF9saXN0L1NvdXJjZUxpc3QnO1xuaW1wb3J0IHsgRW50aXR5VHlwZUxpc3QgfSBmcm9tICcuLi9vYmplY3RfbGlzdC9FbnRpdHlUeXBlTGlzdCc7XG5cbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5cbmludGVyZmFjZSBPYmplY3RMaXN0V29ya3NwYWNlUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbGlzdFR5cGU6IHN0cmluZztcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBxdWVyeTogYW55O1xufVxuXG5leHBvcnQgY29uc3QgT2JqZWN0TGlzdFdvcmtzcGFjZSA6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxPYmplY3RMaXN0V29ya3NwYWNlUHJvcHM+ID1cbiAgICAocHJvcHM6IE9iamVjdExpc3RXb3Jrc3BhY2VQcm9wcykgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSd3b3Jrc3BhY2UtZWRpdG9yIG9iamVjdC1saXN0Jz5cbiAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2gocHJvcHMubGlzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdlbnRpdHknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxFbnRpdHlMaXN0IGFwaT17cHJvcHMuYXBpfSBxdWVyeT17cHJvcHMucXVlcnl9IGRhdGFTdG9yZT17cHJvcHMuZGF0YVN0b3JlfSAvPik7XG4gICAgICAgICAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8U291cmNlTGlzdCBhcGk9e3Byb3BzLmFwaX0gZGF0YVN0b3JlPXtwcm9wcy5kYXRhU3RvcmV9IC8+KTtcbiAgICAgICAgICAgICAgICBjYXNlICdwcmVkaWNhdGUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxQcmVkaWNhdGVMaXN0IGFwaT17cHJvcHMuYXBpfSBkYXRhU3RvcmU9e3Byb3BzLmRhdGFTdG9yZX0gLz4pO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudGl0eV90eXBlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8RW50aXR5VHlwZUxpc3QgYXBpPXtwcm9wcy5hcGl9IGRhdGFTdG9yZT17cHJvcHMuZGF0YVN0b3JlfSAvPik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCl9XG4gICAgPC9kaXY+XG4pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy93b3Jrc3BhY2UvT2JqZWN0TGlzdFdvcmtzcGFjZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 59 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst lev = __webpack_require__(60);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst formatDate_1 = __webpack_require__(44);\r\nconst sortIcons = {\r\n    'none': 'fa fa-sort',\r\n    'asc': 'fa fa-sort-asc',\r\n    'desc': 'fa fa-sort-desc'\r\n};\r\nconst customColumns = (predicates, columns, updateColumnParams, rotateSort) => {\r\n    return [0, 1, 2].map((id) => {\r\n        const comboValue = { key: '', value: '' };\r\n        if (columns[id].predicate !== -1) {\r\n            const thisPred = predicates.find((pred) => pred.uid == columns[id].predicate);\r\n            if (thisPred !== undefined) {\r\n                comboValue.key = thisPred.label;\r\n            }\r\n            comboValue.value = columns[id].predicate;\r\n        }\r\n        return (React.createElement(\"td\", {key: `col-${id}`}, \r\n            React.createElement(\"div\", {className: 'list-combo-header'}, \r\n                React.createElement(\"div\", {className: 'combo-wrapper'}, \r\n                    React.createElement(ComboDropdown_1.ComboDropdown, {value: comboValue, typeName: 'predicate', allowNew: false, setValue: (value) => updateColumnParams(id, 'p', value === null ? null : value.value), options: predicates.map((pred) => ({ key: pred.label, value: pred.uid.toString() })), createNewValue: lodash_1.noop, compact: true})\r\n                ), \r\n                React.createElement(\"div\", {className: 'order-wrapper'}, \r\n                    React.createElement(\"i\", {className: sortIcons[columns[id].sort], onClick: () => rotateSort(id)})\r\n                ))\r\n        ));\r\n    });\r\n};\r\nclass EntityList extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            entities: [],\r\n            entityTypes: [],\r\n            predicates: [],\r\n            columns: [\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' },\r\n                { predicate: -1, sort: 'none', filterType: 'any', invertFilter: false, filterValue: '' }\r\n            ],\r\n            results: [],\r\n            entityType: { key: 'Any', value: 0 }\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.update(this.props);\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.update(newProps);\r\n    }\r\n    update(props) {\r\n        const queryStringOptions = props.query;\r\n        const columns = lodash_1.cloneDeep(this.state.columns);\r\n        if (queryStringOptions !== null) {\r\n            for (let i = 1; i < 4; i += 1) {\r\n                columns[i - 1].predicate = queryStringOptions[`col${i}p`] || null;\r\n                columns[i - 1].sort = queryStringOptions[`col${i}s`] || null;\r\n                columns[i - 1].filterType = queryStringOptions[`col${i}f`] || '';\r\n                columns[i - 1].filterValue = queryStringOptions[`col${i}v`] || '';\r\n                columns[i - 1].invertFilter = queryStringOptions[`col${i}i`] || null;\r\n            }\r\n        }\r\n        this.setState({\r\n            columns,\r\n            queryData: queryStringOptions === null ? {} : queryStringOptions,\r\n        }, this.reload.bind(this));\r\n    }\r\n    reload() {\r\n        const setColumns = this.state.columns.filter((col) => col.predicate != -1);\r\n        this.props.api.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, {\r\n            predicate: setColumns.map((col) => col.predicate),\r\n            entity: this.props.dataStore.all.entity.value.map((entity) => entity.uid)\r\n        })\r\n            .then((results) => this.setState({ results }));\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'entity',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: ''\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    updateColumnParams(colId, key, value) {\r\n        this.context.router.transitionTo({\r\n            pathname: '/edit/entity',\r\n            query: Object.assign(this.state.queryData, { [`col${colId + 1}${key}`]: value })\r\n        });\r\n    }\r\n    rotateSort(colId) {\r\n        const columns = lodash_1.cloneDeep(this.state.columns);\r\n        switch (columns[colId].sort) {\r\n            case 'none':\r\n                columns[colId].sort = 'asc';\r\n                break;\r\n            case 'asc':\r\n                columns[colId].sort = 'desc';\r\n                break;\r\n            case 'desc':\r\n                columns[colId].sort = 'none';\r\n        }\r\n        this.setState({\r\n            columns\r\n        }, this.reload.bind(this));\r\n    }\r\n    addViewTab() {\r\n        Signaller_1.createTab.dispatch('entity', Date.now(), 'view', this.state.queryData);\r\n    }\r\n    render() {\r\n        const entities = this.props.dataStore.all.entity.value;\r\n        const predicates = this.props.dataStore.all.predicate.value;\r\n        const entityTypes = this.props.dataStore.all.entity_type.value;\r\n        const entityTypeOptions = entityTypes.map((entityType) => ({ key: entityType.label, value: entityType.uid }));\r\n        const tableData = entities.map((entity) => {\r\n            const entityType = entityTypes.find((t) => t.uid === entity.entityType);\r\n            const entityData = this.state.results.filter((res) => res.entity === entity.uid);\r\n            return {\r\n                uid: entity.uid,\r\n                label: entity.label,\r\n                entityType,\r\n                columns: this.state.columns.map((col) => {\r\n                    let value = '';\r\n                    if (entityData !== undefined && col.predicate !== -1) {\r\n                        const predicateData = entityData\r\n                            .filter((record) => record.predicate == col.predicate);\r\n                        if (predicateData !== undefined) {\r\n                            value = predicateData.map((pred) => {\r\n                                if (pred.valueType === 'date') {\r\n                                    return formatDate_1.formatDate(pred.value);\r\n                                }\r\n                                if (pred.valueType === 'source') {\r\n                                    if (pred.value === null) {\r\n                                        return 'Not set';\r\n                                    }\r\n                                    return this.props.dataStore.all.source.value.find((source) => source.uid === pred.value).label;\r\n                                }\r\n                                if (pred.valueType === 'entity') {\r\n                                    if (pred.value === null) {\r\n                                        return 'Not set';\r\n                                    }\r\n                                    return this.props.dataStore.all.entity.value.find((entity) => entity.uid === pred.value).label;\r\n                                }\r\n                                return pred.value;\r\n                            }).join(', ');\r\n                        }\r\n                        return value;\r\n                    }\r\n                })\r\n            };\r\n        })\r\n            .filter((row) => {\r\n            let keepRow = true;\r\n            this.state.columns.forEach((col, i) => {\r\n                if (col.filterType === 'contains' && col.filterValue.length > 0 && col.predicate !== null) {\r\n                    if (row.columns[i].toLowerCase().indexOf(col.filterValue.toLowerCase()) === -1) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n                if (col.filterType === 'exists' && col.predicate !== null) {\r\n                    if (row.columns[i].length === 0) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n                if (col.filterType === 'similar' && col.predicate !== null && col.filterValue.length > 0) {\r\n                    if (new lev(row.columns[i], col.filterValue).distance >= col.filterValue.length + 2) {\r\n                        keepRow = false;\r\n                    }\r\n                }\r\n            });\r\n            return keepRow;\r\n        })\r\n            .sort((row1, row2) => {\r\n            let score = 0;\r\n            this.state.columns.forEach((col, i) => {\r\n                if (col.sort !== 'none' && row1.columns[i] !== row2.columns[i]) {\r\n                    score += (row1.columns[i] > row2.columns[i] ? 1 : -1) * (Math.pow(10, 3 - i)) * (col.sort === 'asc' ? -1 : 1);\r\n                }\r\n            });\r\n            return score;\r\n        });\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header entity'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"h2\", null, \r\n                            \"All Entities \", \r\n                            React.createElement(\"i\", {className: 'fa fa-plus-circle add button', title: 'Add new entity', \"aria-hidden\": 'true', onClick: this.addNew.bind(this)}))\r\n                    ), \r\n                    React.createElement(\"div\", {className: 'sub-toolbar'}, \r\n                        React.createElement(\"i\", {className: 'fa fa-folder-open-o', \"aria-hidden\": 'true', onClick: this.addViewTab.bind(this)})\r\n                    ))\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(\"table\", {className: 'table'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"td\", null, \"#\"), \r\n                            React.createElement(\"td\", null, \"Label\"), \r\n                            React.createElement(\"td\", null, \"Type\"), \r\n                            customColumns(predicates, this.state.columns, this.updateColumnParams.bind(this), this.rotateSort.bind(this))), \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"td\", null), \r\n                            React.createElement(\"td\", null), \r\n                            React.createElement(\"td\", null, \r\n                                React.createElement(ComboDropdown_1.ComboDropdown, {value: this.state.entityType, typeName: 'entity type', allowNew: false, setValue: (entityType) => this.setState({ entityType }), options: entityTypeOptions, createNewValue: lodash_1.noop, compact: true})\r\n                            ), \r\n                            this.state.columns.map((col, id) => (React.createElement(\"td\", {key: `col-${id}`}, \r\n                                React.createElement(\"div\", {className: 'flex-fill'}, \r\n                                    React.createElement(\"div\", null, \r\n                                        React.createElement(\"select\", {value: col.filterType, className: 'padded', onChange: (e) => this.updateColumnParams(id, 'f', e.target.value)}, \r\n                                            React.createElement(\"option\", {value: 'any'}, \"Any\"), \r\n                                            React.createElement(\"option\", {value: 'exists'}, \"Exists\"), \r\n                                            React.createElement(\"option\", {value: 'contains'}, \"Contains\"), \r\n                                            React.createElement(\"option\", {value: 'similar'}, \"Similar\"))\r\n                                    ), \r\n                                    React.createElement(\"div\", null, \r\n                                        React.createElement(\"input\", {type: 'text', disabled: col.filterType === 'any' || col.filterType === 'exists', onChange: (e) => this.updateColumnParams(id, 'v', e.target.value), value: col.filterValue})\r\n                                    ))\r\n                            ))))), \r\n                    React.createElement(\"tbody\", null, tableData.map((row) => (React.createElement(\"tr\", {key: `entity-${row.uid}`}, \r\n                        React.createElement(\"td\", null, row.uid), \r\n                        React.createElement(\"td\", null, \r\n                            row.label, \r\n                            \" \", \r\n                            React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: row.uid, tabType: 'entity'})), \r\n                        React.createElement(\"td\", null, row.entityType ? row.entityType.label : ''), \r\n                        [0, 1, 2].map((id) => (React.createElement(\"td\", {key: `col-val-${id}`}, row.columns[id]))))))))\r\n            )));\r\n    }\r\n}\r\nEntityList.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\nexports.EntityList = EntityList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvRW50aXR5TGlzdC50c3g/OGJkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFFL0IsTUFBWSxHQUFHLHVCQUFNLEVBQWEsQ0FBQztBQUVuQyx5Q0FBb0MsQ0FBa0IsQ0FBQztBQUV2RCwwQ0FBc0QsRUFBYSxDQUFDO0FBQ3BFLDRDQUFtRCxFQUFrQixDQUFDO0FBQ3RFLHFDQUE2QyxFQUFRLENBQUM7QUFFdEQsMkNBQTZCLEVBQWlCLENBQUM7QUFFL0Msd0NBQXFDLEVBQWlCLENBQUM7QUFHdkQseUNBQTJCLEVBQXlCLENBQUM7QUEwQnJELE1BQU0sU0FBUyxHQUFHO0lBQ2QsTUFBTSxFQUFFLFlBQVk7SUFDcEIsS0FBSyxFQUFFLGdCQUFnQjtJQUN2QixNQUFNLEVBQUUsaUJBQWlCO0NBQzVCLENBQUM7QUFFRixNQUFNLGFBQWEsR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsVUFBVTtJQUN0RSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFFcEIsTUFBTSxVQUFVLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUV6QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzlFLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxTQUFT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QyxJQUFJO2dDQUUzQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0NBQzVCLE1BQU0sQ0FBQyx1QkFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQ0FDbEMsQ0FBQztnQ0FFRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0NBQzlCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQzt3Q0FDdEIsTUFBTSxDQUFDLFNBQVMsQ0FBQztvQ0FDckIsQ0FBQztvQ0FDRCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQztnQ0FDbkcsQ0FBQztnQ0FFRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0NBQzlCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQzt3Q0FDdEIsTUFBTSxDQUFDLFNBQVMsQ0FBQztvQ0FDckIsQ0FBQztvQ0FDRCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQztnQ0FDbkcsQ0FBQztnQ0FFRCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzs0QkFDdEIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNsQixDQUFDO3dCQUNELE1BQU0s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LENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO0NBQzVDLENBQUM7QUFKTyxrQkFBVSxhQXFSdEIiLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCAqIGFzIGxldiBmcm9tICdsZXZlbnNodGVpbic7XG5cbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVR5cGUsIFByZWRpY2F0ZSwgUmVjb3JkIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgQ29tYm9Ecm9wZG93biwgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuaW1wb3J0IHsgbm9vcCwgY2xvbmVEZWVwLCBpc1VuZGVmaW5lZCB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IEFkZFRhYkJ1dHRvbiB9IGZyb20gJy4uL0FkZFRhYkJ1dHRvbic7XG5cbmltcG9ydCB7IHNob3dNb2RhbCwgY3JlYXRlVGFiIH0gZnJvbSAnLi4vLi4vU2lnbmFsbGVyJztcbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4uL21vZGFsL01vZGFsRGVmaW5pdGlvbic7XG5cbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi9oZWxwZXIvZm9ybWF0RGF0ZSc7XG5cbmludGVyZmFjZSBFbnRpdHlMaXN0UHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBxdWVyeTogYW55O1xufVxuXG5pbnRlcmZhY2UgQ29sdW1uU2V0dGluZ3Mge1xuICAgIHByZWRpY2F0ZTogbnVtYmVyO1xuICAgIHNvcnQ6ICdub25lJyB8ICdhc2MnIHwgJ2Rlc2MnO1xuICAgIGZpbHRlclR5cGU6ICdhbnknIHwgJ2V4aXN0cycgfCAnY29udGFpbnMnIHwgJ3NpbWlsYXInO1xuICAgIGludmVydEZpbHRlcjogYm9vbGVhbjtcbiAgICBmaWx0ZXJWYWx1ZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRW50aXR5TGlzdFN0YXRlIHtcbiAgICBlbnRpdGllczogRW50aXR5W107XG4gICAgZW50aXR5VHlwZXM6IEVudGl0eVR5cGVbXTtcbiAgICBwcmVkaWNhdGVzOiBQcmVkaWNhdGVbXTtcbiAgICBjb2x1bW5zOiBDb2x1bW5TZXR0aW5nc1tdO1xuICAgIHJlc3VsdHM6IFJlY29yZFtdO1xuICAgIGVudGl0eVR5cGU6IENvbWJvRHJvcGRvd25PcHRpb247XG4gICAgcXVlcnlEYXRhOiBhbnk7XG59XG5cbmNvbnN0IHNvcnRJY29ucyA9IHtcbiAgICAnbm9uZSc6ICdmYSBmYS1zb3J0JyxcbiAgICAnYXNjJzogJ2ZhIGZhLXNvcnQtYXNjJyxcbiAgICAnZGVzYyc6ICdmYSBmYS1zb3J0LWRlc2MnXG59O1xuXG5jb25zdCBjdXN0b21Db2x1bW5zID0gKHByZWRpY2F0ZXMsIGNvbHVtbnMsIHVwZGF0ZUNvbHVtblBhcmFtcywgcm90YXRlU29ydCkgPT4ge1xuICAgIHJldHVybiBbMCwgMSwgMl0ubWFwKChpZCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNvbWJvVmFsdWUgPSB7IGtleTogJycsIHZhbHVlOiAnJ307XG5cbiAgICAgICAgaWYgKGNvbHVtbnNbaWRdLnByZWRpY2F0ZSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNQcmVkID0gcHJlZGljYXRlcy5maW5kKChwcmVkKSA9PiBwcmVkLnVpZCA9PSBjb2x1bW5zW2lkXS5wcmVkaWNhdGUpO1xuICAgICAgICAgICAgaWYgKHRoaXNQcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21ib1ZhbHVlLmtleSA9IHRoaXNQcmVkLmxhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tYm9WYWx1ZS52YWx1ZSA9IGNvbHVtbnNbaWRdLnByZWRpY2F0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGQga2V5PXtgY29sLSR7aWR9YH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2xpc3QtY29tYm8taGVhZGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbWJvLXdyYXBwZXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbWJvRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29tYm9WYWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZT0ncHJlZGljYXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93TmV3PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZT17KHZhbHVlKSA9PiB1cGRhdGVDb2x1bW5QYXJhbXMoaWQsICdwJyAsIHZhbHVlID09PSBudWxsID8gbnVsbCA6IHZhbHVlLnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtwcmVkaWNhdGVzLm1hcCgocHJlZCkgPT4gKHsga2V5OiBwcmVkLmxhYmVsLCB2YWx1ZTogcHJlZC51aWQudG9TdHJpbmcoKX0pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXdWYWx1ZT17bm9vcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYWN0PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcmRlci13cmFwcGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17c29ydEljb25zW2NvbHVtbnNbaWRdLnNvcnRdfSBvbkNsaWNrPXsoKSA9PiByb3RhdGVTb3J0KGlkKX0+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRW50aXR5TGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxFbnRpdHlMaXN0UHJvcHMsIEVudGl0eUxpc3RTdGF0ZT4ge1xuXG4gICAgcHVibGljIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBFbnRpdHlMaXN0UHJvcHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgICAgICAgIGVudGl0eVR5cGVzOiBbXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZXM6IFtdLFxuICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICAgIHsgcHJlZGljYXRlOiAtMSwgc29ydDogJ25vbmUnLCBmaWx0ZXJUeXBlOiAnYW55JywgaW52ZXJ0RmlsdGVyOiBmYWxzZSwgZmlsdGVyVmFsdWU6ICcnIH0sXG4gICAgICAgICAgICAgICAgeyBwcmVkaWNhdGU6IC0xLCBzb3J0OiAnbm9uZScsIGZpbHRlclR5cGU6ICdhbnknLCBpbnZlcnRGaWx0ZXI6IGZhbHNlLCBmaWx0ZXJWYWx1ZTogJycgfSxcbiAgICAgICAgICAgICAgICB7IHByZWRpY2F0ZTogLTEsIHNvcnQ6ICdub25lJywgZmlsdGVyVHlwZTogJ2FueScsIGludmVydEZpbHRlcjogZmFsc2UsIGZpbHRlclZhbHVlOiAnJyB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICBlbnRpdHlUeXBlOiB7IGtleTogJ0FueScsIHZhbHVlOiAwfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMudXBkYXRlKHRoaXMucHJvcHMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzOiBFbnRpdHlMaXN0UHJvcHMpIHtcbiAgICAgIHRoaXMudXBkYXRlKG5ld1Byb3BzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHByb3BzOiBFbnRpdHlMaXN0UHJvcHMpIHtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmdPcHRpb25zID0gcHJvcHMucXVlcnk7XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBjbG9uZURlZXAodGhpcy5zdGF0ZS5jb2x1bW5zKTtcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nT3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA0OyBpICs9IDEgKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnNbaSAtIDFdLnByZWRpY2F0ZSA9IHF1ZXJ5U3RyaW5nT3B0aW9uc1tgY29sJHtpfXBgXSB8fCBudWxsO1xuICAgICAgICAgICAgICBjb2x1bW5zW2kgLSAxXS5zb3J0ID0gcXVlcnlTdHJpbmdPcHRpb25zW2Bjb2wke2l9c2BdIHx8IG51bGw7XG4gICAgICAgICAgICAgIGNvbHVtbnNbaSAtIDFdLmZpbHRlclR5cGUgPSBxdWVyeVN0cmluZ09wdGlvbnNbYGNvbCR7aX1mYF0gfHwgJyc7XG4gICAgICAgICAgICAgIGNvbHVtbnNbaSAtIDFdLmZpbHRlclZhbHVlID0gcXVlcnlTdHJpbmdPcHRpb25zW2Bjb2wke2l9dmBdIHx8ICcnO1xuICAgICAgICAgICAgICBjb2x1bW5zW2kgLSAxXS5pbnZlcnRGaWx0ZXIgPSBxdWVyeVN0cmluZ09wdGlvbnNbYGNvbCR7aX1pYF0gfHwgbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgcXVlcnlEYXRhOiBxdWVyeVN0cmluZ09wdGlvbnMgPT09IG51bGwgPyB7fSA6IHF1ZXJ5U3RyaW5nT3B0aW9ucyxcbiAgICAgICAgfSwgdGhpcy5yZWxvYWQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbG9hZCgpIHtcblxuICAgICAgICBjb25zdCBzZXRDb2x1bW5zID0gdGhpcy5zdGF0ZS5jb2x1bW5zLmZpbHRlcigoY29sKSA9PiBjb2wucHJlZGljYXRlICE9IC0xKTtcblxuICAgICAgICB0aGlzLnByb3BzLmFwaS5nZXRDb2xsZWN0aW9uKFJlY29yZCwgQXBwVXJscy5yZWNvcmQsIHtcbiAgICAgICAgICAgIHByZWRpY2F0ZTogc2V0Q29sdW1ucy5tYXAoKGNvbCkgPT4gY29sLnByZWRpY2F0ZSksXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHkudmFsdWUubWFwKChlbnRpdHkpID0+IGVudGl0eS51aWQpXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiB0aGlzLnNldFN0YXRlKHsgcmVzdWx0cyB9KSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE5ldygpIHtcbiAgICAgICAgY29uc3QgYSA6IE1vZGFsRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdlbnRpdHknLFxuICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHsgY29uc29sZS5sb2coJ2NhbmNlbCcpOyB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsTmFtZTogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzaG93TW9kYWwuZGlzcGF0Y2goYSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUNvbHVtblBhcmFtcyhjb2xJZDogbnVtYmVyLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLmNvbnRleHQucm91dGVyLnRyYW5zaXRpb25Ubyh7XG4gICAgICAgICAgcGF0aG5hbWU6ICcvZWRpdC9lbnRpdHknLFxuICAgICAgICAgIHF1ZXJ5OiBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUucXVlcnlEYXRhLCB7IFtgY29sJHtjb2xJZCArIDF9JHtrZXl9YF06IHZhbHVlIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByb3RhdGVTb3J0KGNvbElkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IGNsb25lRGVlcCh0aGlzLnN0YXRlLmNvbHVtbnMpO1xuICAgICAgICBzd2l0Y2ggKGNvbHVtbnNbY29sSWRdLnNvcnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgIGNvbHVtbnNbY29sSWRdLnNvcnQgPSAnYXNjJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FzYyc6XG4gICAgICAgICAgICAgICAgY29sdW1uc1tjb2xJZF0uc29ydCA9ICdkZXNjJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rlc2MnOlxuICAgICAgICAgICAgICAgIGNvbHVtbnNbY29sSWRdLnNvcnQgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjb2x1bW5zXG4gICAgICAgIH0sIHRoaXMucmVsb2FkLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRWaWV3VGFiKCkge1xuICAgICAgY3JlYXRlVGFiLmRpc3BhdGNoKCdlbnRpdHknLCBEYXRlLm5vdygpLCAndmlldycsIHRoaXMuc3RhdGUucXVlcnlEYXRhKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eS52YWx1ZTtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlcyA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5wcmVkaWNhdGUudmFsdWU7XG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGVzID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGVPcHRpb25zID0gZW50aXR5VHlwZXMubWFwKChlbnRpdHlUeXBlKSA9PiAoeyBrZXk6IGVudGl0eVR5cGUubGFiZWwsIHZhbHVlOiBlbnRpdHlUeXBlLnVpZH0pKTtcblxuICAgICAgICBjb25zdCB0YWJsZURhdGEgPSBlbnRpdGllcy5tYXAoKGVudGl0eSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5VHlwZSA9IGVudGl0eVR5cGVzLmZpbmQoKHQpID0+IHQudWlkID09PSBlbnRpdHkuZW50aXR5VHlwZSk7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlEYXRhID0gdGhpcy5zdGF0ZS5yZXN1bHRzLmZpbHRlcigocmVzKSA9PiByZXMuZW50aXR5ID09PSBlbnRpdHkudWlkKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1aWQ6IGVudGl0eS51aWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGVudGl0eS5sYWJlbCxcbiAgICAgICAgICAgICAgICBlbnRpdHlUeXBlLFxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMuc3RhdGUuY29sdW1ucy5tYXAoKGNvbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlEYXRhICE9PSB1bmRlZmluZWQgJiYgY29sLnByZWRpY2F0ZSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVkaWNhdGVEYXRhID0gZW50aXR5RGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHJlY29yZCkgPT4gcmVjb3JkLnByZWRpY2F0ZSA9PSBjb2wucHJlZGljYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGVEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcmVkaWNhdGVEYXRhLm1hcCgocHJlZCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlZC52YWx1ZVR5cGUgPT09ICdkYXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXREYXRlKHByZWQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlZC52YWx1ZVR5cGUgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWQudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdOb3Qgc2V0JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5zb3VyY2UudmFsdWUuZmluZCgoc291cmNlKSA9PiBzb3VyY2UudWlkID09PSBwcmVkLnZhbHVlKS5sYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWQudmFsdWVUeXBlID09PSAnZW50aXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVkLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTm90IHNldCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwuZW50aXR5LnZhbHVlLmZpbmQoKGVudGl0eSkgPT4gZW50aXR5LnVpZCA9PT0gcHJlZC52YWx1ZSkubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoKHJvdykgPT4ge1xuICAgICAgICAgICAgbGV0IGtlZXBSb3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb2x1bW5zLmZvckVhY2goKGNvbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb2wuZmlsdGVyVHlwZSA9PT0gJ2NvbnRhaW5zJyAmJiBjb2wuZmlsdGVyVmFsdWUubGVuZ3RoID4gMCAmJiBjb2wucHJlZGljYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cuY29sdW1uc1tpXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoY29sLmZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2VlcFJvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5maWx0ZXJUeXBlID09PSAnZXhpc3RzJyAmJiBjb2wucHJlZGljYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cuY29sdW1uc1tpXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBSb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2wuZmlsdGVyVHlwZSA9PT0gJ3NpbWlsYXInICYmIGNvbC5wcmVkaWNhdGUgIT09IG51bGwgJiYgY29sLmZpbHRlclZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBsZXYocm93LmNvbHVtbnNbaV0sIGNvbC5maWx0ZXJWYWx1ZSkuZGlzdGFuY2UgPj0gY29sLmZpbHRlclZhbHVlLmxlbmd0aCArIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBSb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBrZWVwUm93O1xuICAgICAgICB9KVxuICAgICAgICAuc29ydCgocm93MSwgcm93MikgPT4ge1xuICAgICAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY29sdW1ucy5mb3JFYWNoKChjb2wsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29sLnNvcnQgIT09ICdub25lJyAmJiByb3cxLmNvbHVtbnNbaV0gIT09IHJvdzIuY29sdW1uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAocm93MS5jb2x1bW5zW2ldID4gcm93Mi5jb2x1bW5zW2ldID8gMSA6IC0xKSAqIChNYXRoLnBvdygxMCwgMyAtIGkpKSAqIChjb2wuc29ydCA9PT0gJ2FzYycgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd29ya3NwYWNlLWVkaXRvcic+XG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT0nZWRpdG9yLWhlYWRlciBlbnRpdHknPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHJpbWFyeS10b29sYmFyJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbi10b29sYmFyJz5cbiAgICAgICAgICAgICAgICAgICAgPGgyPkFsbCBFbnRpdGllcyA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtcGx1cy1jaXJjbGUgYWRkIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT0nQWRkIG5ldyBlbnRpdHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGROZXcuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgPjwvaT48L2gyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3ViLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ZhIGZhLWZvbGRlci1vcGVuLW8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGRWaWV3VGFiLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdlZGl0b3ItYm9keSc+XG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0ndGFibGUnPlxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiM8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5MYWJlbDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlR5cGU8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY3VzdG9tQ29sdW1ucyhwcmVkaWNhdGVzLCB0aGlzLnN0YXRlLmNvbHVtbnMsIHRoaXMudXBkYXRlQ29sdW1uUGFyYW1zLmJpbmQodGhpcyksIHRoaXMucm90YXRlU29ydC5iaW5kKHRoaXMpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tYm9Ecm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW50aXR5VHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lPSdlbnRpdHkgdHlwZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93TmV3PXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlPXsoZW50aXR5VHlwZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IGVudGl0eVR5cGUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtlbnRpdHlUeXBlT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5ld1ZhbHVlPXtub29wfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFjdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY29sdW1ucy5tYXAoKGNvbCwgaWQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGtleT17YGNvbC0ke2lkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZmlsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCB2YWx1ZT17Y29sLmZpbHRlclR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwYWRkZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnVwZGF0ZUNvbHVtblBhcmFtcyhpZCwgJ2YnLCBlLnRhcmdldC52YWx1ZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nYW55Jz5Bbnk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2V4aXN0cyc+RXhpc3RzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdjb250YWlucyc+Q29udGFpbnM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J3NpbWlsYXInPlNpbWlsYXI8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y29sLmZpbHRlclR5cGUgPT09ICdhbnknIHx8IGNvbC5maWx0ZXJUeXBlID09PSAnZXhpc3RzJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy51cGRhdGVDb2x1bW5QYXJhbXMoaWQsICd2JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbC5maWx0ZXJWYWx1ZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICB7dGFibGVEYXRhLm1hcCgocm93KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17YGVudGl0eS0ke3Jvdy51aWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57cm93LnVpZH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3Jvdy5sYWJlbH0gPEFkZFRhYkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZD17cm93LnVpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J2VudGl0eScvPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57cm93LmVudGl0eVR5cGUgPyByb3cuZW50aXR5VHlwZS5sYWJlbCA6ICcnfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMCwxLDJdLm1hcCgoaWQpID0+ICg8dGQga2V5PXtgY29sLXZhbC0ke2lkfWB9Pntyb3cuY29sdW1uc1tpZF19PC90ZD4pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9vYmplY3RfbGlzdC9FbnRpdHlMaXN0LnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 60 */
/***/ function(module, exports) {

	eval("module.exports = require(\"levenshtein\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsZXZlbnNodGVpblwiP2JhNmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJsZXZlbnNodGVpblwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImxldmVuc2h0ZWluXCJcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 61 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst SearchBar_1 = __webpack_require__(35);\r\nclass PredicateList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'predicate',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {\r\n                initialName: ''\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header predicate'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"h2\", null, \r\n                            \"All Properties \", \r\n                            React.createElement(\"i\", {className: 'fa fa-plus-circle add button', title: 'Add new property', \"aria-hidden\": 'true', onClick: this.addNew.bind(this)}))\r\n                    )\r\n                )\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(SearchBar_1.SearchBar, {getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f })}), \r\n                React.createElement(\"table\", {className: 'table gap'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"td\", null, \"#\"), \r\n                            React.createElement(\"td\", null, \"Label\"), \r\n                            React.createElement(\"td\", null, \"Domain\"), \r\n                            React.createElement(\"td\", null, \"Range\"))\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.dataStore.all.predicate.value.filter(this.state.filterFunc).map((predicate) => {\r\n                        const entityType = this.props.dataStore.all.entity_type.value.find((t) => t.uid === predicate.domain);\r\n                        const rangeType = predicate.rangeIsReference ?\r\n                            this.props.dataStore.all.entity_type.value.find((t) => t.uid === predicate.range) :\r\n                            predicate.range;\r\n                        return (React.createElement(\"tr\", {key: `predicate-${predicate.uid}`}, \r\n                            React.createElement(\"td\", null, \r\n                                predicate.uid, \r\n                                \" \", \r\n                                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: predicate.uid, tabType: 'predicate'})), \r\n                            React.createElement(\"td\", null, predicate.label), \r\n                            React.createElement(\"td\", null, entityType ? entityType.label : ''), \r\n                            React.createElement(\"td\", null, predicate.rangeIsReference ? rangeType ? rangeType.label : '' : rangeType)));\r\n                    }))))));\r\n    }\r\n}\r\nexports.PredicateList = PredicateList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvUHJlZGljYXRlTGlzdC50c3g/NjVhZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFLL0IsMkNBQTZCLEVBQWlCLENBQUM7QUFHL0Msd0NBQTBCLEVBQWlCLENBQUM7QUFHNUMsd0NBQTBCLEVBQWMsQ0FBQztBQWtCekMsNEJBQW1DLEtBQUssQ0FBQyxTQUFTO0lBRTlDO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFVBQVUsRUFBRSxNQUFNLElBQUk7U0FDekIsQ0FBQztJQUNOLENBQUM7SUFFTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLEdBQXFCO1lBQ3hCLElBQUksRUFBRSxXQUFXO1lBQ2pCLFFBQVEsRUFBRTtZQUNWLENBQUM7WUFDRCxNQUFNLEVBQUUsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFDO1lBQ3RDLFFBQVEsRUFBRTtnQkFDTixXQUFXLEVBQUUsRUFBRTthQUNsQjtTQUNKLENBQUM7UUFFRixxQkFBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxDQUNQLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsa0JBQWtCO1lBQzdCLHFCQUFDLE1BQU0sSUFBQyxTQUFTLEVBQUMseUJBQXlCO2dCQUN6QyxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLGlCQUFpQjtvQkFDOUIscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxjQUFjO3dCQUN6QixxQkFBQyxFQUFFOzRCQUFDLGlCQUFlOzRCQUFBLHFCQUFDLENBQUMsSUFDakIsU0FBUyxFQUFDLDhCQUE4QixFQUN4QyxLQUFLLEVBQUMsa0JBQWtCLEdBQ3hCLFdBQVcsR0FBQyxNQUFNLEVBQ2xCLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDL0IsQ0FBSztxQkFDUjtpQkFDRjthQUNDO1lBRVQscUJBQUMsT0FBTyxJQUFDLFNBQVMsRUFBQyxhQUFhO2dCQUU1QixvQkFBQyxxQkFBUyxHQUNOLFFBQVEsRUFBRSxDQUFDLENBQVksS0FBSyxDQUFDLENBQUMsS0FBTSxFQUNwQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBRSxFQUN6RDtnQkFFRixxQkFBQyxLQUFLLElBQUMsU0FBUyxFQUFDLFdBQVc7b0JBQ3hCLHFCQUFDLEtBQUs7d0JBQ0YscUJBQUMsRUFBRTs0QkFDQyxxQkFBQyxFQUFFLFNBQUMsR0FBQyxDQUFLOzRCQUNWLHFCQUFDLEVBQUUsU0FBQyxPQUFLLENBQUs7NEJBQ2QscUJBQUMsRUFBRSxTQUFDLFFBQU0sQ0FBSzs0QkFDZixxQkFBQyxFQUFFLFNBQUMsT0FBSyxDQUFLLENBQ2I7cUJBQ0Q7b0JBQ1IscUJBQUMsS0FBSyxTQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVM7d0JBQ2xGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxLQUFLLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDdEcsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLGdCQUFnQjs0QkFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQzs0QkFDakYsU0FBUyxDQUFDLEtBQUssQ0FBQzt3QkFDcEIsTUFBTSxDQUFDLENBQ0gscUJBQUMsRUFBRSxJQUFDLEdBQUcsRUFBRSxhQUFhLFNBQVMsQ0FBQyxHQUFHLEVBQUc7NEJBQ2xDLHFCQUFDLEVBQUU7Z0NBQUUsU0FBUyxDQUFDLEdBQUk7Z0NBQUM7Z0NBQUEsb0JBQUMsMkJBQVksR0FDN0IsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBVSxFQUNoQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEdBQUksRUFDbkIsT0FBTyxFQUFDLFdBQVcsRUFBRyxDQUFLOzRCQUMvQixxQkFBQyxFQUFFLFNBQUUsU0FBUyxDQUFDLEtBQU0sQ0FBSzs0QkFDMUIscUJBQUMsRUFBRSxTQUFFLFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBSyxHQUFHLEVBQUcsQ0FBSzs0QkFDN0MscUJBQUMsRUFBRSxTQUFFLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsU0FBVSxDQUFLLENBQ25GLENBQ1IsQ0FBQztvQkFBQSxDQUFDLENBQ0wsQ0FDTSxDQUNKLENBQ0YsQ0FDUixDQUNMLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQS9FWSxxQkFBYSxnQkErRXpCIiwiZmlsZSI6IjYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFNpZGViYXIgZm9yIGVkaXRvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vQXBpU2VydmljZSc7XG5pbXBvcnQgeyBQcmVkaWNhdGUgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbmltcG9ydCB7IEFkZFRhYkJ1dHRvbiB9IGZyb20gJy4uL0FkZFRhYkJ1dHRvbic7XG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi8uLi9EYXRhU3RvcmUnO1xuXG5pbXBvcnQgeyBzaG93TW9kYWwgfSBmcm9tICcuLi8uLi9TaWduYWxsZXInO1xuaW1wb3J0IHsgTW9kYWxEZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kYWwvTW9kYWxEZWZpbml0aW9uJztcblxuaW1wb3J0IHsgU2VhcmNoQmFyIH0gZnJvbSAnLi4vU2VhcmNoQmFyJztcblxuXG5pbnRlcmZhY2UgUHJlZGljYXRlTGlzdFByb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgZGF0YVN0b3JlOiBEYXRhU3RvcmU7XG59XG5cbmludGVyZmFjZSBQcmVkaWNhdGVMaXN0U3RhdGUge1xuICAgIGZpbHRlckZ1bmM6IChwOiBQcmVkaWNhdGUpID0+IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBDb2x1bW5TZXR0aW5ncyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG51bGxhYmxlOiBib29sZWFuO1xuXG59XG5cbmV4cG9ydCBjbGFzcyBQcmVkaWNhdGVMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByZWRpY2F0ZUxpc3RQcm9wcywgUHJlZGljYXRlTGlzdFN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGZpbHRlckZ1bmM6ICgpID0+IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTmV3KCkge1xuICAgICAgICBjb25zdCBhIDogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3ByZWRpY2F0ZScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4geyBjb25zb2xlLmxvZygnY2FuY2VsJyl9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsTmFtZTogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzaG93TW9kYWwuZGlzcGF0Y2goYSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3dvcmtzcGFjZS1lZGl0b3InPlxuICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9J2VkaXRvci1oZWFkZXIgcHJlZGljYXRlJz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ByaW1hcnktdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21haW4tdG9vbGJhcic+XG4gICAgICAgICAgICAgICAgICAgIDxoMj5BbGwgUHJvcGVydGllcyA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1wbHVzLWNpcmNsZSBhZGQgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0FkZCBuZXcgcHJvcGVydHknXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkTmV3LmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgID48L2k+PC9oMj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdlZGl0b3ItYm9keSc+XG5cbiAgICAgICAgICAgICAgICA8U2VhcmNoQmFyXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlPXsoYTogUHJlZGljYXRlKSA9PiBhLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJGdW5jPXsoZikgPT4gdGhpcy5zZXRTdGF0ZSh7IGZpbHRlckZ1bmM6IGYgfSl9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9J3RhYmxlIGdhcCc+XG4gICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IzwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPkxhYmVsPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+RG9tYWluPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+UmFuZ2U8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLnByZWRpY2F0ZS52YWx1ZS5maWx0ZXIodGhpcy5zdGF0ZS5maWx0ZXJGdW5jKS5tYXAoKHByZWRpY2F0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50aXR5VHlwZSA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5lbnRpdHlfdHlwZS52YWx1ZS5maW5kKCh0KSA9PiB0LnVpZCA9PT0gcHJlZGljYXRlLmRvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZVR5cGUgPSBwcmVkaWNhdGUucmFuZ2VJc1JlZmVyZW5jZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlLmZpbmQoKHQpID0+IHQudWlkID09PSBwcmVkaWNhdGUucmFuZ2UpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGUucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2BwcmVkaWNhdGUtJHtwcmVkaWNhdGUudWlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3ByZWRpY2F0ZS51aWR9IDxBZGRUYWJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTdG9yZT17dGhpcy5wcm9wcy5kYXRhU3RvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ9e3ByZWRpY2F0ZS51aWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJUeXBlPSdwcmVkaWNhdGUnIC8+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPntwcmVkaWNhdGUubGFiZWx9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPntlbnRpdHlUeXBlID8gZW50aXR5VHlwZS5sYWJlbCA6ICcnfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57cHJlZGljYXRlLnJhbmdlSXNSZWZlcmVuY2UgPyByYW5nZVR5cGUgPyByYW5nZVR5cGUubGFiZWwgOiAnJyA6IHJhbmdlVHlwZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICApO31cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvUHJlZGljYXRlTGlzdC50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 62 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst SearchBar_1 = __webpack_require__(35);\r\nclass SourceList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true,\r\n            mode: 'list'\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'source',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {}\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header source'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"h2\", null, \r\n                            \"All Sources \", \r\n                            React.createElement(\"i\", {className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', title: 'Add new source', onClick: this.addNew.bind(this)}))\r\n                    )\r\n                ), \r\n                React.createElement(\"div\", {className: 'secondary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'tab-bar'}, \r\n                        React.createElement(\"div\", {className: 'source ' + (this.state.mode === 'list' ? 'selected' : ''), onClick: () => this.setState({ mode: 'list' })}, \"LIST\"), \r\n                        React.createElement(\"div\", {className: 'source ' + (this.state.mode === 'tree' ? 'selected' : ''), onClick: () => this.setState({ mode: 'tree' })}, \"TREE\"))\r\n                )), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(SearchBar_1.SearchBar, {getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f })}), \r\n                this.state.mode === 'list' ? (React.createElement(\"table\", {className: 'table gap'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"td\", null, \"#\"), \r\n                            React.createElement(\"td\", null, \"Name\"), \r\n                            React.createElement(\"td\", null, \"Parent\"))\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.dataStore.all.source.value.filter(this.state.filterFunc).map((source) => {\r\n                        return (React.createElement(\"tr\", {key: `source-${source.uid}`}, \r\n                            React.createElement(\"td\", null, \r\n                                source.uid, \r\n                                \" \", \r\n                                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: source.uid, tabType: 'source'})), \r\n                            React.createElement(\"td\", null, source.label), \r\n                            React.createElement(\"td\", null, source.parent)));\r\n                    })))) : null)));\r\n    }\r\n}\r\nexports.SourceList = SourceList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvU291cmNlTGlzdC50c3g/ODk1NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFPL0IsMkNBQTZCLEVBQWlCLENBQUM7QUFFL0Msd0NBQTBCLEVBQWlCLENBQUM7QUFHNUMsd0NBQTBCLEVBQWMsQ0FBQztBQWtCekMseUJBQWdDLEtBQUssQ0FBQyxTQUFTO0lBRTNDO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFVBQVUsRUFBRSxNQUFNLElBQUk7WUFDdEIsSUFBSSxFQUFFLE1BQU07U0FDZixDQUFDO0lBQ04sQ0FBQztJQUVNLE1BQU07UUFDVCxNQUFNLENBQUMsR0FBcUI7WUFDeEIsSUFBSSxFQUFFLFFBQVE7WUFDZCxRQUFRLEVBQUU7WUFDVixDQUFDO1lBQ0QsTUFBTSxFQUFFLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBQztZQUN0QyxRQUFRLEVBQUUsRUFBRTtTQUNmLENBQUM7UUFFRixxQkFBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBR00sTUFBTTtRQUNULE1BQU0sQ0FBQyxDQUNOLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsa0JBQWtCO1lBQzlCLHFCQUFDLE1BQU0sSUFBQyxTQUFTLEVBQUMsc0JBQXNCO2dCQUN0QyxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLGlCQUFpQjtvQkFDOUIscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxjQUFjO3dCQUN6QixxQkFBQyxFQUFFOzRCQUFDLGNBQVk7NEJBQUEscUJBQUMsQ0FBQyxJQUNkLFNBQVMsRUFBQyw4QkFBOEIsR0FDeEMsV0FBVyxHQUFDLE1BQU0sRUFDbEIsS0FBSyxFQUFDLGdCQUFnQixFQUN0QixPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLEVBQy9CLENBQUs7cUJBQ1I7aUJBQ0Y7Z0JBQ04scUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxtQkFBbUI7b0JBQ2hDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsU0FBUzt3QkFFdEIscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBRSxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxNQUFNLEdBQUcsVUFBVSxHQUFHLEVBQUUsQ0FBRSxFQUN6RSxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFFLEdBQUMsTUFBSSxDQUFNO3dCQUU1RCxxQkFBQyxHQUFHLElBQUUsU0FBUyxFQUFFLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLE1BQU0sR0FBRyxVQUFVLEdBQUcsRUFBRSxDQUFFLEVBQzFFLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUUsR0FBQyxNQUFJLENBQU0sQ0FFeEQ7aUJBQ0YsQ0FDQztZQUVULHFCQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUMsYUFBYTtnQkFFNUIsb0JBQUMscUJBQVMsR0FDTixRQUFRLEVBQUUsQ0FBQyxDQUFTLEtBQUssQ0FBQyxDQUFDLEtBQU0sRUFDakMsYUFBYSxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUUsRUFDekQ7Z0JBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssTUFBTSxHQUFHLENBQzVCLHFCQUFDLEtBQUssSUFBQyxTQUFTLEVBQUMsV0FBVztvQkFDMUIscUJBQUMsS0FBSzt3QkFDRixxQkFBQyxFQUFFOzRCQUNDLHFCQUFDLEVBQUUsU0FBQyxHQUFDLENBQUs7NEJBQ1YscUJBQUMsRUFBRSxTQUFDLE1BQUksQ0FBSzs0QkFDYixxQkFBQyxFQUFFLFNBQUMsUUFBTSxDQUFLLENBQ2Q7cUJBQ0Q7b0JBQ1IscUJBQUMsS0FBSyxTQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07d0JBQzVFLE1BQU0sQ0FBQyxDQUNILHFCQUFDLEVBQUUsSUFBQyxHQUFHLEVBQUUsVUFBVSxNQUFNLENBQUMsR0FBRyxFQUFHOzRCQUM1QixxQkFBQyxFQUFFO2dDQUFFLE1BQU0sQ0FBQyxHQUFJO2dDQUFDO2dDQUFBLG9CQUFDLDJCQUFZLEdBQzFCLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVUsRUFDaEMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFJLEVBQ2hCLE9BQU8sRUFBQyxRQUFRLEVBQUcsQ0FBSzs0QkFDNUIscUJBQUMsRUFBRSxTQUFFLE1BQU0sQ0FBQyxLQUFNLENBQUs7NEJBQ3ZCLHFCQUFDLEVBQUUsU0FBRSxNQUFNLENBQUMsTUFBTyxDQUFLLENBQ3ZCLENBQ1IsQ0FBQztvQkFBQSxDQUFDLENBQ0wsQ0FDTSxDQUNGLENBQ1QsR0FBRyxJQUFLLENBR0gsQ0FDUixDQUNMLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQXhGWSxrQkFBVSxhQXdGdEIiLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5cbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuaW1wb3J0IHsgQWRkVGFiQnV0dG9uIH0gZnJvbSAnLi4vQWRkVGFiQnV0dG9uJztcblxuaW1wb3J0IHsgc2hvd01vZGFsIH0gZnJvbSAnLi4vLi4vU2lnbmFsbGVyJztcbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4uL21vZGFsL01vZGFsRGVmaW5pdGlvbic7XG5cbmltcG9ydCB7IFNlYXJjaEJhciB9IGZyb20gJy4uL1NlYXJjaEJhcic7XG5cbmludGVyZmFjZSBTb3VyY2VMaXN0UHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIFNvdXJjZUxpc3RTdGF0ZSB7XG4gICAgZmlsdGVyRnVuYzogKHA6IFNvdXJjZSkgPT4gYm9vbGVhbjtcbiAgICBtb2RlOiAnbGlzdCcgfCAndHJlZSc7XG59XG5cbmludGVyZmFjZSBDb2x1bW5TZXR0aW5ncyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG51bGxhYmxlOiBib29sZWFuO1xuXG59XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFNvdXJjZUxpc3RQcm9wcywgU291cmNlTGlzdFN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGZpbHRlckZ1bmM6ICgpID0+IHRydWUsXG4gICAgICAgICAgICBtb2RlOiAnbGlzdCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTmV3KCkge1xuICAgICAgICBjb25zdCBhIDogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ3NvdXJjZScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4geyBjb25zb2xlLmxvZygnY2FuY2VsJyl9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHt9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKGEpO1xuICAgIH1cblxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3b3Jrc3BhY2UtZWRpdG9yJz5cbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPSdlZGl0b3ItaGVhZGVyIHNvdXJjZSc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcmltYXJ5LXRvb2xiYXInPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYWluLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICA8aDI+QWxsIFNvdXJjZXMgPGlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZmEgZmEtcGx1cy1jaXJjbGUgYWRkIGJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9J0FkZCBuZXcgc291cmNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGROZXcuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgPjwvaT48L2gyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NlY29uZGFyeS10b29sYmFyJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFiLWJhcic+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsnc291cmNlICcgKyAodGhpcy5zdGF0ZS5tb2RlID09PSAnbGlzdCcgPyAnc2VsZWN0ZWQnIDogJycpfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbW9kZTogJ2xpc3QnIH0pfT5MSVNUPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgIGNsYXNzTmFtZT17J3NvdXJjZSAnICsgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ3RyZWUnID8gJ3NlbGVjdGVkJyA6ICcnKX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IG1vZGU6ICd0cmVlJyB9KX0+VFJFRTwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0nZWRpdG9yLWJvZHknPlxuXG4gICAgICAgICAgICAgICAgPFNlYXJjaEJhclxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZT17KGE6IFNvdXJjZSkgPT4gYS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyRnVuYz17KGYpID0+IHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJGdW5jOiBmIH0pfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tb2RlID09PSAnbGlzdCcgPyAoXG4gICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPSd0YWJsZSBnYXAnPlxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiM8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5OYW1lPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+UGFyZW50PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5zb3VyY2UudmFsdWUuZmlsdGVyKHRoaXMuc3RhdGUuZmlsdGVyRnVuYykubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17YHNvdXJjZS0ke3NvdXJjZS51aWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57c291cmNlLnVpZH0gPEFkZFRhYkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVN0b3JlPXt0aGlzLnByb3BzLmRhdGFTdG9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZD17c291cmNlLnVpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J3NvdXJjZScgLz48L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3NvdXJjZS5sYWJlbH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3NvdXJjZS5wYXJlbnR9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTt9XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuXG5cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL29iamVjdF9saXN0L1NvdXJjZUxpc3QudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 63 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst AddTabButton_1 = __webpack_require__(46);\r\nconst Signaller_1 = __webpack_require__(21);\r\nconst SearchBar_1 = __webpack_require__(35);\r\nclass EntityTypeList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            filterFunc: () => true\r\n        };\r\n    }\r\n    addNew() {\r\n        const a = {\r\n            name: 'entity_type',\r\n            complete: () => {\r\n            },\r\n            cancel: () => { console.log('cancel'); },\r\n            settings: {}\r\n        };\r\n        Signaller_1.showModal.dispatch(a);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"div\", {className: 'workspace-editor'}, \r\n            React.createElement(\"header\", {className: 'editor-header entity_type'}, \r\n                React.createElement(\"div\", {className: 'primary-toolbar'}, \r\n                    React.createElement(\"div\", {className: 'main-toolbar'}, \r\n                        React.createElement(\"h2\", null, \r\n                            \"All Entity Types \", \r\n                            React.createElement(\"i\", {className: 'fa fa-plus-circle add button', \"aria-hidden\": 'true', title: 'Add new entity type', onClick: this.addNew.bind(this)}))\r\n                    )\r\n                )\r\n            ), \r\n            React.createElement(\"section\", {className: 'editor-body'}, \r\n                React.createElement(SearchBar_1.SearchBar, {getValue: (a) => a.label, setFilterFunc: (f) => this.setState({ filterFunc: f })}), \r\n                React.createElement(\"table\", {className: 'table gap'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"td\", null, \"#\"), \r\n                            React.createElement(\"td\", null, \"Name\"), \r\n                            React.createElement(\"td\", null, \"Parent\"), \r\n                            React.createElement(\"td\", null, \"Description\"))\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.dataStore.all.entity_type.value.filter(this.state.filterFunc).map((entityType) => {\r\n                        return (React.createElement(\"tr\", {key: `entityType-${entityType.uid}`}, \r\n                            React.createElement(\"td\", null, \r\n                                entityType.uid, \r\n                                \" \", \r\n                                React.createElement(AddTabButton_1.AddTabButton, {dataStore: this.props.dataStore, uid: entityType.uid, tabType: 'entity_type'})), \r\n                            React.createElement(\"td\", null, entityType.label), \r\n                            React.createElement(\"td\", null, entityType.parent), \r\n                            React.createElement(\"td\", null, entityType.description)));\r\n                    }))))));\r\n    }\r\n}\r\nexports.EntityTypeList = EntityTypeList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvRW50aXR5VHlwZUxpc3QudHN4Pzg5OWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBTS9CLDJDQUE2QixFQUFpQixDQUFDO0FBRS9DLHdDQUEwQixFQUFpQixDQUFDO0FBRzVDLHdDQUEwQixFQUFjLENBQUM7QUFXekMsNkJBQW9DLEtBQUssQ0FBQyxTQUFTO0lBRS9DO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFVBQVUsRUFBRSxNQUFNLElBQUk7U0FDekIsQ0FBQztJQUNOLENBQUM7SUFFTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLEdBQXFCO1lBQ3hCLElBQUksRUFBRSxhQUFhO1lBQ25CLFFBQVEsRUFBRTtZQUNWLENBQUM7WUFDRCxNQUFNLEVBQUUsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFDO1lBQ3RDLFFBQVEsRUFBRSxFQUFFO1NBQ2YsQ0FBQztRQUVGLHFCQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFHTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLENBQ1AscUJBQUMsR0FBRyxJQUFDLFNBQVMsRUFBQyxrQkFBa0I7WUFFN0IscUJBQUMsTUFBTSxJQUFDLFNBQVMsRUFBQywyQkFBMkI7Z0JBQzNDLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsaUJBQWlCO29CQUM5QixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLGNBQWM7d0JBQ3pCLHFCQUFDLEVBQUU7NEJBQUMsbUJBQWlCOzRCQUFBLHFCQUFDLENBQUMsSUFDbkIsU0FBUyxFQUFDLDhCQUE4QixHQUN4QyxXQUFXLEdBQUMsTUFBTSxFQUNsQixLQUFLLEVBQUMscUJBQXFCLEVBQzNCLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDL0IsQ0FBSztxQkFDUjtpQkFDRjthQUNDO1lBRVQscUJBQUMsT0FBTyxJQUFDLFNBQVMsRUFBQyxhQUFhO2dCQUU1QixvQkFBQyxxQkFBUyxHQUNOLFFBQVEsRUFBRSxDQUFDLENBQWEsS0FBSyxDQUFDLENBQUMsS0FBTSxFQUNyQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBRSxFQUN6RDtnQkFFRixxQkFBQyxLQUFLLElBQUMsU0FBUyxFQUFDLFdBQVc7b0JBQ3hCLHFCQUFDLEtBQUs7d0JBQ0YscUJBQUMsRUFBRTs0QkFDQyxxQkFBQyxFQUFFLFNBQUMsR0FBQyxDQUFLOzRCQUNWLHFCQUFDLEVBQUUsU0FBQyxNQUFJLENBQUs7NEJBQ2IscUJBQUMsRUFBRSxTQUFDLFFBQU0sQ0FBSzs0QkFDZixxQkFBQyxFQUFFLFNBQUMsYUFBVyxDQUFLLENBQ25CO3FCQUNEO29CQUNSLHFCQUFDLEtBQUssU0FDTCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVO3dCQUNyRixNQUFNLENBQUMsQ0FDSCxxQkFBQyxFQUFFLElBQUMsR0FBRyxFQUFFLGNBQWMsVUFBVSxDQUFDLEdBQUcsRUFBRzs0QkFDcEMscUJBQUMsRUFBRTtnQ0FBRSxVQUFVLENBQUMsR0FBSTtnQ0FBQztnQ0FBQSxvQkFBQywyQkFBWSxHQUM5QixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFVLEVBQ2hDLEdBQUcsRUFBRSxVQUFVLENBQUMsR0FBSSxFQUNwQixPQUFPLEVBQUMsYUFBYSxFQUFHLENBQUs7NEJBQ2pDLHFCQUFDLEVBQUUsU0FBRSxVQUFVLENBQUMsS0FBTSxDQUFLOzRCQUMzQixxQkFBQyxFQUFFLFNBQUUsVUFBVSxDQUFDLE1BQU8sQ0FBSzs0QkFDNUIscUJBQUMsRUFBRSxTQUFFLFVBQVUsQ0FBQyxXQUFZLENBQUssQ0FDaEMsQ0FDUixDQUFDO29CQUFBLENBQUMsQ0FDTCxDQUNNLENBQ0osQ0FDRixDQUNSLENBQ0wsQ0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBM0VZLHNCQUFjLGlCQTJFMUIiLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBFbnRpdHlUeXBlIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuXG5pbXBvcnQgeyBBZGRUYWJCdXR0b24gfSBmcm9tICcuLi9BZGRUYWJCdXR0b24nO1xuXG5pbXBvcnQgeyBzaG93TW9kYWwgfSBmcm9tICcuLi8uLi9TaWduYWxsZXInO1xuaW1wb3J0IHsgTW9kYWxEZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kYWwvTW9kYWxEZWZpbml0aW9uJztcblxuaW1wb3J0IHsgU2VhcmNoQmFyIH0gZnJvbSAnLi4vU2VhcmNoQmFyJztcblxuaW50ZXJmYWNlIEVudGl0eVR5cGVMaXN0UHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIEVudGl0eVR5cGVMaXN0U3RhdGUge1xuICAgIGZpbHRlckZ1bmM6ICh0OiBFbnRpdHlUeXBlKSA9PiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRW50aXR5VHlwZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RW50aXR5VHlwZUxpc3RQcm9wcywgRW50aXR5VHlwZUxpc3RTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBmaWx0ZXJGdW5jOiAoKSA9PiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE5ldygpIHtcbiAgICAgICAgY29uc3QgYSA6IE1vZGFsRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdlbnRpdHlfdHlwZScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4geyBjb25zb2xlLmxvZygnY2FuY2VsJyl9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHt9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2hvd01vZGFsLmRpc3BhdGNoKGEpO1xuICAgIH1cblxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3dvcmtzcGFjZS1lZGl0b3InPlxuXG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT0nZWRpdG9yLWhlYWRlciBlbnRpdHlfdHlwZSc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcmltYXJ5LXRvb2xiYXInPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYWluLXRvb2xiYXInPlxuICAgICAgICAgICAgICAgICAgICA8aDI+QWxsIEVudGl0eSBUeXBlcyA8aVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmYSBmYS1wbHVzLWNpcmNsZSBhZGQgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49J3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT0nQWRkIG5ldyBlbnRpdHkgdHlwZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkTmV3LmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgID48L2k+PC9oMj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdlZGl0b3ItYm9keSc+XG5cbiAgICAgICAgICAgICAgICA8U2VhcmNoQmFyXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlPXsoYTogRW50aXR5VHlwZSkgPT4gYS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyRnVuYz17KGYpID0+IHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJGdW5jOiBmIH0pfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPSd0YWJsZSBnYXAnPlxuICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiM8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5OYW1lPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+UGFyZW50PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+RGVzY3JpcHRpb248L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlLmZpbHRlcih0aGlzLnN0YXRlLmZpbHRlckZ1bmMpLm1hcCgoZW50aXR5VHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtgZW50aXR5VHlwZS0ke2VudGl0eVR5cGUudWlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e2VudGl0eVR5cGUudWlkfSA8QWRkVGFiQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU3RvcmU9e3RoaXMucHJvcHMuZGF0YVN0b3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkPXtlbnRpdHlUeXBlLnVpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYlR5cGU9J2VudGl0eV90eXBlJyAvPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57ZW50aXR5VHlwZS5sYWJlbH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e2VudGl0eVR5cGUucGFyZW50fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57ZW50aXR5VHlwZS5kZXNjcmlwdGlvbn08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICApO31cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvb2JqZWN0X2xpc3QvRW50aXR5VHlwZUxpc3QudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 64 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Toast controller\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Signaller_1 = __webpack_require__(21);\r\nclass Toast extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            toasts: [],\r\n            nextId: 0\r\n        };\r\n        this.boundShowToast = this.addToast.bind(this);\r\n        Signaller_1.showToast.add(this.boundShowToast);\r\n    }\r\n    componentWillUnmount() {\r\n        Signaller_1.showToast.remove(this.boundShowToast);\r\n    }\r\n    addToast(title, message, level = 'warning', lifeTime = 3000) {\r\n        const id = this.state.nextId;\r\n        this.setState({\r\n            toasts: this.state.toasts.concat([{ title, message, level, lifeTime, id }]),\r\n            nextId: id + 1\r\n        });\r\n        setTimeout(() => {\r\n            this.setState({\r\n                toasts: this.state.toasts.filter((toast) => toast.id !== id)\r\n            });\r\n        }, lifeTime);\r\n    }\r\n    render() {\r\n        return (React.createElement(\"span\", null, this.state.toasts.map((toast, i) => (React.createElement(\"div\", {key: `toast-${toast.id}`, style: { bottom: (1 + 7 * i) + 'em' }, className: `toast ${toast.level}`}, \r\n            React.createElement(\"div\", {className: 'title'}, toast.title), \r\n            React.createElement(\"div\", {className: 'message'}, toast.message))))));\r\n    }\r\n}\r\nexports.Toast = Toast;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvVG9hc3QudHN4Pzg0YjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxNQUFZLEtBQUssdUJBQU0sQ0FBTyxDQUFDO0FBQy9CLHdDQUEwQixFQUFjLENBQUM7QUFrQnpDLG9CQUEyQixLQUFLLENBQUMsU0FBUztJQUl0QztRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxNQUFNLEVBQUUsRUFBRTtZQUNWLE1BQU0sRUFBRSxDQUFDO1NBQ2IsQ0FBQztRQUVGLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MscUJBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFTSxvQkFBb0I7UUFDdkIscUJBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFTSxRQUFRLENBQUMsS0FBYSxFQUFFLE9BQWUsRUFBRSxLQUFLLEdBQVcsU0FBUyxFQUFFLFFBQVEsR0FBVyxJQUFJO1FBRTlGLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBRTdCLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDVixNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUMzRSxNQUFNLEVBQUUsRUFBRSxHQUFHLENBQUM7U0FDakIsQ0FBQyxDQUFDO1FBRUgsVUFBVSxDQUFDO1lBQ1AsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFDVixNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDO2FBQy9ELENBQUM7UUFDTixDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVNLE1BQU07UUFDVCxNQUFNLENBQUMsQ0FBQyxxQkFBQyxJQUFJLFNBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUNqQyxxQkFBQyxHQUFHLElBQUMsR0FBRyxFQUFFLFNBQVMsS0FBSyxDQUFDLEVBQUUsRUFBRyxFQUFDLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLEVBQUMsU0FBUyxFQUFFLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRztZQUNsRyxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLE9BQU8sR0FDakIsS0FBSyxDQUFDLEtBQU0sQ0FDWDtZQUNOLHFCQUFDLEdBQUcsSUFBQyxTQUFTLEVBQUMsU0FBUyxHQUNuQixLQUFLLENBQUMsT0FBUSxDQUNiLENBQ0osQ0FDVCxDQUFFLENBQ0EsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztBQUNMLENBQUM7QUFqRFksYUFBSyxRQWlEakIiLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgVG9hc3QgY29udHJvbGxlclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2hvd1RvYXN0IH0gZnJvbSAnLi4vU2lnbmFsbGVyJztcblxuaW50ZXJmYWNlIFNpbmdsZVRvYXN0IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGxldmVsOiBzdHJpbmc7XG4gICAgbGlmZVRpbWU6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFRvYXN0UHJvcHMge1xufVxuXG5pbnRlcmZhY2UgVG9hc3RTdGF0ZSB7XG4gICAgdG9hc3RzOiBTaW5nbGVUb2FzdFtdO1xuICAgIG5leHRJZDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgVG9hc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VG9hc3RQcm9wcywgVG9hc3RTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBib3VuZFNob3dUb2FzdDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdG9hc3RzOiBbXSxcbiAgICAgICAgICAgIG5leHRJZDogMFxuICAgICAgIH07XG5cbiAgICAgICB0aGlzLmJvdW5kU2hvd1RvYXN0ID0gdGhpcy5hZGRUb2FzdC5iaW5kKHRoaXMpO1xuICAgICAgIHNob3dUb2FzdC5hZGQodGhpcy5ib3VuZFNob3dUb2FzdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBzaG93VG9hc3QucmVtb3ZlKHRoaXMuYm91bmRTaG93VG9hc3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUb2FzdCh0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGxldmVsOiBzdHJpbmcgPSAnd2FybmluZycsIGxpZmVUaW1lOiBudW1iZXIgPSAzMDAwKSB7XG5cbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLnN0YXRlLm5leHRJZDtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHRvYXN0czogdGhpcy5zdGF0ZS50b2FzdHMuY29uY2F0KFt7IHRpdGxlLCBtZXNzYWdlLCBsZXZlbCwgbGlmZVRpbWUsIGlkIH1dKSxcbiAgICAgICAgICAgIG5leHRJZDogaWQgKyAxXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdG9hc3RzOiB0aGlzLnN0YXRlLnRvYXN0cy5maWx0ZXIoKHRvYXN0KSA9PiB0b2FzdC5pZCAhPT0gaWQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCBsaWZlVGltZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuICg8c3Bhbj5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnRvYXN0cy5tYXAoKHRvYXN0LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2B0b2FzdC0ke3RvYXN0LmlkfWB9IHN0eWxlPXt7Ym90dG9tOiAoMSArIDcgKiBpKSArICdlbSd9fSBjbGFzc05hbWU9e2B0b2FzdCAke3RvYXN0LmxldmVsfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGl0bGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RvYXN0LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lc3NhZ2UnPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RvYXN0Lm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvc3Bhbj4pO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvVG9hc3QudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 65 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nconst PredicateDescription_1 = __webpack_require__(55);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst literalTypes_1 = __webpack_require__(56);\r\nconst ApiService_1 = __webpack_require__(6);\r\nclass CreatePredicate extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: '',\r\n            domain: { key: '', value: '' },\r\n            range: { key: '', value: '' },\r\n            domainOptions: [],\r\n            rangeOptions: []\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({ name: this.props.initialName });\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.initialDomain !== undefined) {\r\n            this.props.api.getItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, this.props.initialDomain)\r\n                .then((result) => {\r\n                if (result.uid === null) {\r\n                    throw new Error('Unexpected null uid');\r\n                }\r\n                this.setState({\r\n                    domain: { key: result.label, value: result.uid.toString() },\r\n                    domainOptions: [\r\n                        { key: result.label, value: result.uid.toString() }\r\n                    ].concat(result.parents.map((entityType) => {\r\n                        if (entityType.uid === null) {\r\n                            throw new Error('Unexpected null uid');\r\n                        }\r\n                        return { key: entityType.label, value: entityType.uid.toString() };\r\n                    })) });\r\n            });\r\n        }\r\n        const results = this.props.dataStore.all.entity_type.value;\r\n        const entityTypeMap = results.map((entityType) => {\r\n            if (entityType.uid === null) {\r\n                throw new Error('Unexpected null uid');\r\n            }\r\n            return { key: entityType.label, value: entityType.uid.toString() };\r\n        });\r\n        if (this.props.initialDomain === undefined) {\r\n            this.setState({ domainOptions: entityTypeMap });\r\n        }\r\n        this.setState({\r\n            rangeOptions: literalTypes_1.literalTypes.map((lit) => ({ key: lit.label, value: lit.value, meta: 'literal' })).concat(entityTypeMap)\r\n        });\r\n    }\r\n    create() {\r\n        const newPredicate = falcon_core_1.Serializer.fromJson(falcon_core_1.Predicate, {\r\n            name: this.state.name,\r\n            domain: this.state.domain.value,\r\n            range: this.state.range.value,\r\n            rangeIsReference: this.state.range.meta !== 'literal'\r\n        });\r\n        this.props.api.postItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, newPredicate)\r\n            .then((result) => {\r\n            newPredicate.uid = result[0];\r\n            this.props.complete(newPredicate);\r\n        });\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-plus', \"aria-hidden\": 'true'}), \r\n                \" Create Property\"), \r\n            React.createElement(\"label\", {className: 'small'}, \"Name\"), \r\n            React.createElement(\"input\", {type: 'text', className: 'gap', ref: (a) => { if (a !== null)\r\n                a.focus(); }, value: this.state.name, onChange: (e) => this.setState({ name: e.target.value })}), \r\n            React.createElement(PredicateDescription_1.PredicateDescription, {domain: this.state.domain, range: this.state.range, domainChanged: (s) => this.setState({ domain: s }), rangeChanged: (s) => this.setState({ range: s }), domainOptions: this.state.domainOptions, rangeOptions: this.state.rangeOptions, mode: 'editAll'}), \r\n            React.createElement(\"div\", {className: 'modal-toolbar'}, \r\n                React.createElement(\"button\", {onClick: this.props.cancel, className: 'pull-left'}, \"Cancel\"), \r\n                React.createElement(\"button\", {onClick: this.create.bind(this), className: 'pull-right'}, \"Create Property\"))));\r\n    }\r\n}\r\nexports.CreatePredicate = CreatePredicate;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlUHJlZGljYXRlLnRzeD9jMDhjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixzQ0FBd0IsRUFBWSxDQUFDO0FBQ3JDLG1EQUFxQyxFQUFnQyxDQUFDO0FBQ3RFLDBDQUFrRCxFQUFhLENBQUM7QUFDaEUsMkNBQTZCLEVBQW9CLENBQUM7QUFDbEQseUNBQW9DLENBQWtCLENBQUM7QUFzQnZELDhCQUFxQyxLQUFLLENBQUMsU0FBUztJQUVoRDtRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxJQUFJLEVBQUUsRUFBRTtZQUNSLE1BQU0sRUFBRSxFQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQztZQUM1QixLQUFLLEVBQUUsRUFBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUM7WUFDM0IsYUFBYSxFQUFFLEVBQUU7WUFDakIsWUFBWSxFQUFFLEVBQUU7U0FDbkIsQ0FBQztJQUNOLENBQUM7SUFFTSxrQkFBa0I7UUFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVNLGlCQUFpQjtRQUNwQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyx3QkFBVSxFQUFFLG9CQUFPLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO2lCQUNqRixJQUFJLENBQUMsQ0FBQyxNQUFNO2dCQUVULEVBQUUsQ0FBQyxDQUFD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SUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFjLEVBQ3hDLFlBQVksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQWEsRUFDdEMsSUFBSSxFQUFDLFNBQVMsRUFBRztZQUNyQixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLGVBQWU7Z0JBQzFCLHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFPLEVBQUMsU0FBUyxFQUFDLFdBQVcsR0FBQyxRQUFNLENBQVM7Z0JBQ3pFLHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLEVBQUMsU0FBUyxFQUFDLFlBQVksR0FBQyxpQkFBZSxDQUFTLENBQ3RGLENBQ0EsQ0FDVCxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUFuR1ksdUJBQWUsa0JBbUczQjtBQUFBLENBQUMiLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IFByZWRpY2F0ZURlc2NyaXB0aW9uIH0gZnJvbSAnLi4vZmllbGRzL1ByZWRpY2F0ZURlc2NyaXB0aW9uJztcbmltcG9ydCB7IFByZWRpY2F0ZSwgRW50aXR5VHlwZSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IGxpdGVyYWxUeXBlcyB9IGZyb20gJy4uLy4uL2xpdGVyYWxUeXBlcyc7XG5pbXBvcnQgeyBBcGlTZXJ2aWNlLCBBcHBVcmxzIH0gZnJvbSAnLi4vLi4vQXBpU2VydmljZSc7XG5pbXBvcnQgeyBEYXRhU3RvcmUgfSBmcm9tICcuLi8uLi9EYXRhU3RvcmUnO1xuaW1wb3J0IHsgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuXG5cbmludGVyZmFjZSBDcmVhdGVQcmVkaWNhdGVQcm9wcyB7XG4gICAgaW5pdGlhbE5hbWU6IHN0cmluZztcbiAgICBjYW5jZWw6ICgpID0+IHZvaWQ7XG4gICAgY29tcGxldGU6IChuZXdQcmVkaWNhdGU6IFByZWRpY2F0ZSkgPT4gdm9pZDtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgaW5pdGlhbERvbWFpbj86IG51bWJlcjtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbn1cblxuaW50ZXJmYWNlIENyZWF0ZVByZWRpY2F0ZVN0YXRlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZG9tYWluOiBDb21ib0Ryb3Bkb3duT3B0aW9uO1xuICAgIHJhbmdlOiBDb21ib0Ryb3Bkb3duT3B0aW9uO1xuICAgIGRvbWFpbk9wdGlvbnM6IENvbWJvRHJvcGRvd25PcHRpb25bXTtcbiAgICByYW5nZU9wdGlvbnM6IENvbWJvRHJvcGRvd25PcHRpb25bXTtcbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVByZWRpY2F0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxDcmVhdGVQcmVkaWNhdGVQcm9wcywgQ3JlYXRlUHJlZGljYXRlU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBkb21haW46IHtrZXk6ICcnLCB2YWx1ZTogJyd9LFxuICAgICAgICAgICAgcmFuZ2U6IHtrZXk6ICcnLCB2YWx1ZTogJyd9LFxuICAgICAgICAgICAgZG9tYWluT3B0aW9uczogW10sXG4gICAgICAgICAgICByYW5nZU9wdGlvbnM6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5hbWU6IHRoaXMucHJvcHMuaW5pdGlhbE5hbWUgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbml0aWFsRG9tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICB0aGlzLnByb3BzLmFwaS5nZXRJdGVtKEVudGl0eVR5cGUsIEFwcFVybHMuZW50aXR5X3R5cGUsIHRoaXMucHJvcHMuaW5pdGlhbERvbWFpbilcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudWlkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBudWxsIHVpZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGRvbWFpbjogeyBrZXk6IHJlc3VsdC5sYWJlbCwgdmFsdWU6IHJlc3VsdC51aWQudG9TdHJpbmcoKX0sXG4gICAgICAgICAgICAgICAgZG9tYWluT3B0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7IGtleTogcmVzdWx0LmxhYmVsLCB2YWx1ZTogcmVzdWx0LnVpZC50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgIF0uY29uY2F0KHJlc3VsdC5wYXJlbnRzLm1hcCgoZW50aXR5VHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5VHlwZS51aWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBudWxsIHVpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGtleTogZW50aXR5VHlwZS5sYWJlbCwgdmFsdWU6IGVudGl0eVR5cGUudWlkLnRvU3RyaW5nKCkgfVxuICAgICAgICAgICAgICAgIH0pKX0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eV90eXBlLnZhbHVlO1xuICAgICAgICBjb25zdCBlbnRpdHlUeXBlTWFwIDogQ29tYm9Ecm9wZG93bk9wdGlvbltdID0gcmVzdWx0cy5tYXAoKGVudGl0eVR5cGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRpdHlUeXBlLnVpZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBudWxsIHVpZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBlbnRpdHlUeXBlLmxhYmVsLCB2YWx1ZTogZW50aXR5VHlwZS51aWQudG9TdHJpbmcoKSB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmluaXRpYWxEb21haW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvbWFpbk9wdGlvbnM6IGVudGl0eVR5cGVNYXAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHJhbmdlT3B0aW9uczogIGxpdGVyYWxUeXBlcy5tYXAoKGxpdCkgPT4gKHsga2V5OiBsaXQubGFiZWwsIHZhbHVlOiBsaXQudmFsdWUsIG1ldGE6ICdsaXRlcmFsJ30pKS5jb25jYXQoZW50aXR5VHlwZU1hcClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcblxuICAgICAgICBjb25zdCBuZXdQcmVkaWNhdGUgPSBTZXJpYWxpemVyLmZyb21Kc29uKFByZWRpY2F0ZSwge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxuICAgICAgICAgICAgZG9tYWluOiB0aGlzLnN0YXRlLmRvbWFpbi52YWx1ZSxcbiAgICAgICAgICAgIHJhbmdlOiB0aGlzLnN0YXRlLnJhbmdlLnZhbHVlLFxuICAgICAgICAgICAgcmFuZ2VJc1JlZmVyZW5jZTogdGhpcy5zdGF0ZS5yYW5nZS5tZXRhICE9PSAnbGl0ZXJhbCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucG9zdEl0ZW0oUHJlZGljYXRlLCBBcHBVcmxzLnByZWRpY2F0ZSwgbmV3UHJlZGljYXRlKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIG5ld1ByZWRpY2F0ZS51aWQgPSByZXN1bHRbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZShuZXdQcmVkaWNhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPE92ZXJsYXk+XG4gICAgICAgICAgICA8aDI+PGkgY2xhc3NOYW1lPSdmYSBmYS1wbHVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiBDcmVhdGUgUHJvcGVydHk8L2gyPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nc21hbGwnPk5hbWU8L2xhYmVsPlxuXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2dhcCdcbiAgICAgICAgICAgICAgICByZWY9eyhhKSA9PiAgeyBpZihhICE9PSBudWxsKSBhLmZvY3VzKCk7IH19XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuc2V0U3RhdGUoeyBuYW1lOiBlLnRhcmdldC52YWx1ZSB9KX0gLz5cblxuICAgICAgICAgICAgPFByZWRpY2F0ZURlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgZG9tYWluPXt0aGlzLnN0YXRlLmRvbWFpbn1cbiAgICAgICAgICAgICAgICByYW5nZT17dGhpcy5zdGF0ZS5yYW5nZX1cbiAgICAgICAgICAgICAgICBkb21haW5DaGFuZ2VkPXsocykgPT4gdGhpcy5zZXRTdGF0ZSh7IGRvbWFpbjogcyB9KX1cbiAgICAgICAgICAgICAgICByYW5nZUNoYW5nZWQ9eyhzKSA9PiB0aGlzLnNldFN0YXRlKHsgcmFuZ2U6IHMgfSl9XG4gICAgICAgICAgICAgICAgZG9tYWluT3B0aW9ucz17dGhpcy5zdGF0ZS5kb21haW5PcHRpb25zfVxuICAgICAgICAgICAgICAgIHJhbmdlT3B0aW9ucz17dGhpcy5zdGF0ZS5yYW5nZU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgbW9kZT0nZWRpdEFsbCcgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtb2RhbC10b29sYmFyJz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FuY2VsfSBjbGFzc05hbWU9J3B1bGwtbGVmdCc+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpfSBjbGFzc05hbWU9J3B1bGwtcmlnaHQnPkNyZWF0ZSBQcm9wZXJ0eTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvT3ZlcmxheT5cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9jb21wb25lbnRzL21vZGFsL0NyZWF0ZVByZWRpY2F0ZS50c3giXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 66 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nclass Overlay extends React.Component {\r\n    render() {\r\n        return (React.createElement(\"div\", {className: 'full-page-overlay'}, \r\n            React.createElement(\"div\", {className: 'overlay-container'}, this.props.children)\r\n        ));\r\n    }\r\n}\r\nexports.Overlay = Overlay;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvT3ZlcmxheS50c3g/ODA5MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFVL0Isc0JBQTZCLEtBQUssQ0FBQyxTQUFTO0lBRWpDLE1BQU07UUFDVCxNQUFNLENBQUMsQ0FDUCxxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLG1CQUFtQjtZQUM5QixxQkFBQyxHQUFHLElBQUMsU0FBUyxFQUFDLG1CQUFtQixHQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVMsQ0FDbkI7U0FDSixDQUNMLENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQVhZLGVBQU8sVUFXbkI7QUFBQSxDQUFDIiwiZmlsZSI6IjY2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFNpZGViYXIgZm9yIGVkaXRvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgT3ZlcmxheVByb3BzIHtcblxufVxuXG5pbnRlcmZhY2UgT3ZlcmxheVN0YXRle1xuXG59XG5cbmV4cG9ydCBjbGFzcyBPdmVybGF5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE92ZXJsYXlQcm9wcywgT3ZlcmxheVN0YXRlPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZnVsbC1wYWdlLW92ZXJsYXknPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J292ZXJsYXktY29udGFpbmVyJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9PdmVybGF5LnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 67 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst Signaller_1 = __webpack_require__(21);\r\nclass CreateRecord extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            comboValue: { key: '', value: '' },\r\n            searchValue: ''\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.refs['comboDropDown'].refs['comboDropDownInputBox'].focus();\r\n    }\r\n    createNewPredicate() {\r\n        const modalDef = {\r\n            name: 'predicate',\r\n            complete: (data) => {\r\n                console.log('Predicate editor called complete');\r\n                this.setComboValue({ key: data.label, value: data.uid.toString(), meta: data });\r\n            },\r\n            cancel: () => {\r\n                console.log('Predicate editor called cancel');\r\n            },\r\n            settings: {\r\n                initialName: this.state.searchValue,\r\n                initialDomain: this.props.entityType\r\n            }\r\n        };\r\n        Signaller_1.showModal.dispatch(modalDef);\r\n    }\r\n    setComboValue(opt) {\r\n        this.props.api.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n            predicate: opt.meta.uid,\r\n            entity: this.props.entityUid,\r\n            valueType: opt.meta.rangeIsReference ? 'entity' : opt.meta.range,\r\n            score: 3\r\n        }))\r\n            .then((result) => this.props.complete(result))\r\n            .catch(this.props.cancel);\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \"Create Record\"), \r\n            React.createElement(ComboDropdown_1.ComboDropdown, {ref: 'comboDropDown', options: this.props.options, typeName: 'predicate', value: this.state.comboValue, setValue: this.setComboValue.bind(this), createNewValue: this.createNewPredicate.bind(this), updateSearchString: (s) => this.setState({ searchValue: s })})));\r\n    }\r\n}\r\nexports.CreateRecord = CreateRecord;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlUmVjb3JkLnRzeD8zMDhjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixzQ0FBd0IsRUFBWSxDQUFDO0FBQ3JDLDBDQUE4QyxFQUFhLENBQUM7QUFDNUQseUNBQW9DLENBQWtCLENBQUM7QUFDdkQsNENBQW1ELEVBQWtCLENBQUM7QUFFdEUsd0NBQTBCLEVBQWlCLENBQUM7QUFpQjVDLDJCQUFrQyxLQUFLLENBQUMsU0FBUztJQUU3QztRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxVQUFVLEVBQUUsRUFBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUM7WUFDaEMsV0FBVyxFQUFFLEVBQUU7U0FDbEIsQ0FBQztJQUNOLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyRSxDQUFDO0lBRU0sa0JBQWtCO1FBQ3JCLE1BQU0sUUFBUSxHQUFvQjtZQUM5QixJQUFJLEVBQUUsV0FBVztZQUNqQixRQUFRLEVBQUUsQ0FBQyxJQUFnQjtnQkFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO2dCQUNoRCxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7WUFDbkYsQ0FBQztZQUNELE1BQU0sRUFBRTtnQkFDSixPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7WUFDbEQsQ0FBQztZQUNELFFBQVEsRUFBRTtnQkFDTixXQUFXLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXO2dCQUNuQyxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVO2FBQ3ZDO1NBQ0osQ0FBQztRQUVGLHFCQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFTSxhQUFhLENBQUMsR0FBb0Q7UUFDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLG9CQUFNLEVBQUUsb0JBQU8sQ0FBQyxNQUFNLEVBQzFDLHdCQUFVLENBQUMsUUFBUSxDQUFDLG9CQUFNLEVBQUU7WUFDeEIsU0FBUyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRztZQUN2QixNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTO1lBQzVCLFNBQVMsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUs7WUFDaEUsS0FBSyxFQUFFLENBQUM7U0FDWCxDQUFDLENBQUM7YUFDTixJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDN0MsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLE1BQU07UUFDVCxNQUFNLENBQUMsQ0FDUCxvQkFBQyxpQkFBTztZQUNKLHFCQUFDLEVBQUUsU0FBQyxlQUFhLENBQUs7WUFDdEIsb0JBQUMsNkJBQWEsR0FDVixHQUFHLEVBQUMsZUFBZSxFQUNuQixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFRLEVBQzVCLFFBQVEsRUFBQyxXQUFXLEVBQ3BCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVcsRUFDN0IsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUN4QyxjQUFjLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDbkQsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUMsQ0FBRSxFQUM5RCxDQUNJLENBQ1QsQ0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBN0RZLG9CQUFZLGVBNkR4QjtBQUFBLENBQUMiLCJmaWxlIjoiNjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IFJlY29yZCwgUHJlZGljYXRlLCBTZXJpYWxpemVyIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tYm9Ecm9wZG93biwgQ29tYm9Ecm9wZG93bk9wdGlvbiB9IGZyb20gJy4uL0NvbWJvRHJvcGRvd24nO1xuXG5pbXBvcnQgeyBzaG93TW9kYWwgfSBmcm9tICcuLi8uLi9TaWduYWxsZXInO1xuaW1wb3J0IHsgTW9kYWxEZWZpbml0aW9uIH0gZnJvbSAnLi9Nb2RhbERlZmluaXRpb24nO1xuXG5pbnRlcmZhY2UgQ3JlYXRlUmVjb3JkUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBvcHRpb25zOiB7IGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBtZXRhOiBQcmVkaWNhdGV9W107XG4gICAgY29tcGxldGU6IChzOiBhbnkpID0+IHZvaWQ7XG4gICAgY2FuY2VsOiAoKSA9PiB2b2lkO1xuICAgIGVudGl0eVVpZDogbnVtYmVyO1xuICAgIGVudGl0eVR5cGU6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIENyZWF0ZVJlY29yZFN0YXRlIHtcbiAgICBjb21ib1ZhbHVlOiBDb21ib0Ryb3Bkb3duT3B0aW9uO1xuICAgIHNlYXJjaFZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVSZWNvcmQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q3JlYXRlUmVjb3JkUHJvcHMsIENyZWF0ZVJlY29yZFN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbWJvVmFsdWU6IHtrZXk6ICcnLCB2YWx1ZTogJyd9LFxuICAgICAgICAgICAgc2VhcmNoVmFsdWU6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnJlZnNbJ2NvbWJvRHJvcERvd24nXS5yZWZzWydjb21ib0Ryb3BEb3duSW5wdXRCb3gnXS5mb2N1cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVOZXdQcmVkaWNhdGUoKSB7XG4gICAgICAgIGNvbnN0IG1vZGFsRGVmOiBNb2RhbERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBuYW1lOiAncHJlZGljYXRlJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoZGF0YSA6IFByZWRpY2F0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmVkaWNhdGUgZWRpdG9yIGNhbGxlZCBjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29tYm9WYWx1ZSh7IGtleTogZGF0YS5sYWJlbCwgdmFsdWU6IGRhdGEudWlkLnRvU3RyaW5nKCksIG1ldGE6IGRhdGF9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJlZGljYXRlIGVkaXRvciBjYWxsZWQgY2FuY2VsJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsTmFtZTogdGhpcy5zdGF0ZS5zZWFyY2hWYWx1ZSxcbiAgICAgICAgICAgICAgICBpbml0aWFsRG9tYWluOiB0aGlzLnByb3BzLmVudGl0eVR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzaG93TW9kYWwuZGlzcGF0Y2gobW9kYWxEZWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDb21ib1ZhbHVlKG9wdDogeyBrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgbWV0YTogUHJlZGljYXRlIH0pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hcGkucG9zdEl0ZW0oUmVjb3JkLCBBcHBVcmxzLnJlY29yZCxcbiAgICAgICAgICAgIFNlcmlhbGl6ZXIuZnJvbUpzb24oUmVjb3JkLCB7XG4gICAgICAgICAgICAgICAgcHJlZGljYXRlOiBvcHQubWV0YS51aWQsXG4gICAgICAgICAgICAgICAgZW50aXR5OiB0aGlzLnByb3BzLmVudGl0eVVpZCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IG9wdC5tZXRhLnJhbmdlSXNSZWZlcmVuY2UgPyAnZW50aXR5JyA6IG9wdC5tZXRhLnJhbmdlLFxuICAgICAgICAgICAgICAgIHNjb3JlOiAzXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gdGhpcy5wcm9wcy5jb21wbGV0ZShyZXN1bHQpKVxuICAgICAgICAuY2F0Y2godGhpcy5wcm9wcy5jYW5jZWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIDxPdmVybGF5PlxuICAgICAgICAgICAgPGgyPkNyZWF0ZSBSZWNvcmQ8L2gyPlxuICAgICAgICAgICAgPENvbWJvRHJvcGRvd25cbiAgICAgICAgICAgICAgICByZWY9J2NvbWJvRHJvcERvd24nXG4gICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5wcm9wcy5vcHRpb25zfVxuICAgICAgICAgICAgICAgIHR5cGVOYW1lPSdwcmVkaWNhdGUnXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY29tYm9WYWx1ZX1cbiAgICAgICAgICAgICAgICBzZXRWYWx1ZT17dGhpcy5zZXRDb21ib1ZhbHVlLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgY3JlYXRlTmV3VmFsdWU9e3RoaXMuY3JlYXRlTmV3UHJlZGljYXRlLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgdXBkYXRlU2VhcmNoU3RyaW5nPXsocykgPT4gdGhpcy5zZXRTdGF0ZSh7IHNlYXJjaFZhbHVlOiBzfSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L092ZXJsYXk+XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVSZWNvcmQudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 68 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst Signaller_1 = __webpack_require__(21);\r\nclass CreatePresetRecord extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {};\r\n    }\r\n    componentDidMount() {\r\n        if (CreatePresetRecord.openEntityDialog) {\r\n            CreatePresetRecord.openEntityDialog = false;\r\n            this.createNewEntity();\r\n        }\r\n        else {\r\n            CreatePresetRecord.openEntityDialog = true;\r\n        }\r\n    }\r\n    createNewEntity() {\r\n        const modalDef = {\r\n            name: 'entity',\r\n            complete: (data) => {\r\n                const isMentioned = this.props.dataStore.all.predicate.value.find((pred) => pred.label === 'is mentioned');\r\n                this.props.api.postItem(falcon_core_1.Record, ApiService_1.AppUrls.record, falcon_core_1.Serializer.fromJson(falcon_core_1.Record, {\r\n                    predicate: isMentioned.uid,\r\n                    entity: data[0],\r\n                    valueType: 'source',\r\n                    source: this.props.source.uid,\r\n                    score: 3\r\n                }))\r\n                    .then((result) => {\r\n                    this.props.complete(result);\r\n                })\r\n                    .catch(this.props.cancel);\r\n            },\r\n            cancel: () => {\r\n            },\r\n            settings: {}\r\n        };\r\n        Signaller_1.showModal.dispatch(modalDef);\r\n    }\r\n    render() {\r\n        return null;\r\n    }\r\n}\r\nCreatePresetRecord.openEntityDialog = true;\r\nexports.CreatePresetRecord = CreatePresetRecord;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlUHJlc2V0UmVjb3JkLnRzeD8xMmU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUcvQiwwQ0FBMkMsRUFBYSxDQUFDO0FBQ3pELHlDQUFvQyxDQUFrQixDQUFDO0FBSXZELHdDQUEwQixFQUFpQixDQUFDO0FBYzVDLGlDQUF3QyxLQUFLLENBQUMsU0FBUztJQUluRDtRQUNJLE9BQU8sQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFDVixDQUFDO0lBQ1IsQ0FBQztJQUVNLGlCQUFpQjtRQUNwQixFQUFFLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7WUFDdEMsa0JBQWtCLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1lBQzVDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUMzQixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixrQkFBa0IsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFDL0MsQ0FBQztJQUNMLENBQUM7SUFFTSxlQUFlO1FBQ2xCLE1BQU0sUUFBUSxHQUFvQjtZQUM5QixJQUFJLEVBQUUsUUFBUTtZQUNkLFFBQVEsRUFBRSxDQUFDLElBQWU7Z0JBRXRCLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxLQUFLLGNBQWMsQ0FBQyxDQUFDO2dCQUUzRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFDMUMsd0JBQVUsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRTtvQkFDeEIsU0FBUyxFQUFFLFdBQVcsQ0FBQyxHQUFHO29CQUMxQixNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDZixTQUFTLEVBQUUsUUFBUTtvQkFDbkIsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUc7b0JBQzdCLEtBQUssRUFBRSxDQUFDO2lCQUNYLENBQUMsQ0FBQztxQkFDTixJQUFJLENBQUMsQ0FBQyxNQUFNO29CQUNULElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNoQyxDQUFDLENBQUM7cUJBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUIsQ0FBQztZQUNELE1BQU0sRUFBRTtZQUNSLENBQUM7WUFDRCxRQUFRLEVBQUUsRUFBRTtTQUNmLENBQUM7UUFFRixxQkFBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztBQUNMLENBQUM7QUFoRGtCLG1DQUFnQixHQUFhLElBQUksQ0FBQztBQUZ4QywwQkFBa0IscUJBa0Q5QjtBQUFBLENBQUMiLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IFJlY29yZCwgU2VyaWFsaXplciwgU291cmNlIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgQXBpU2VydmljZSwgQXBwVXJscyB9IGZyb20gJy4uLy4uL0FwaVNlcnZpY2UnO1xuaW1wb3J0IHsgRGF0YVN0b3JlIH0gZnJvbSAnLi4vLi4vRGF0YVN0b3JlJztcbmltcG9ydCB7IENvbWJvRHJvcGRvd24sIENvbWJvRHJvcGRvd25PcHRpb24gfSBmcm9tICcuLi9Db21ib0Ryb3Bkb3duJztcblxuaW1wb3J0IHsgc2hvd01vZGFsIH0gZnJvbSAnLi4vLi4vU2lnbmFsbGVyJztcbmltcG9ydCB7IE1vZGFsRGVmaW5pdGlvbiB9IGZyb20gJy4vTW9kYWxEZWZpbml0aW9uJztcblxuaW50ZXJmYWNlIENyZWF0ZVByZXNldFJlY29yZFByb3BzIHtcbiAgICBhcGk6IEFwaVNlcnZpY2U7XG4gICAgY29tcGxldGU6IChzOiBhbnkpID0+IHZvaWQ7XG4gICAgY2FuY2VsOiAoKSA9PiB2b2lkO1xuICAgIHNvdXJjZTogU291cmNlO1xuICAgIGRhdGFTdG9yZTogRGF0YVN0b3JlO1xufVxuXG5pbnRlcmZhY2UgQ3JlYXRlUHJlc2V0UmVjb3JkU3RhdGUge1xufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlUHJlc2V0UmVjb3JkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENyZWF0ZVByZXNldFJlY29yZFByb3BzLCBDcmVhdGVQcmVzZXRSZWNvcmRTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgb3BlbkVudGl0eURpYWxvZyA6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmIChDcmVhdGVQcmVzZXRSZWNvcmQub3BlbkVudGl0eURpYWxvZykge1xuICAgICAgICAgICAgQ3JlYXRlUHJlc2V0UmVjb3JkLm9wZW5FbnRpdHlEaWFsb2cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTmV3RW50aXR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDcmVhdGVQcmVzZXRSZWNvcmQub3BlbkVudGl0eURpYWxvZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTmV3RW50aXR5KCkge1xuICAgICAgICBjb25zdCBtb2RhbERlZjogTW9kYWxEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogJ2VudGl0eScsXG4gICAgICAgICAgICBjb21wbGV0ZTogKGRhdGEgOiBudW1iZXJbXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNNZW50aW9uZWQgPSB0aGlzLnByb3BzLmRhdGFTdG9yZS5hbGwucHJlZGljYXRlLnZhbHVlLmZpbmQoKHByZWQpID0+IHByZWQubGFiZWwgPT09ICdpcyBtZW50aW9uZWQnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYXBpLnBvc3RJdGVtKFJlY29yZCwgQXBwVXJscy5yZWNvcmQsXG4gICAgICAgICAgICAgICAgICAgIFNlcmlhbGl6ZXIuZnJvbUpzb24oUmVjb3JkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVkaWNhdGU6IGlzTWVudGlvbmVkLnVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogZGF0YVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogJ3NvdXJjZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuc291cmNlLnVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiAzXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb21wbGV0ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKHRoaXMucHJvcHMuY2FuY2VsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXR0aW5nczoge31cbiAgICAgICAgfTtcblxuICAgICAgICBzaG93TW9kYWwuZGlzcGF0Y2gobW9kYWxEZWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlUHJlc2V0UmVjb3JkLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 69 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst mousetrap = __webpack_require__(51);\r\nclass CreateSource extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            internalValue: ''\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.setState({ internalValue: this.props.initialValue });\r\n    }\r\n    createSource() {\r\n        this.props.api.postItem(falcon_core_1.Source, ApiService_1.AppUrls.source, falcon_core_1.Serializer.fromJson(falcon_core_1.Source, {\r\n            name: this.state.internalValue\r\n        }))\r\n            .then(this.props.complete);\r\n    }\r\n    inputRef(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.createSource.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n            this.keyboardShortcuts.unbind('escape');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \"Create Source\"), \r\n            React.createElement(\"label\", {className: 'small'}, \"Name\"), \r\n            React.createElement(\"input\", {type: 'text', value: this.state.internalValue, ref: this.inputRef.bind(this), onChange: (e) => this.setState({ internalValue: e.target.value })}), \r\n            React.createElement(\"button\", {onClick: () => this.props.cancel(), className: 'pull-left'}, \"Cancel\"), \r\n            React.createElement(\"button\", {onClick: this.createSource.bind(this), className: 'pull-right'}, \"Create Source\")));\r\n    }\r\n}\r\nCreateSource.defaultProps = {\r\n    initialValue: ''\r\n};\r\nexports.CreateSource = CreateSource;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlU291cmNlLnRzeD8zZjFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixzQ0FBd0IsRUFBWSxDQUFDO0FBQ3JDLDBDQUFtQyxFQUFhLENBQUM7QUFDakQseUNBQW9DLENBQWtCLENBQUM7QUFFdkQsTUFBWSxTQUFTLHVCQUFNLEVBQVcsQ0FBQztBQWF2QywyQkFBa0MsS0FBSyxDQUFDLFNBQVM7SUFRN0M7UUFDSSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsYUFBYSxFQUFFLEVBQUU7U0FDcEIsQ0FBQztJQUNOLENBQUM7SUFFTSxrQkFBa0I7UUFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVNLFlBQVk7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFDMUMsd0JBQVUsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRTtZQUN4QixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhO1NBQ2pDLENBQUMsQ0FBQzthQUNOLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxRQUFRLENBQUMsR0FBdUI7UUFDbkMsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDZixHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDWixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QyxDQUFDO0lBQ0wsQ0FBQztJQUVNLE1BQU07UUFDVCxNQUFNLENBQUMsQ0FDUCxvQkFBQyxpQkFBTztZQUNKLHFCQUFDLEVBQUUsU0FBQyxlQUFhLENBQUs7WUFDdEIscUJBQUMsS0FBSyxJQUFDLFNBQVMsRUFBQyxPQUFPLEdBQUMsTUFBSSxDQUFRO1lBQ3JDLHFCQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsTUFBTSxFQUNkLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWMsRUFDaEMsR0FBRyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUM5QixRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFFLEVBQUc7WUFDekUscUJBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFHLEVBQUMsU0FBUyxFQUFDLFdBQVcsR0FBQyxRQUFNLENBQVM7WUFDakYscUJBQUMsTUFBTSxJQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxHQUFDLGVBQWEsQ0FBUyxDQUN0RixDQUNULENBQUM7SUFDTixDQUFDO0FBQ0wsQ0FBQztBQWpEaUIseUJBQVksR0FBdUI7SUFDOUMsWUFBWSxFQUFFLEVBQUU7Q0FDbEI7QUFOUSxvQkFBWSxlQXFEeEIiLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IFNvdXJjZSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcblxuaW1wb3J0ICogYXMgbW91c2V0cmFwIGZyb20gJ21vdXNldHJhcCc7XG5cbmludGVyZmFjZSBDcmVhdGVTb3VyY2VQcm9wcyB7XG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xuICAgIGNvbXBsZXRlOiAoczogc3RyaW5nKSA9PiB2b2lkO1xuICAgIGNhbmNlbDogKCkgPT4gdm9pZDtcbiAgICBpbml0aWFsVmFsdWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENyZWF0ZVNvdXJjZVN0YXRlIHtcbiAgICBpbnRlcm5hbFZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVTb3VyY2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q3JlYXRlU291cmNlUHJvcHMsIENyZWF0ZVNvdXJjZVN0YXRlPiB7XG5cbiAgICBwcml2YXRlIGtleWJvYXJkU2hvcnRjdXRzO1xuXG4gICAgcHVibGljIHN0YXRpYyBkZWZhdWx0UHJvcHMgOiBDcmVhdGVTb3VyY2VQcm9wcyA9IHtcbiAgICAgICBpbml0aWFsVmFsdWU6ICcnXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbnRlcm5hbFZhbHVlOiAnJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnRlcm5hbFZhbHVlOiB0aGlzLnByb3BzLmluaXRpYWxWYWx1ZX0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVTb3VyY2UoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXBpLnBvc3RJdGVtKFNvdXJjZSwgQXBwVXJscy5zb3VyY2UsXG4gICAgICAgICAgICBTZXJpYWxpemVyLmZyb21Kc29uKFNvdXJjZSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuc3RhdGUuaW50ZXJuYWxWYWx1ZVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIC50aGVuKHRoaXMucHJvcHMuY29tcGxldGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnB1dFJlZih2YWw6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICAgICAgICBpZiAodmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YWwuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dHMgPSBuZXcgbW91c2V0cmFwKHZhbCk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLmJpbmQoJ3JldHVybicsIHRoaXMuY3JlYXRlU291cmNlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZFNob3J0Y3V0cy5iaW5kKCdlc2NhcGUnLCB0aGlzLnByb3BzLmNhbmNlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLnVuYmluZCgncmV0dXJuJyk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLnVuYmluZCgnZXNjYXBlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8T3ZlcmxheT5cbiAgICAgICAgICAgIDxoMj5DcmVhdGUgU291cmNlPC9oMj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3NtYWxsJz5OYW1lPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmludGVybmFsVmFsdWV9XG4gICAgICAgICAgICAgICAgcmVmPXt0aGlzLmlucHV0UmVmLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHsgaW50ZXJuYWxWYWx1ZTogZS50YXJnZXQudmFsdWUgfSl9IC8+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMuY2FuY2VsKCl9IGNsYXNzTmFtZT0ncHVsbC1sZWZ0Jz5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5jcmVhdGVTb3VyY2UuYmluZCh0aGlzKX0gY2xhc3NOYW1lPSdwdWxsLXJpZ2h0Jz5DcmVhdGUgU291cmNlPC9idXR0b24+XG4gICAgICAgIDwvT3ZlcmxheT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlU291cmNlLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 70 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst ComboDropdown_1 = __webpack_require__(18);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass CreateEntity extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            label: '',\r\n            entityType: { key: '', value: '' },\r\n            allEntityTypes: []\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.props.api.getCollection(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, {})\r\n            .then((allEntityTypes) => {\r\n            if (this.props.initialType !== undefined) {\r\n                const initialType = allEntityTypes.find((et) => et.uid === this.props.initialType);\r\n                this.setState({\r\n                    entityType: { key: initialType.label, value: initialType.uid.toString() }\r\n                });\r\n            }\r\n            this.setState({ allEntityTypes });\r\n        });\r\n    }\r\n    CreateEntity() {\r\n        this.props.api.postItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, falcon_core_1.Serializer.fromJson(falcon_core_1.Entity, {\r\n            label: this.state.label,\r\n            entityType: this.state.entityType.value\r\n        }))\r\n            .then(this.props.complete);\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \"Create Entity\"), \r\n            React.createElement(\"label\", {className: 'small'}, \"Label\"), \r\n            React.createElement(\"input\", {type: 'text', value: this.state.label, ref: (a) => { if (a !== null)\r\n                a.focus(); }, name: 'new-entity-name', className: 'gap', onChange: (e) => this.setState({ label: e.target.value })}), \r\n            React.createElement(\"label\", {className: 'small'}, \"Type\"), \r\n            React.createElement(ComboDropdown_1.ComboDropdown, {options: this.state.allEntityTypes.map((t) => ({ key: t.label, value: t.uid.toString() })), typeName: 'entity type', value: this.state.entityType, setValue: (entityType) => this.setState({ entityType }), createNewValue: lodash_1.noop, allowNew: false}), \r\n            React.createElement(\"button\", {name: 'cancel-modal', onClick: () => this.props.cancel(), className: 'pull-left'}, \"Cancel\"), \r\n            React.createElement(\"button\", {name: 'create-entity', onClick: this.CreateEntity.bind(this), className: 'pull-right'}, \"Create Entity\")));\r\n    }\r\n}\r\nexports.CreateEntity = CreateEntity;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlRW50aXR5LnRzeD9iMjE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixzQ0FBd0IsRUFBWSxDQUFDO0FBQ3JDLDBDQUErQyxFQUFhLENBQUM7QUFDN0QseUNBQW9DLENBQWtCLENBQUM7QUFDdkQsNENBQW1ELEVBQWtCLENBQUM7QUFFdEUscUNBQXFCLEVBQVEsQ0FBQztBQWdCOUIsMkJBQWtDLEtBQUssQ0FBQyxTQUFTO0lBRTdDO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULEtBQUssRUFBRSxFQUFFO1lBQ1QsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFDO1lBQ2pDLGNBQWMsRUFBRSxFQUFFO1NBQ3JCLENBQUM7SUFDTixDQUFDO0lBRU0sa0JBQWtCO1FBQ3JCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyx3QkFBVSxFQUFFLG9CQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQzthQUNoRSxJQUFJLENBQUMsQ0FBQyxjQUFjO1lBQ2pCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZDLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNuRixJQUFJLENBQUMsUUFBUSxDQUFDO29CQUNWLFVBQVUsRUFBRyxFQUFFLEdBQUcsRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxFQUFFO2lCQUM3RSxDQUFDO1lBQ04sQ0FBQztZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFlBQVk7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFDMUMsd0JBQVUsQ0FBQyxRQUFRLENBQUMsb0JBQU0sRUFBRTtZQUN4QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO1lBQ3ZCLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLO1NBQzFDLENBQUMsQ0FBQzthQUNOLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLENBQ1Asb0JBQUMsaUJBQU87WUFDSixxQkFBQyxFQUFFLFNBQUMsZUFBYSxDQUFLO1lBRXRCLHFCQUFDLEtBQUssSUFBQyxTQUFTLEVBQUMsT0FBTyxHQUFDLE9BQUssQ0FBUTtZQUN0QyxxQkFBQyxLQUFLLElBQUMsSUFBSSxFQUFDLE1BQU0sRUFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFNLEVBQ3hCLEdBQUcsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQztnQkFBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFFLEVBQzFDLElBQUksRUFBQyxpQkFBaUIsRUFDdEIsU0FBUyxFQUFDLEtBQUssRUFDZixRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFFLEVBQUc7WUFFakUscUJBQUMsS0FBSyxJQUFDLFNBQVMsRUFBQyxPQUFPLEdBQUMsTUFBSSxDQUFRO1lBQ3JDLG9CQUFDLDZCQUFhLEdBQ1YsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFFLEVBQzNGLFFBQVEsRUFBQyxhQUFhLEVBQ3RCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVcsRUFDN0IsUUFBUSxFQUFFLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBRSxFQUN0RCxjQUFjLEVBQUUsYUFBSyxFQUNyQixRQUFRLEVBQUUsS0FBTSxFQUNsQjtZQUNGLHFCQUFDLE1BQU0sSUFBQyxJQUFJLEVBQUMsY0FBYyxFQUFDLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFHLEVBQUMsU0FBUyxFQUFDLFdBQVcsR0FBQyxRQUFNLENBQVM7WUFDckcscUJBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxFQUFDLFNBQVMsRUFBQyxZQUFZLEdBQUMsZUFBYSxDQUFTLENBQzNHLENBQ1QsQ0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBNURZLG9CQUFZLGVBNER4QjtBQUFBLENBQUMiLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgU2lkZWJhciBmb3IgZWRpdG9yXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4xLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9PdmVybGF5JztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5VHlwZSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IENvbWJvRHJvcGRvd24sIENvbWJvRHJvcGRvd25PcHRpb24gfSBmcm9tICcuLi9Db21ib0Ryb3Bkb3duJztcblxuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5cbmludGVyZmFjZSBDcmVhdGVFbnRpdHlQcm9wcyB7XG4gICAgYXBpOiBBcGlTZXJ2aWNlO1xuICAgIGNvbXBsZXRlOiAoczogc3RyaW5nKSA9PiB2b2lkO1xuICAgIGNhbmNlbDogKCkgPT4gdm9pZDtcbiAgICBpbml0aWFsTmFtZT86IHN0cmluZyxcbiAgICBpbml0aWFsVHlwZT86IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ3JlYXRlRW50aXR5U3RhdGUge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgZW50aXR5VHlwZTogQ29tYm9Ecm9wZG93bk9wdGlvbjtcbiAgICBhbGxFbnRpdHlUeXBlczogRW50aXR5VHlwZVtdO1xufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlRW50aXR5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENyZWF0ZUVudGl0eVByb3BzLCBDcmVhdGVFbnRpdHlTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsYWJlbDogJycsXG4gICAgICAgICAgICBlbnRpdHlUeXBlOiB7IGtleTogJycsIHZhbHVlOiAnJ30sXG4gICAgICAgICAgICBhbGxFbnRpdHlUeXBlczogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB0aGlzLnByb3BzLmFwaS5nZXRDb2xsZWN0aW9uKEVudGl0eVR5cGUsIEFwcFVybHMuZW50aXR5X3R5cGUsIHt9KVxuICAgICAgICAudGhlbigoYWxsRW50aXR5VHlwZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmluaXRpYWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsVHlwZSA9IGFsbEVudGl0eVR5cGVzLmZpbmQoKGV0KSA9PiBldC51aWQgPT09IHRoaXMucHJvcHMuaW5pdGlhbFR5cGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHlUeXBlOiAgeyBrZXk6IGluaXRpYWxUeXBlLmxhYmVsLCB2YWx1ZTogaW5pdGlhbFR5cGUudWlkLnRvU3RyaW5nKCkgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWxsRW50aXR5VHlwZXMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBDcmVhdGVFbnRpdHkoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXBpLnBvc3RJdGVtKEVudGl0eSwgQXBwVXJscy5lbnRpdHksXG4gICAgICAgICAgICBTZXJpYWxpemVyLmZyb21Kc29uKEVudGl0eSwge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnN0YXRlLmxhYmVsLFxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IHRoaXMuc3RhdGUuZW50aXR5VHlwZS52YWx1ZVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIC50aGVuKHRoaXMucHJvcHMuY29tcGxldGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIDxPdmVybGF5PlxuICAgICAgICAgICAgPGgyPkNyZWF0ZSBFbnRpdHk8L2gyPlxuXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+TGFiZWw8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGFiZWx9XG4gICAgICAgICAgICAgICAgcmVmPXsoYSkgPT4geyBpZihhICE9PSBudWxsKSBhLmZvY3VzKCk7IH19XG4gICAgICAgICAgICAgICAgbmFtZT0nbmV3LWVudGl0eS1uYW1lJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZ2FwJ1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IGxhYmVsOiBlLnRhcmdldC52YWx1ZSB9KX0gLz5cblxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nc21hbGwnPlR5cGU8L2xhYmVsPlxuICAgICAgICAgICAgPENvbWJvRHJvcGRvd25cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLmFsbEVudGl0eVR5cGVzLm1hcCgodCkgPT4gKHsga2V5OiB0LmxhYmVsLCB2YWx1ZTogdC51aWQudG9TdHJpbmcoKSB9KSl9XG4gICAgICAgICAgICAgICAgdHlwZU5hbWU9J2VudGl0eSB0eXBlJ1xuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVudGl0eVR5cGV9XG4gICAgICAgICAgICAgICAgc2V0VmFsdWU9eyhlbnRpdHlUeXBlKSA9PiB0aGlzLnNldFN0YXRlKHtlbnRpdHlUeXBlfSl9XG4gICAgICAgICAgICAgICAgY3JlYXRlTmV3VmFsdWU9e25vb3B9XG4gICAgICAgICAgICAgICAgYWxsb3dOZXc9e2ZhbHNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b24gbmFtZT0nY2FuY2VsLW1vZGFsJyBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLmNhbmNlbCgpfSBjbGFzc05hbWU9J3B1bGwtbGVmdCc+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIG5hbWU9J2NyZWF0ZS1lbnRpdHknIG9uQ2xpY2s9e3RoaXMuQ3JlYXRlRW50aXR5LmJpbmQodGhpcyl9IGNsYXNzTmFtZT0ncHVsbC1yaWdodCc+Q3JlYXRlIEVudGl0eTwvYnV0dG9uPlxuICAgICAgICA8L092ZXJsYXk+XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVFbnRpdHkudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 71 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst mousetrap = __webpack_require__(51);\r\nclass CreateEntityType extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            internalValue: ''\r\n        };\r\n    }\r\n    createEntityType() {\r\n        this.props.api.postItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, falcon_core_1.Serializer.fromJson(falcon_core_1.EntityType, {\r\n            name: this.state.internalValue\r\n        }))\r\n            .then(this.props.complete);\r\n    }\r\n    inputRef(val) {\r\n        if (val !== null) {\r\n            val.focus();\r\n            this.keyboardShortcuts = new mousetrap(val);\r\n            this.keyboardShortcuts.bind('return', this.createEntityType.bind(this));\r\n            this.keyboardShortcuts.bind('escape', this.props.cancel);\r\n        }\r\n        else {\r\n            this.keyboardShortcuts.unbind('return');\r\n        }\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \"Create Entity Type\"), \r\n            React.createElement(\"label\", {className: 'small'}, \"Name\"), \r\n            React.createElement(\"input\", {type: 'text', value: this.state.internalValue, ref: this.inputRef.bind(this), onChange: (e) => this.setState({ internalValue: e.target.value })}), \r\n            React.createElement(\"button\", {onClick: () => this.props.cancel(), className: 'pull-left'}, \"Cancel\"), \r\n            React.createElement(\"button\", {onClick: this.createEntityType.bind(this), className: 'pull-right'}, \"Create Entity Type\")));\r\n    }\r\n}\r\nexports.CreateEntityType = CreateEntityType;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ3JlYXRlRW50aXR5VHlwZS50c3g/NGE1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILE1BQVksS0FBSyx1QkFBTSxDQUFPLENBQUM7QUFFL0Isc0NBQXdCLEVBQVksQ0FBQztBQUNyQywwQ0FBdUMsRUFBYSxDQUFDO0FBQ3JELHlDQUFvQyxDQUFrQixDQUFDO0FBRXZELE1BQVksU0FBUyx1QkFBTSxFQUFXLENBQUM7QUFZdkMsK0JBQXNDLEtBQUssQ0FBQyxTQUFTO0lBSWpEO1FBQ0ksT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULGFBQWEsRUFBRSxFQUFFO1NBQ3BCLENBQUM7SUFDTixDQUFDO0lBRU0sZ0JBQWdCO1FBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyx3QkFBVSxFQUFFLG9CQUFPLENBQUMsV0FBVyxFQUNuRCx3QkFBVSxDQUFDLFFBQVEsQ0FBQyx3QkFBVSxFQUFFO1lBQzVCLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWE7U0FDakMsQ0FBQyxDQUFDO2FBQ04sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLFFBQVEsQ0FBQyxHQUF1QjtRQUNuQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNmLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNaLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLENBQUM7SUFDTCxDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxDQUNQLG9CQUFDLGlCQUFPO1lBQ0oscUJBQUMsRUFBRSxTQUFDLG9CQUFrQixDQUFLO1lBQzNCLHFCQUFDLEtBQUssSUFBQyxTQUFTLEVBQUMsT0FBTyxHQUFDLE1BQUksQ0FBUTtZQUNyQyxxQkFBQyxLQUFLLElBQUMsSUFBSSxFQUFDLE1BQU0sRUFDZCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFjLEVBQ2hDLEdBQUcsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFDOUIsUUFBUSxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBRSxFQUFHO1lBQ3pFLHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRyxFQUFDLFNBQVMsRUFBQyxXQUFXLEdBQUMsUUFBTSxDQUFTO1lBQ2pGLHFCQUFDLE1BQU0sSUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFBQyxTQUFTLEVBQUMsWUFBWSxHQUFDLG9CQUFrQixDQUFTLENBQy9GLENBQ1QsQ0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBNUNZLHdCQUFnQixtQkE0QzVCO0FBQUEsQ0FBQyIsImZpbGUiOiI3MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgT3ZlcmxheSB9IGZyb20gJy4uL092ZXJsYXknO1xuaW1wb3J0IHsgRW50aXR5VHlwZSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcblxuaW1wb3J0ICogYXMgbW91c2V0cmFwIGZyb20gJ21vdXNldHJhcCc7XG5cbmludGVyZmFjZSBDcmVhdGVFbnRpdHlUeXBlUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBjb21wbGV0ZTogKHM6IHN0cmluZykgPT4gdm9pZDtcbiAgICBjYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBDcmVhdGVFbnRpdHlUeXBlU3RhdGUge1xuICAgIGludGVybmFsVmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUVudGl0eVR5cGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q3JlYXRlRW50aXR5VHlwZVByb3BzLCBDcmVhdGVFbnRpdHlUeXBlU3RhdGU+IHtcblxuICAgIHByaXZhdGUga2V5Ym9hcmRTaG9ydGN1dHM7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGludGVybmFsVmFsdWU6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUVudGl0eVR5cGUoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXBpLnBvc3RJdGVtKEVudGl0eVR5cGUsIEFwcFVybHMuZW50aXR5X3R5cGUsXG4gICAgICAgICAgICBTZXJpYWxpemVyLmZyb21Kc29uKEVudGl0eVR5cGUsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnN0YXRlLmludGVybmFsVmFsdWVcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAudGhlbih0aGlzLnByb3BzLmNvbXBsZXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5wdXRSZWYodmFsOiBIVE1MRWxlbWVudCB8IG51bGwpIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsLmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzID0gbmV3IG1vdXNldHJhcCh2YWwpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZFNob3J0Y3V0cy5iaW5kKCdyZXR1cm4nLCB0aGlzLmNyZWF0ZUVudGl0eVR5cGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLmJpbmQoJ2VzY2FwZScsIHRoaXMucHJvcHMuY2FuY2VsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dHMudW5iaW5kKCdyZXR1cm4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIDxPdmVybGF5PlxuICAgICAgICAgICAgPGgyPkNyZWF0ZSBFbnRpdHkgVHlwZTwvaDI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdzbWFsbCc+TmFtZTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnRlcm5hbFZhbHVlfVxuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5pbnB1dFJlZi5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IGludGVybmFsVmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pfSAvPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLmNhbmNlbCgpfSBjbGFzc05hbWU9J3B1bGwtbGVmdCc+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuY3JlYXRlRW50aXR5VHlwZS5iaW5kKHRoaXMpfSBjbGFzc05hbWU9J3B1bGwtcmlnaHQnPkNyZWF0ZSBFbnRpdHkgVHlwZTwvYnV0dG9uPlxuICAgICAgICA8L092ZXJsYXk+XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9tb2RhbC9DcmVhdGVFbnRpdHlUeXBlLnRzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 72 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Sidebar for editor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst React = __webpack_require__(2);\r\nconst Overlay_1 = __webpack_require__(66);\r\nclass ConflictResolution extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            label: '',\r\n            entityType: { key: '', value: '' },\r\n            allEntityTypes: []\r\n        };\r\n    }\r\n    render() {\r\n        return (React.createElement(Overlay_1.Overlay, null, \r\n            React.createElement(\"h2\", null, \r\n                React.createElement(\"i\", {className: 'fa fa-exclamation-triangle warning'}), \r\n                \" Conflict: \", \r\n                this.props.message), \r\n            this.props.conflictingItems.record !== undefined && this.props.conflictingItems.record.length > 0 ? (React.createElement(\"span\", null, \r\n                React.createElement(\"p\", null, \"The following records conflict with your request change:\"), \r\n                React.createElement(\"table\", {className: 'table'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"th\", null, \"Entity\"), \r\n                            React.createElement(\"th\", null, \"Predicate\"), \r\n                            React.createElement(\"th\", null, \"Value\"))\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.record.map((record) => {\r\n                        const entityName = this.props.dataStore.all.entity.value\r\n                            .find((entity) => entity.uid == record.entity).label;\r\n                        const predicateName = this.props.dataStore.all.predicate.value\r\n                            .find((predicate) => predicate.uid == record.predicate).label;\r\n                        return (React.createElement(\"tr\", {key: `row-${record.uid}`}, \r\n                            React.createElement(\"td\", null, entityName), \r\n                            React.createElement(\"td\", null, predicateName), \r\n                            React.createElement(\"td\", null, record.value)));\r\n                    }))))) : null, \r\n            this.props.conflictingItems.entity !== undefined && this.props.conflictingItems.entity.length > 0 ? (React.createElement(\"span\", null, \r\n                React.createElement(\"p\", null, \"The following entities conflict with your request change:\"), \r\n                React.createElement(\"table\", {className: 'table'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"th\", null, \"Entity\")\r\n                        )\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.entity.map((entity) => {\r\n                        return (React.createElement(\"tr\", {key: `row-${entity.uid}`}, \r\n                            React.createElement(\"td\", null, entity.label)\r\n                        ));\r\n                    }))))) : null, \r\n            this.props.conflictingItems.entityType !== undefined && this.props.conflictingItems.entityType.length > 0 ? (React.createElement(\"span\", null, \r\n                React.createElement(\"p\", null, \"The following entity types conflict with your request change:\"), \r\n                React.createElement(\"table\", {className: 'table'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"th\", null, \"Entity Type\")\r\n                        )\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.entityType.map((entityType) => {\r\n                        return (React.createElement(\"tr\", {key: `row-${entityType.uid}`}, \r\n                            React.createElement(\"td\", null, entityType.label)\r\n                        ));\r\n                    }))))) : null, \r\n            this.props.conflictingItems.source !== undefined && this.props.conflictingItems.source.length > 0 ? (React.createElement(\"span\", null, \r\n                React.createElement(\"p\", null, \"The following sources conflict with your request change:\"), \r\n                React.createElement(\"table\", {className: 'table'}, \r\n                    React.createElement(\"thead\", null, \r\n                        React.createElement(\"tr\", null, \r\n                            React.createElement(\"th\", null, \"Sources\")\r\n                        )\r\n                    ), \r\n                    React.createElement(\"tbody\", null, this.props.conflictingItems.source.map((source) => {\r\n                        return (React.createElement(\"tr\", {key: `row-${source.uid}`}, \r\n                            React.createElement(\"td\", null, source.label)\r\n                        ));\r\n                    }))))) : null, \r\n            React.createElement(\"div\", {className: 'block-buttons'}, \r\n                React.createElement(\"button\", {onClick: () => this.props.cancel()}, \"Cancel\"), \r\n                React.createElement(\"button\", {onClick: () => this.props.complete('addToWorkspace')}, \r\n                    React.createElement(\"i\", {className: 'icon-list-add'}), \r\n                    \"Cancel and add conflicting records to workspace\"), \r\n                React.createElement(\"button\", {onClick: () => this.props.complete('deleteAll')}, \r\n                    React.createElement(\"i\", {className: 'fa fa-trash'}), \r\n                    \" Continue and delete all conflicting records\"))));\r\n    }\r\n}\r\nexports.ConflictResolution = ConflictResolution;\r\n;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvbW9kYWwvQ29uZmxpY3RSZXNvbHV0aW9uLnRzeD8wNmJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsTUFBWSxLQUFLLHVCQUFNLENBQU8sQ0FBQztBQUUvQixzQ0FBd0IsRUFBWSxDQUFDO0FBMkJyQyxpQ0FBd0MsS0FBSyxDQUFDLFNBQVM7SUFFbkQ7UUFDSSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsS0FBSyxFQUFFLEVBQUU7WUFDVCxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUM7WUFDakMsY0FBYyxFQUFFLEVBQUU7U0FDckIsQ0FBQztJQUNOLENBQUM7SUFHTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLENBQ1Asb0JBQUMsaUJBQU87WUFDSixxQkFBQyxFQUFFO2dCQUFDLHFCQUFDLENBQUMsSUFBQyxTQUFTLEVBQUMsb0NBQW9DLEVBQUs7Z0JBQUMsYUFBVTtnQkFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQVEsQ0FBSztZQUM3RixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUNqRyxxQkFBQyxJQUFJO2dCQUNELHFCQUFDLENBQUMsU0FBQywwREFBd0QsQ0FBSTtnQkFDL0QscUJBQUMsS0FBSyxJQUFDLFNBQVMsRUFBQyxPQUFPO29CQUNwQixxQkFBQyxLQUFLO3dCQUNGLHFCQUFDLEVBQUU7NEJBQ0MscUJBQUMsRUFBRSxTQUFDLFFBQU0sQ0FBSzs0QkFDZixxQkFBQyxFQUFFLFNBQUMsV0FBUyxDQUFLOzRCQUNsQixxQkFBQyxFQUFFLFNBQUMsT0FBSyxDQUFLLENBQ2I7cUJBQ0Q7b0JBQ1IscUJBQUMsS0FB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Q0FBQztJQUNOLENBQUM7QUFDTCxDQUFDO0FBM0lZLDBCQUFrQixxQkEySTlCO0FBQUEsQ0FBQyIsImZpbGUiOiI3Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBTaWRlYmFyIGZvciBlZGl0b3JcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgT3ZlcmxheSB9IGZyb20gJy4uL092ZXJsYXknO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlUeXBlLCBSZWNvcmQsIFByZWRpY2F0ZSB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi8uLi9BcGlTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTdG9yZSB9IGZyb20gJy4uLy4uL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBDb21ib0Ryb3Bkb3duLCBDb21ib0Ryb3Bkb3duT3B0aW9uIH0gZnJvbSAnLi4vQ29tYm9Ecm9wZG93bic7XG5cbmltcG9ydCB7IG5vb3AgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbnRlcmZhY2UgQ29uZmxpY3RSZXNvbHV0aW9uUHJvcHMge1xuICAgIGFwaTogQXBpU2VydmljZTtcbiAgICBkYXRhU3RvcmU6IERhdGFTdG9yZTtcbiAgICBjb21wbGV0ZTogKHM6IHN0cmluZykgPT4gdm9pZDtcbiAgICBjYW5jZWw6ICgpID0+IHZvaWQ7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNvbmZsaWN0aW5nSXRlbXM6IHtcbiAgICAgICAgcmVjb3JkOiBSZWNvcmRbXSxcbiAgICAgICAgZW50aXR5OiBFbnRpdHlbXSxcbiAgICAgICAgcHJlZGljYXRlOiBQcmVkaWNhdGVbXVxuICAgIH07XG59XG5cbmludGVyZmFjZSBDb25mbGljdFJlc29sdXRpb25TdGF0ZSB7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBlbnRpdHlUeXBlOiBDb21ib0Ryb3Bkb3duT3B0aW9uO1xuICAgIGFsbEVudGl0eVR5cGVzOiBFbnRpdHlUeXBlW107XG59XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdFJlc29sdXRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q29uZmxpY3RSZXNvbHV0aW9uUHJvcHMsIENvbmZsaWN0UmVzb2x1dGlvblN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgICAgIGVudGl0eVR5cGU6IHsga2V5OiAnJywgdmFsdWU6ICcnfSxcbiAgICAgICAgICAgIGFsbEVudGl0eVR5cGVzOiBbXVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgPE92ZXJsYXk+XG4gICAgICAgICAgICA8aDI+PGkgY2xhc3NOYW1lPSdmYSBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSB3YXJuaW5nJz48L2k+IENvbmZsaWN0OiB7dGhpcy5wcm9wcy5tZXNzYWdlfTwvaDI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jb25mbGljdGluZ0l0ZW1zLnJlY29yZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHJvcHMuY29uZmxpY3RpbmdJdGVtcy5yZWNvcmQubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHA+VGhlIGZvbGxvd2luZyByZWNvcmRzIGNvbmZsaWN0IHdpdGggeW91ciByZXF1ZXN0IGNoYW5nZTo8L3A+XG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9J3RhYmxlJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5FbnRpdHk8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+UHJlZGljYXRlPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlZhbHVlPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbmZsaWN0aW5nSXRlbXMucmVjb3JkLm1hcCgocmVjb3JkKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlOYW1lID0gdGhpcy5wcm9wcy5kYXRhU3RvcmUuYWxsLmVudGl0eS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgoZW50aXR5KSA9PiBlbnRpdHkudWlkID09IHJlY29yZC5lbnRpdHkpLmxhYmVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZGljYXRlTmFtZSA9IHRoaXMucHJvcHMuZGF0YVN0b3JlLmFsbC5wcmVkaWNhdGUudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKHByZWRpY2F0ZSkgPT4gcHJlZGljYXRlLnVpZCA9PSByZWNvcmQucHJlZGljYXRlKS5sYWJlbDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtgcm93LSR7cmVjb3JkLnVpZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2VudGl0eU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmVkaWNhdGVOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVjb3JkLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApIDogbnVsbCB9XG5cblxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29uZmxpY3RpbmdJdGVtcy5lbnRpdHkgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnByb3BzLmNvbmZsaWN0aW5nSXRlbXMuZW50aXR5Lmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxwPlRoZSBmb2xsb3dpbmcgZW50aXRpZXMgY29uZmxpY3Qgd2l0aCB5b3VyIHJlcXVlc3QgY2hhbmdlOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0ndGFibGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkVudGl0eTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb25mbGljdGluZ0l0ZW1zLmVudGl0eS5tYXAoKGVudGl0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17YHJvdy0ke2VudGl0eS51aWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRpdHkubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICkgOiBudWxsIH1cblxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29uZmxpY3RpbmdJdGVtcy5lbnRpdHlUeXBlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5jb25mbGljdGluZ0l0ZW1zLmVudGl0eVR5cGUubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHA+VGhlIGZvbGxvd2luZyBlbnRpdHkgdHlwZXMgY29uZmxpY3Qgd2l0aCB5b3VyIHJlcXVlc3QgY2hhbmdlOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0ndGFibGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkVudGl0eSBUeXBlPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbmZsaWN0aW5nSXRlbXMuZW50aXR5VHlwZS5tYXAoKGVudGl0eVR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2Byb3ctJHtlbnRpdHlUeXBlLnVpZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2VudGl0eVR5cGUubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICkgOiBudWxsIH1cblxuICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbmZsaWN0aW5nSXRlbXMuc291cmNlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5jb25mbGljdGluZ0l0ZW1zLnNvdXJjZS5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICA8cD5UaGUgZm9sbG93aW5nIHNvdXJjZXMgY29uZmxpY3Qgd2l0aCB5b3VyIHJlcXVlc3QgY2hhbmdlOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0ndGFibGUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNvdXJjZXM8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29uZmxpY3RpbmdJdGVtcy5zb3VyY2UubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2Byb3ctJHtzb3VyY2UudWlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c291cmNlLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApIDogbnVsbCB9XG5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Jsb2NrLWJ1dHRvbnMnPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5jYW5jZWwoKX0+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLmNvbXBsZXRlKCdhZGRUb1dvcmtzcGFjZScpfT5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdpY29uLWxpc3QtYWRkJz48L2k+Q2FuY2VsIGFuZCBhZGQgY29uZmxpY3RpbmcgcmVjb3JkcyB0byB3b3Jrc3BhY2VcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMuY29tcGxldGUoJ2RlbGV0ZUFsbCcpfT5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS10cmFzaCc+PC9pPiBDb250aW51ZSBhbmQgZGVsZXRlIGFsbCBjb25mbGljdGluZyByZWNvcmRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L092ZXJsYXk+XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vY29tcG9uZW50cy9tb2RhbC9Db25mbGljdFJlc29sdXRpb24udHN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 73 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst immutable_1 = __webpack_require__(74);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nexports.emptyDataStore = {\r\n    all: {\r\n        entity: { value: [], lastUpdate: null },\r\n        entity_type: { value: [], lastUpdate: null },\r\n        predicate: { value: [], lastUpdate: null },\r\n        source: { value: [], lastUpdate: null },\r\n        dublinCore: { value: new falcon_core_1.ElementSet(), lastUpdate: null }\r\n    },\r\n    records: immutable_1.Map(),\r\n    tabs: {\r\n        entity: immutable_1.Map(),\r\n        entity_type: immutable_1.Map(),\r\n        predicate: immutable_1.Map(),\r\n        source: immutable_1.Map()\r\n    }\r\n};\r\nexports.emptyTabs = [\r\n    { entity: immutable_1.Map() },\r\n    { entity_type: immutable_1.Map() },\r\n    { predicate: immutable_1.Map() },\r\n    { source: immutable_1.Map()\r\n    }];\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0RhdGFTdG9yZS50cz82NjBkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsd0NBQW9CLEVBQVcsQ0FBQztBQUNoQywwQ0FBeUYsRUFBYSxDQUFDO0FBdUMxRixzQkFBYyxHQUFlO0lBRXhDLEdBQUcsRUFBRTtRQUNILE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRTtRQUN2QyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUU7UUFDNUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFO1FBQzFDLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRTtRQUN2QyxVQUFVLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSx3QkFBVSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRTtLQUMxRDtJQUVELE9BQU8sRUFBRSxlQUFHLEVBQWtDO0lBRTlDLElBQUksRUFBRTtRQUNKLE1BQU0sRUFBRSxlQUFHLEVBSU47UUFFTCxXQUFXLEVBQUUsZUFBRyxFQUFzQztRQUN0RCxTQUFTLEVBQUUsZUFBRyxFQUFxQztRQUVuRCxNQUFNLEVBQUUsZUFBRyxFQUdOO0tBQ047Q0FDRixDQUFDO0FBRVcsaUJBQVMsR0FBRztJQUNyQixFQUFDLE1BQU0sRUFBRSxlQUFHLEVBR1AsRUFBQztJQUVOLEVBQUMsV0FBVyxFQUFFLGVBQUcsRUFBc0MsRUFBQztJQUN4RCxFQUFDLFNBQVMsRUFBRSxlQUFHLEVBQXFDLEVBQUM7SUFFckQsRUFBQyxNQUFNLEVBQUUsZUFBRyxFQUdQO0tBQ04sQ0FBQyxDQUFDIiwiZmlsZSI6IjczLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IDxEZXNjcmlwdGlvbiBNaXNzaW5nPlxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKi9cblxuaW1wb3J0IHsgTWFwIH0gZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCB7IFByZWRpY2F0ZSwgRW50aXR5VHlwZSwgRW50aXR5LCBSZWNvcmQsIFNvdXJjZSwgU291cmNlRWxlbWVudCwgRWxlbWVudFNldCB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTdG9yZUVudHJ5PFQ+IHtcbiAgICB2YWx1ZTogVDtcbiAgICBsYXN0VXBkYXRlOiBtb21lbnQuTW9tZW50IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhU3RvcmUge1xuICBhbGw6IHtcbiAgICBlbnRpdHk6IERhdGFTdG9yZUVudHJ5PEVudGl0eVtdPjtcbiAgICBlbnRpdHlfdHlwZTogRGF0YVN0b3JlRW50cnk8RW50aXR5VHlwZVtdPjtcbiAgICBwcmVkaWNhdGU6IERhdGFTdG9yZUVudHJ5PFByZWRpY2F0ZVtdPjtcbiAgICBzb3VyY2U6IERhdGFTdG9yZUVudHJ5PFNvdXJjZVtdPjtcbiAgICBkdWJsaW5Db3JlOiBEYXRhU3RvcmVFbnRyeTxFbGVtZW50U2V0PjtcbiAgfTtcblxuICByZWNvcmRzOiBNYXA8c3RyaW5nLCBEYXRhU3RvcmVFbnRyeTxSZWNvcmQ+PjtcblxuICB0YWJzOiB7XG5cbiAgICBlbnRpdHk6IE1hcDxzdHJpbmcsIERhdGFTdG9yZUVudHJ5PHtcbiAgICAgIGVudGl0eTogRW50aXR5O1xuICAgICAgcmVjb3JkczogUmVjb3JkW107XG4gICAgICByZWZlcmVuY2VSZWNvcmRzOiBSZWNvcmRbXTtcbiAgICB9Pj47XG5cbiAgICBlbnRpdHlfdHlwZTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8RW50aXR5VHlwZT4+O1xuXG4gICAgcHJlZGljYXRlOiBNYXA8c3RyaW5nLCBEYXRhU3RvcmVFbnRyeTxQcmVkaWNhdGU+PjtcblxuICAgIHNvdXJjZTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8e1xuICAgICAgc291cmNlOiBTb3VyY2U7XG4gICAgICBlbGVtZW50czogU291cmNlRWxlbWVudDtcbiAgICB9Pj47XG5cbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGVtcHR5RGF0YVN0b3JlIDogRGF0YVN0b3JlID0ge1xuXG4gIGFsbDoge1xuICAgIGVudGl0eTogeyB2YWx1ZTogW10sIGxhc3RVcGRhdGU6IG51bGwgfSxcbiAgICBlbnRpdHlfdHlwZTogeyB2YWx1ZTogW10sIGxhc3RVcGRhdGU6IG51bGwgfSxcbiAgICBwcmVkaWNhdGU6IHsgdmFsdWU6IFtdLCBsYXN0VXBkYXRlOiBudWxsIH0sXG4gICAgc291cmNlOiB7IHZhbHVlOiBbXSwgbGFzdFVwZGF0ZTogbnVsbCB9LFxuICAgIGR1YmxpbkNvcmU6IHsgdmFsdWU6IG5ldyBFbGVtZW50U2V0KCksIGxhc3RVcGRhdGU6IG51bGwgfVxuICB9LFxuXG4gIHJlY29yZHM6IE1hcDxzdHJpbmcsIERhdGFTdG9yZUVudHJ5PFJlY29yZD4+KCksXG5cbiAgdGFiczoge1xuICAgIGVudGl0eTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8e1xuICAgICAgZW50aXR5OiBFbnRpdHk7XG4gICAgICByZWNvcmRzOiBSZWNvcmRbXTtcbiAgICAgIHJlZmVyZW5jZVJlY29yZHM6IFJlY29yZFtdO1xuICAgIH0+PigpLFxuXG4gICAgZW50aXR5X3R5cGU6IE1hcDxzdHJpbmcsIERhdGFTdG9yZUVudHJ5PEVudGl0eVR5cGU+PigpLFxuICAgIHByZWRpY2F0ZTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8UHJlZGljYXRlPj4oKSxcblxuICAgIHNvdXJjZTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8e1xuICAgICAgc291cmNlOiBTb3VyY2U7XG4gICAgICBlbGVtZW50czogU291cmNlRWxlbWVudDtcbiAgICB9Pj4oKVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZW1wdHlUYWJzID0gW1xuICAgIHtlbnRpdHk6IE1hcDxzdHJpbmcsIERhdGFTdG9yZUVudHJ5PHtcbiAgICAgIGVudGl0eTogRW50aXR5O1xuICAgICAgcmVjb3JkczogUmVjb3JkW107XG4gICAgfT4+KCl9LFxuXG4gICAge2VudGl0eV90eXBlOiBNYXA8c3RyaW5nLCBEYXRhU3RvcmVFbnRyeTxFbnRpdHlUeXBlPj4oKX0sXG4gICAge3ByZWRpY2F0ZTogTWFwPHN0cmluZywgRGF0YVN0b3JlRW50cnk8UHJlZGljYXRlPj4oKX0sXG5cbiAgICB7c291cmNlOiBNYXA8c3RyaW5nLCBEYXRhU3RvcmVFbnRyeTx7XG4gICAgICBzb3VyY2U6IFNvdXJjZTtcbiAgICAgIGVsZW1lbnRzOiBTb3VyY2VFbGVtZW50O1xuICAgIH0+PigpXG4gIH1dO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9EYXRhU3RvcmUudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 74 */
/***/ function(module, exports) {

	eval("module.exports = require(\"immutable\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJpbW11dGFibGVcIj8xZDIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijc0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaW1tdXRhYmxlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiaW1tdXRhYmxlXCJcbi8vIG1vZHVsZSBpZCA9IDc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 75 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst ApiService_1 = __webpack_require__(6);\r\nconst immutable_1 = __webpack_require__(74);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst moment = __webpack_require__(43);\r\nconst loadTabData = (api, tab) => {\r\n    if (tab.tabClass !== 'item') {\r\n        return Promise.resolve(new falcon_core_1.Entity());\r\n    }\r\n    switch (tab.tabType) {\r\n        case 'entity':\r\n            return Promise.all([\r\n                api.getItem(falcon_core_1.Entity, ApiService_1.AppUrls.entity, tab.uid),\r\n                api.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, { entity: tab.uid }),\r\n                api.getCollection(falcon_core_1.Record, ApiService_1.AppUrls.record, { value_type: 'entity', value_entity: tab.uid })\r\n            ]).then(([entity, records, referenceRecords]) => ({ entity, records, referenceRecords }));\r\n        case 'predicate':\r\n            return api.getItem(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, tab.uid);\r\n        case 'entity_type':\r\n            return api.getItem(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, tab.uid);\r\n        case 'source':\r\n            return Promise.all([\r\n                api.getItem(falcon_core_1.Source, ApiService_1.AppUrls.source, tab.uid),\r\n                api.getCollection(falcon_core_1.SourceElement, ApiService_1.AppUrls.source_element, { source: tab.uid })\r\n            ]).then(([source, source_element]) => ({ source, source_element }));\r\n        default:\r\n            throw new Error('Unexpected tab type requested');\r\n    }\r\n};\r\nexports.reload = (api, tabs, force = false, failureCallback) => {\r\n    const groupedTabs = lodash_1.groupBy(tabs, 'tabType');\r\n    const tabPromise = Promise.all(Object.keys(groupedTabs).map((tabType) => Promise.all(groupedTabs[tabType].map((tab) => loadTabData(api, tab)\r\n        .then((value) => {\r\n        return { [`${tab.tabType}-${tab.uid}`]: { value, lastUpdate: moment() } };\r\n    })\r\n        .catch((err) => {\r\n        failureCallback(tab.tabType, tab.uid);\r\n    })))\r\n        .then((tabData) => {\r\n        return { [tabType]: immutable_1.Map(Object.assign({}, ...tabData)) };\r\n    })));\r\n    // load lists of data commonly required by views\r\n    const allPromise = Promise.all([\r\n        api.getCollection(falcon_core_1.Predicate, ApiService_1.AppUrls.predicate, {}),\r\n        api.getCollection(falcon_core_1.Source, ApiService_1.AppUrls.source, {}),\r\n        api.getCollection(falcon_core_1.Entity, ApiService_1.AppUrls.entity, {}),\r\n        api.getCollection(falcon_core_1.EntityType, ApiService_1.AppUrls.entity_type, {}),\r\n        api.getItem(falcon_core_1.ElementSet, ApiService_1.AppUrls.element_set, 1)\r\n    ])\r\n        .then(([predicates, sources, entities, entityType, dublinCore]) => {\r\n        return {\r\n            predicate: { value: predicates, lastUpdate: moment() },\r\n            source: { value: sources, lastUpdate: moment() },\r\n            entity: { value: entities, lastUpdate: moment() },\r\n            entity_type: { value: entityType, lastUpdate: moment() },\r\n            dublinCore: { value: dublinCore, lastUpdate: moment() }\r\n        };\r\n    });\r\n    return Promise.all([tabPromise, allPromise])\r\n        .then(([tabsArray, all]) => {\r\n        const tabs = Object.assign({}, ...tabsArray);\r\n        console.log(\"TABS\", tabs);\r\n        return { tabs, all };\r\n    });\r\n};\r\nexports.DataController = {\r\n    reload: exports.reload\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0RhdGFDb250cm9sbGVyLnRzPzliYTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCwwQ0FBcUcsRUFBYSxDQUFDO0FBQ25ILHlDQUFvQyxDQUFjLENBQUM7QUFHbkQsd0NBQW9CLEVBQVcsQ0FBQztBQUVoQyxxQ0FBeUMsRUFBUSxDQUFDO0FBRWxELE1BQVksTUFBTSx1QkFBTSxFQUFRLENBQUM7QUFFakMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFlLEVBQUUsR0FBUTtJQUMxQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxvQkFBTSxFQUFFLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBQ0QsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbEIsS0FBSyxRQUFRO1lBQ1QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLE9BQU8sQ0FBQyxvQkFBTSxFQUFFLG9CQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUM7Z0JBQzVDLEdBQUcsQ0FBQyxhQUFhLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzlELEdBQUcsQ0FBQyxhQUFhLENBQUMsb0JBQU0sRUFBRSxvQkFBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzthQUM3RixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxP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dyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmltcG9ydCB7IEZhbGNvbkl0ZW0sIEVudGl0eSwgUmVjb3JkLCBTb3VyY2UsIFByZWRpY2F0ZSwgRW50aXR5VHlwZSwgU291cmNlRWxlbWVudCwgRWxlbWVudFNldCB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuL0FwaVNlcnZpY2UnO1xuaW1wb3J0IHsgRGF0YVN0b3JlLCBlbXB0eVRhYnMgfSBmcm9tICcuL0RhdGFTdG9yZSc7XG5pbXBvcnQgeyBUYWIgfSBmcm9tICcuL2NvbXBvbmVudHMvU2lkZWJhcic7XG5pbXBvcnQgeyBNYXAgfSBmcm9tICdpbW11dGFibGUnO1xuXG5pbXBvcnQgeyBjbG9uZURlZXAsIGZpbmQsIGdyb3VwQnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuY29uc3QgbG9hZFRhYkRhdGEgPSAoYXBpOiBBcGlTZXJ2aWNlLCB0YWI6IFRhYikgOiBQcm9taXNlPEZhbGNvbkl0ZW0+ID0+IHtcbiAgICBpZiAodGFiLnRhYkNsYXNzICE9PSAnaXRlbScpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEVudGl0eSgpKTtcbiAgICB9XG4gICAgc3dpdGNoICh0YWIudGFiVHlwZSkge1xuICAgICAgICBjYXNlICdlbnRpdHknOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBhcGkuZ2V0SXRlbShFbnRpdHksIEFwcFVybHMuZW50aXR5LCB0YWIudWlkKSxcbiAgICAgICAgICAgICAgICBhcGkuZ2V0Q29sbGVjdGlvbihSZWNvcmQsIEFwcFVybHMucmVjb3JkLCB7IGVudGl0eTogdGFiLnVpZCB9KSxcbiAgICAgICAgICAgICAgICBhcGkuZ2V0Q29sbGVjdGlvbihSZWNvcmQsIEFwcFVybHMucmVjb3JkLCB7IHZhbHVlX3R5cGU6ICdlbnRpdHknLCB2YWx1ZV9lbnRpdHk6IHRhYi51aWQgfSlcbiAgICAgICAgICAgIF0pLnRoZW4oKFtlbnRpdHksIHJlY29yZHMsIHJlZmVyZW5jZVJlY29yZHNdKSA9PiAoeyBlbnRpdHksIHJlY29yZHMsIHJlZmVyZW5jZVJlY29yZHMgfSkpO1xuICAgICAgICBjYXNlICdwcmVkaWNhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRJdGVtKFByZWRpY2F0ZSwgQXBwVXJscy5wcmVkaWNhdGUsIHRhYi51aWQpO1xuICAgICAgICBjYXNlICdlbnRpdHlfdHlwZSc6XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldEl0ZW0oRW50aXR5VHlwZSwgQXBwVXJscy5lbnRpdHlfdHlwZSwgdGFiLnVpZCk7XG4gICAgICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIGFwaS5nZXRJdGVtKFNvdXJjZSwgQXBwVXJscy5zb3VyY2UsIHRhYi51aWQpLFxuICAgICAgICAgICAgICAgIGFwaS5nZXRDb2xsZWN0aW9uKFNvdXJjZUVsZW1lbnQsIEFwcFVybHMuc291cmNlX2VsZW1lbnQsIHsgc291cmNlOiB0YWIudWlkIH0pXG4gICAgICAgICAgICBdKS50aGVuKChbc291cmNlLCBzb3VyY2VfZWxlbWVudF0pID0+ICh7IHNvdXJjZSwgc291cmNlX2VsZW1lbnQgfSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHRhYiB0eXBlIHJlcXVlc3RlZCcpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZWxvYWQgPSAoYXBpOiBBcGlTZXJ2aWNlLCB0YWJzOiBUYWJbXSxcbiAgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSwgZmFpbHVyZUNhbGxiYWNrOiAod29ya3NwYWNlOiBzdHJpbmcsIHVpZDogbnVtYmVyKSA9PiB2b2lkKSA6IFByb21pc2U8RGF0YVN0b3JlPiA9PiB7XG5cbiAgY29uc3QgZ3JvdXBlZFRhYnMgPSBncm91cEJ5KHRhYnMsICd0YWJUeXBlJyk7XG5cbiAgY29uc3QgdGFiUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgIE9iamVjdC5rZXlzKGdyb3VwZWRUYWJzKS5tYXAoKHRhYlR5cGUpID0+XG4gICAgICBQcm9taXNlLmFsbChncm91cGVkVGFic1t0YWJUeXBlXS5tYXAoKHRhYikgPT5cbiAgICAgICAgbG9hZFRhYkRhdGEoYXBpLCB0YWIpXG4gICAgICAgIC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7IFtgJHt0YWIudGFiVHlwZX0tJHt0YWIudWlkfWBdOiB7IHZhbHVlLCBsYXN0VXBkYXRlOiBtb21lbnQoKSB9fTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBmYWlsdXJlQ2FsbGJhY2sodGFiLnRhYlR5cGUsIHRhYi51aWQpO1xuICAgICAgICB9KVxuICAgICAgKSlcbiAgICAgIC50aGVuKCh0YWJEYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiB7IFt0YWJUeXBlXTogTWFwKE9iamVjdC5hc3NpZ24oe30sIC4uLnRhYkRhdGEpKSB9O1xuICAgICAgfSlcbiAgICApXG4gICk7XG5cbiAgLy8gbG9hZCBsaXN0cyBvZiBkYXRhIGNvbW1vbmx5IHJlcXVpcmVkIGJ5IHZpZXdzXG4gIGNvbnN0IGFsbFByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgICBhcGkuZ2V0Q29sbGVjdGlvbihQcmVkaWNhdGUsIEFwcFVybHMucHJlZGljYXRlLCB7fSksXG4gICAgICBhcGkuZ2V0Q29sbGVjdGlvbihTb3VyY2UsIEFwcFVybHMuc291cmNlLCB7fSksXG4gICAgICBhcGkuZ2V0Q29sbGVjdGlvbihFbnRpdHksIEFwcFVybHMuZW50aXR5LCB7fSksXG4gICAgICBhcGkuZ2V0Q29sbGVjdGlvbihFbnRpdHlUeXBlLCBBcHBVcmxzLmVudGl0eV90eXBlLCB7fSksXG4gICAgICBhcGkuZ2V0SXRlbShFbGVtZW50U2V0LCBBcHBVcmxzLmVsZW1lbnRfc2V0LCAxKVxuICBdKVxuICAudGhlbigoW3ByZWRpY2F0ZXMsIHNvdXJjZXMsIGVudGl0aWVzLCBlbnRpdHlUeXBlLCBkdWJsaW5Db3JlXSkgPT4ge1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZWRpY2F0ZTogeyB2YWx1ZTogcHJlZGljYXRlcywgbGFzdFVwZGF0ZTogbW9tZW50KCkgfSxcbiAgICAgICAgICBzb3VyY2U6IHsgdmFsdWU6IHNvdXJjZXMsIGxhc3RVcGRhdGU6IG1vbWVudCgpIH0sXG4gICAgICAgICAgZW50aXR5OiB7IHZhbHVlOiBlbnRpdGllcywgbGFzdFVwZGF0ZTogbW9tZW50KCkgfSxcbiAgICAgICAgICBlbnRpdHlfdHlwZTogeyB2YWx1ZTogZW50aXR5VHlwZSwgbGFzdFVwZGF0ZTogbW9tZW50KCkgfSxcbiAgICAgICAgICBkdWJsaW5Db3JlOiB7IHZhbHVlOiBkdWJsaW5Db3JlLCBsYXN0VXBkYXRlOiBtb21lbnQoKSB9XG4gICAgICB9O1xuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3RhYlByb21pc2UsIGFsbFByb21pc2VdKVxuICAudGhlbigoW3RhYnNBcnJheSwgYWxsXSkgPT4ge1xuICAgICAgY29uc3QgdGFicyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLnRhYnNBcnJheSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlRBQlNcIiwgdGFicyk7XG4gICAgICByZXR1cm4geyB0YWJzLCBhbGwgfTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgRGF0YUNvbnRyb2xsZXIgPSB7XG4gIHJlbG9hZFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vRGF0YUNvbnRyb2xsZXIudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 76 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst Knex = __webpack_require__(77);\r\nconst lodash_1 = __webpack_require__(20);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nclass Database {\r\n    constructor(config) {\r\n        this.knex = Knex(config);\r\n    }\r\n    query() {\r\n        return this.knex;\r\n    }\r\n    select(tableName, options = '*') {\r\n        return this.knex.select().from(tableName);\r\n    }\r\n    loadItem(a, uid) {\r\n        const query = this.knex.select()\r\n            .from(a)\r\n            .where({ uid: uid })\r\n            .first();\r\n        return query.then((result) => result === undefined ? Promise.reject(new Exceptions_1.KeyNotFoundException()) : result);\r\n    }\r\n    loadCollection(a, params) {\r\n        let query = this.knex.select()\r\n            .from(a);\r\n        Object.keys(params).forEach((param) => {\r\n            query = query.whereIn(param, params[param]);\r\n        });\r\n        return query.then((results) => results === undefined ? Promise.reject(new Exceptions_1.KeyNotFoundException()) : results);\r\n    }\r\n    createItem(tableName, data) {\r\n        // throw warning if called with uid\r\n        // validate that everything else has been sent\r\n        const withoutUid = lodash_1.omit(data, ['uid']);\r\n        return this.knex.transaction((trx) => {\r\n            return this.knex(tableName).transacting(trx).insert(withoutUid, 'uid').returning('uid')\r\n                .then((results) => {\r\n                return this.checkIntegrity(trx)\r\n                    .then((valid) => {\r\n                    if (!valid) {\r\n                        throw new Exceptions_1.DatabaseIntegrityError();\r\n                    }\r\n                    return results;\r\n                });\r\n            })\r\n                .then(trx.commit)\r\n                .catch(trx.rollback);\r\n        });\r\n    }\r\n    updateItem(tableName, data) {\r\n        // assert - must have uid\r\n        // validation?\r\n        return this.knex.transaction((trx) => {\r\n            return this.knex(tableName).transacting(trx)\r\n                .where({ 'uid': data.uid })\r\n                .update(data)\r\n                .then((results) => {\r\n                return this.checkIntegrity(trx)\r\n                    .then((valid) => {\r\n                    if (!valid) {\r\n                        throw new Exceptions_1.DatabaseIntegrityError();\r\n                    }\r\n                    return results;\r\n                });\r\n            })\r\n                .then(trx.commit)\r\n                .catch(trx.rollback);\r\n        });\r\n    }\r\n    deleteItem(tableName, uid) {\r\n        return this.knex.transaction((trx) => {\r\n            return this.knex(tableName).transacting(trx)\r\n                .where({ uid })\r\n                .del()\r\n                .then((results) => {\r\n                return this.checkIntegrity(trx)\r\n                    .then((valid) => {\r\n                    if (!valid) {\r\n                        throw new Exceptions_1.DatabaseIntegrityError();\r\n                    }\r\n                    return results;\r\n                });\r\n            })\r\n                .then(trx.commit)\r\n                .catch(trx.rollback);\r\n        });\r\n    }\r\n    getAncestorsOf(uid, tableName) {\r\n        return this.knex.raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM ${tableName}),\n                ancestor(uid) AS (\n                SELECT parent FROM parent_of WHERE uid=${uid}\n                UNION ALL\n                SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\t\t\t\tSELECT * from ancestor`)\r\n            .then((result) => {\r\n            return result.filter((a) => a.uid !== null).map((a) => a.uid);\r\n        });\r\n    }\r\n    getChildrenOf(uid, tableName) {\r\n        return this.knex.raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM ${tableName}),\n                ancestor(parent) AS (\n                SELECT uid FROM parent_of WHERE uid=${uid}\n                UNION ALL\n                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n\t\t\t\tSELECT * from ancestor`)\r\n            .then((result) => {\r\n            return result.filter((a) => a.parent !== null).map((a) => a.parent);\r\n        });\r\n    }\r\n    checkIntegrity(trx) {\r\n        return Promise.all([\r\n            this.knex.transacting(trx).select(this.knex.raw('SUM((records.value_type != predicates.range_type)) AS valid'))\r\n                .from('records')\r\n                .innerJoin('predicates', 'records.predicate', 'predicates.uid'),\r\n            this.knex.transacting(trx).select(this.knex.raw(`\n                SUM((\n\n                entities.type not in (\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM entity_types),\n                                ancestor(parent) AS (\n                                SELECT uid FROM parent_of WHERE uid=predicates.range_ref\n                                UNION ALL\n                                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n                                SELECT * from ancestor\n                )\n\n                )) as valid\n            `))\r\n                .from('records')\r\n                .innerJoin('predicates', 'records.predicate', 'predicates.uid')\r\n                .innerJoin('entities', 'entities.uid', 'records.value_entity')\r\n                .where('records.value_type', '=', 'entity'),\r\n            this.knex.transacting(trx).select(this.knex.raw(`\n               SUM((\n\n                entities.type not in (\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM entity_types),\n                                ancestor(parent) AS (\n                                SELECT uid FROM parent_of WHERE uid=predicates.domain\n                                UNION ALL\n                                SELECT uid FROM parent_of JOIN ancestor USING(parent) )\n                                SELECT * from ancestor\n                )\n\n                )) as valid\n            `))\r\n                .from('records')\r\n                .innerJoin('predicates', 'records.predicate', 'predicates.uid')\r\n                .innerJoin('entities', 'entities.uid', 'records.entity')\r\n        ]).then(([[a], [b], [c]]) => {\r\n            return (a.valid + b.valid + c.valid) === 0;\r\n        });\r\n    }\r\n}\r\nexports.Database = Database;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvcmUvRGF0YWJhc2UudHM/ZWVkNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUdILE1BQVksSUFBSSx1QkFBTSxFQUFNLENBQUM7QUFDN0IscUNBQXFCLEVBQVEsQ0FBQztBQUU5Qix5Q0FBNkQsRUFBYyxDQUFDO0FBRTVFO0lBSUksWUFBWSxNQUFtQjtRQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRU0sS0FBSztRQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxNQUFNLENBQUMsU0FBaUIsRUFBRSxPQUFPLEdBQW1CLEdBQUc7UUFDMUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFTSxRQUFRLENBQUMsQ0FBUyxFQUFFLEdBQVc7UUFDbEMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7YUFDM0IsSUFBSSxDQUFDLENBQUMsQ0FBQzthQUNQLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQzthQUNuQixLQUFLLEVBQUUsQ0FBQztRQUViLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sS0FBSyxTQUFTLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLGlDQUFvQixFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztJQUM5RyxDQUFDO0lBRU0sY0FBYyxDQUFDLENBQVMsRUFBRSxNQUFjO1FBQzNDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2FBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUViLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSztZQUM5QixLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxPQUFPLEtBQUssU0FBUyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxpQ0FBb0IsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7SUFDakgsQ0FBQztJQUVNLFVBQVUsQ0FBQyxTQUFpQixFQUFFLElBQVM7UUFDMUMsbUNBQW1DO1FBQ25DLDhDQUE4QztRQUM5QyxNQUFNLFVBQVUsR0FBRyxhQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHO1lBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7aUJBQ3RGLElBQUksQ0FBQyxDQUFDLE9BQU87Z0JBQ1YsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDO3FCQUM5QixJQUFJLENBQUMsQ0FBQyxLQUFLO29CQUNSLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzt3QkFDVCxNQUFNLElBQUksbUNBQXNCLEVBQUUsQ0FBQztvQkFDdkMsQ0FBQztvQkFDRCxNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUNuQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQztpQkFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztpQkFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSxVQUFVLENBQUMsU0FBaUIsRUFBRSxJQUFTO1FBQzFDLHlCQUF5QjtRQUN6QixjQUFjO1FBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRztZQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDO2lCQUMzQyxLQUFLLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2lCQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDO2lCQUNaLElBQUksQ0FBQyxDQUFDLE9BQU87Z0JBQ1YsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDO3FCQUM5QixJQUFJLENBQUMsQ0FBQyxLQUFLO29CQUNSLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzt3QkFDVCxNQUFNLElBQUksbUNBQXNCLEVBQUUsQ0FBQztvQkFDdkMsQ0FBQztvQkFDRCxNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUNuQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQztpQkFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztpQkFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSxVQUFVLENBQUMsU0FBaUIsRUFBRSxHQUFXO1FBRTVDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUc7WUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztpQkFDM0MsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7aUJBQ2QsR0FBRyxFQUFFO2lCQUNMLElBQUksQ0FBQyxDQUFDLE9BQU87Z0JBQ1YsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDO3FCQUM5QixJQUFJLENBQUMsQ0FBQyxLQUFLO29CQUNSLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzt3QkFDVCxNQUFNLElBQUksbUNBQXNCLEVBQUUsQ0FBQztvQkFDdkMsQ0FBQztvQkFDRCxNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUNuQixDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQztpQkFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztpQkFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSxjQUFjLENBQUMsR0FBVyxFQUFFLFNBQWlCO1FBQ2hELE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztpRkFDb0QsU0FBUzs7eURBRWpDLEdBQUc7OzsyQkFHakMsQ0FBQzthQUNmLElBQUksQ0FBQyxDQUFDLE1BQU07WUFDVCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRU0sYUFBYSxDQUFDLEdBQVcsRUFBRSxTQUFpQjtRQUMvQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7aUZBQ29ELFNBQVM7O3NEQUVwQyxHQUFHOzs7MkJBRzlCLENBQUM7YUFDZixJQUFJLENBQUMsQ0FBQyxNQUFNO1lBQ1QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hFLENBQUMsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVNLGNBQWMsQ0FBQyxHQUFxQjtRQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyw2REFBNkQsQ0FBQyxDQUFDO2lCQUM5RyxJQUFJLENBQUMsU0FBUyxDQUFDO2lCQUNmLFNBQVMsQ0FBQyxZQUFZLEVBQUUsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUM7WUFFL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7O2FBYS9DLENBQUMsQ0FBQztpQkFDRixJQUFJLENBQUMsU0FBUyxDQUFDO2lCQUNmLFNBQVMsQ0FBQyxZQUFZLEVBQUUsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUM7aUJBQzlELFNBQVMsQ0FBQyxVQUFVLEVBQUUsY0FBYyxFQUFFLHNCQUFzQixDQUFDO2lCQUM3RCxLQUFLLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQztZQUUzQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7Ozs7Ozs7Ozs7Ozs7YUFhL0MsQ0FBQyxDQUFDO2lCQUNGLElBQUksQ0FBQyxTQUFTLENBQUM7aUJBQ2YsU0FBUyxDQUFDLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxnQkFBZ0IsQ0FBQztpQkFDOUQsU0FBUyxDQUFDLFVBQVUsRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLENBQUM7U0FFekQsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0FBQ0wsQ0FBQztBQTNLWSxnQkFBUSxXQTJLcEIiLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQWJzdHJhY3QgaW50ZXJmYWNlIGZvciBzb3VyY2VzXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5cbmltcG9ydCAqIGFzIEtuZXggZnJvbSAna25leCc7XG5pbXBvcnQgeyBvbWl0IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHsgS2V5Tm90Rm91bmRFeGNlcHRpb24sIERhdGFiYXNlSW50ZWdyaXR5RXJyb3IgfSBmcm9tICcuL0V4Y2VwdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2Uge1xuXG4gICAgcHJpdmF0ZSBrbmV4IDogS25leDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogS25leC5Db25maWcpIHtcbiAgICAgICAgdGhpcy5rbmV4ID0gS25leChjb25maWcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBxdWVyeSgpIDogS25leCB7XG4gICAgICAgIHJldHVybiB0aGlzLmtuZXg7XG4gICAgfVxuXG4gICAgcHVibGljIHNlbGVjdCh0YWJsZU5hbWU6IHN0cmluZywgb3B0aW9uczogc3RyaW5nW10gfCAnKicgPSAnKicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua25leC5zZWxlY3QoKS5mcm9tKHRhYmxlTmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRJdGVtKGE6IHN0cmluZywgdWlkOiBudW1iZXIpIDogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLmtuZXguc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKGEpXG4gICAgICAgICAgICAud2hlcmUoeyB1aWQ6IHVpZCB9KVxuICAgICAgICAgICAgLmZpcnN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXJ5LnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBQcm9taXNlLnJlamVjdChuZXcgS2V5Tm90Rm91bmRFeGNlcHRpb24oKSkgOiByZXN1bHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkQ29sbGVjdGlvbihhOiBzdHJpbmcsIHBhcmFtczogT2JqZWN0KSA6IFByb21pc2U8YW55W10+IHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5rbmV4LnNlbGVjdCgpXG4gICAgICAgICAgICAuZnJvbShhKTtcblxuICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goKHBhcmFtKSA9PiB7XG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LndoZXJlSW4ocGFyYW0sIHBhcmFtc1twYXJhbV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcXVlcnkudGhlbigocmVzdWx0cykgPT4gcmVzdWx0cyA9PT0gdW5kZWZpbmVkID8gUHJvbWlzZS5yZWplY3QobmV3IEtleU5vdEZvdW5kRXhjZXB0aW9uKCkpIDogcmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUl0ZW0odGFibGVOYW1lOiBzdHJpbmcsIGRhdGE6IGFueSkgOiBQcm9taXNlTGlrZTxhbnk+IHtcbiAgICAgICAgLy8gdGhyb3cgd2FybmluZyBpZiBjYWxsZWQgd2l0aCB1aWRcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCBldmVyeXRoaW5nIGVsc2UgaGFzIGJlZW4gc2VudFxuICAgICAgICBjb25zdCB3aXRob3V0VWlkID0gb21pdChkYXRhLCBbJ3VpZCddKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5rbmV4LnRyYW5zYWN0aW9uKCh0cngpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtuZXgodGFibGVOYW1lKS50cmFuc2FjdGluZyh0cngpLmluc2VydCh3aXRob3V0VWlkLCAndWlkJykucmV0dXJuaW5nKCd1aWQnKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0ludGVncml0eSh0cngpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHZhbGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhYmFzZUludGVncml0eUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odHJ4LmNvbW1pdClcbiAgICAgICAgICAgIC5jYXRjaCh0cngucm9sbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlSXRlbSh0YWJsZU5hbWU6IHN0cmluZywgZGF0YTogYW55KSA6IFByb21pc2VMaWtlPGFueT4ge1xuICAgICAgICAvLyBhc3NlcnQgLSBtdXN0IGhhdmUgdWlkXG4gICAgICAgIC8vIHZhbGlkYXRpb24/XG4gICAgICAgIHJldHVybiB0aGlzLmtuZXgudHJhbnNhY3Rpb24oKHRyeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua25leCh0YWJsZU5hbWUpLnRyYW5zYWN0aW5nKHRyeClcbiAgICAgICAgICAgIC53aGVyZSh7ICd1aWQnOiBkYXRhLnVpZCB9KVxuICAgICAgICAgICAgLnVwZGF0ZShkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja0ludGVncml0eSh0cngpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHZhbGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBEYXRhYmFzZUludGVncml0eUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odHJ4LmNvbW1pdClcbiAgICAgICAgICAgIC5jYXRjaCh0cngucm9sbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVsZXRlSXRlbSh0YWJsZU5hbWU6IHN0cmluZywgdWlkOiBudW1iZXIpIDogUHJvbWlzZUxpa2U8YW55PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMua25leC50cmFuc2FjdGlvbigodHJ4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rbmV4KHRhYmxlTmFtZSkudHJhbnNhY3RpbmcodHJ4KVxuICAgICAgICAgICAgLndoZXJlKHsgdWlkIH0pXG4gICAgICAgICAgICAuZGVsKClcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tJbnRlZ3JpdHkodHJ4KVxuICAgICAgICAgICAgICAgIC50aGVuKCh2YWxpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGF0YWJhc2VJbnRlZ3JpdHlFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRyeC5jb21taXQpXG4gICAgICAgICAgICAuY2F0Y2godHJ4LnJvbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFuY2VzdG9yc09mKHVpZDogbnVtYmVyLCB0YWJsZU5hbWU6IHN0cmluZykgOiBQcm9taXNlTGlrZTxudW1iZXJbXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5rbmV4LnJhdyhgXG4gICAgICAgICAgICBXSVRIIFJFQ1VSU0lWRSBwYXJlbnRfb2YodWlkLCBwYXJlbnQpIEFTICAoU0VMRUNUIHVpZCwgcGFyZW50IEZST00gJHt0YWJsZU5hbWV9KSxcbiAgICAgICAgICAgICAgICBhbmNlc3Rvcih1aWQpIEFTIChcbiAgICAgICAgICAgICAgICBTRUxFQ1QgcGFyZW50IEZST00gcGFyZW50X29mIFdIRVJFIHVpZD0ke3VpZH1cbiAgICAgICAgICAgICAgICBVTklPTiBBTExcbiAgICAgICAgICAgICAgICBTRUxFQ1QgcGFyZW50IEZST00gcGFyZW50X29mIEpPSU4gYW5jZXN0b3IgVVNJTkcodWlkKSApXG5cdFx0XHRcdFNFTEVDVCAqIGZyb20gYW5jZXN0b3JgKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZmlsdGVyKChhKSA9PiBhLnVpZCAhPT0gbnVsbCkubWFwKChhKSA9PiBhLnVpZCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q2hpbGRyZW5PZih1aWQ6IG51bWJlciwgdGFibGVOYW1lOiBzdHJpbmcpIDogUHJvbWlzZUxpa2U8bnVtYmVyW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMua25leC5yYXcoYFxuICAgICAgICAgICAgV0lUSCBSRUNVUlNJVkUgcGFyZW50X29mKHVpZCwgcGFyZW50KSBBUyAgKFNFTEVDVCB1aWQsIHBhcmVudCBGUk9NICR7dGFibGVOYW1lfSksXG4gICAgICAgICAgICAgICAgYW5jZXN0b3IocGFyZW50KSBBUyAoXG4gICAgICAgICAgICAgICAgU0VMRUNUIHVpZCBGUk9NIHBhcmVudF9vZiBXSEVSRSB1aWQ9JHt1aWR9XG4gICAgICAgICAgICAgICAgVU5JT04gQUxMXG4gICAgICAgICAgICAgICAgU0VMRUNUIHVpZCBGUk9NIHBhcmVudF9vZiBKT0lOIGFuY2VzdG9yIFVTSU5HKHBhcmVudCkgKVxuXHRcdFx0XHRTRUxFQ1QgKiBmcm9tIGFuY2VzdG9yYClcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmZpbHRlcigoYSkgPT4gYS5wYXJlbnQgIT09IG51bGwpLm1hcCgoYSkgPT4gYS5wYXJlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNoZWNrSW50ZWdyaXR5KHRyeDogS25leC5UcmFuc2FjdGlvbikgOiBQcm9taXNlTGlrZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0aGlzLmtuZXgudHJhbnNhY3RpbmcodHJ4KS5zZWxlY3QodGhpcy5rbmV4LnJhdygnU1VNKChyZWNvcmRzLnZhbHVlX3R5cGUgIT0gcHJlZGljYXRlcy5yYW5nZV90eXBlKSkgQVMgdmFsaWQnKSlcbiAgICAgICAgICAgIC5mcm9tKCdyZWNvcmRzJylcbiAgICAgICAgICAgIC5pbm5lckpvaW4oJ3ByZWRpY2F0ZXMnLCAncmVjb3Jkcy5wcmVkaWNhdGUnLCAncHJlZGljYXRlcy51aWQnKSxcblxuICAgICAgICAgICAgdGhpcy5rbmV4LnRyYW5zYWN0aW5nKHRyeCkuc2VsZWN0KHRoaXMua25leC5yYXcoYFxuICAgICAgICAgICAgICAgIFNVTSgoXG5cbiAgICAgICAgICAgICAgICBlbnRpdGllcy50eXBlIG5vdCBpbiAoXG4gICAgICAgICAgICAgICAgICAgIFdJVEggUkVDVVJTSVZFIHBhcmVudF9vZih1aWQsIHBhcmVudCkgQVMgIChTRUxFQ1QgdWlkLCBwYXJlbnQgRlJPTSBlbnRpdHlfdHlwZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNlc3RvcihwYXJlbnQpIEFTIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VMRUNUIHVpZCBGUk9NIHBhcmVudF9vZiBXSEVSRSB1aWQ9cHJlZGljYXRlcy5yYW5nZV9yZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVU5JT04gQUxMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTEVDVCB1aWQgRlJPTSBwYXJlbnRfb2YgSk9JTiBhbmNlc3RvciBVU0lORyhwYXJlbnQpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VMRUNUICogZnJvbSBhbmNlc3RvclxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICkpIGFzIHZhbGlkXG4gICAgICAgICAgICBgKSlcbiAgICAgICAgICAgIC5mcm9tKCdyZWNvcmRzJylcbiAgICAgICAgICAgIC5pbm5lckpvaW4oJ3ByZWRpY2F0ZXMnLCAncmVjb3Jkcy5wcmVkaWNhdGUnLCAncHJlZGljYXRlcy51aWQnKVxuICAgICAgICAgICAgLmlubmVySm9pbignZW50aXRpZXMnLCAnZW50aXRpZXMudWlkJywgJ3JlY29yZHMudmFsdWVfZW50aXR5JylcbiAgICAgICAgICAgIC53aGVyZSgncmVjb3Jkcy52YWx1ZV90eXBlJywgJz0nLCAnZW50aXR5JyksXG5cbiAgICAgICAgICAgIHRoaXMua25leC50cmFuc2FjdGluZyh0cngpLnNlbGVjdCh0aGlzLmtuZXgucmF3KGBcbiAgICAgICAgICAgICAgIFNVTSgoXG5cbiAgICAgICAgICAgICAgICBlbnRpdGllcy50eXBlIG5vdCBpbiAoXG4gICAgICAgICAgICAgICAgICAgIFdJVEggUkVDVVJTSVZFIHBhcmVudF9vZih1aWQsIHBhcmVudCkgQVMgIChTRUxFQ1QgdWlkLCBwYXJlbnQgRlJPTSBlbnRpdHlfdHlwZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNlc3RvcihwYXJlbnQpIEFTIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VMRUNUIHVpZCBGUk9NIHBhcmVudF9vZiBXSEVSRSB1aWQ9cHJlZGljYXRlcy5kb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVU5JT04gQUxMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTEVDVCB1aWQgRlJPTSBwYXJlbnRfb2YgSk9JTiBhbmNlc3RvciBVU0lORyhwYXJlbnQpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VMRUNUICogZnJvbSBhbmNlc3RvclxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICkpIGFzIHZhbGlkXG4gICAgICAgICAgICBgKSlcbiAgICAgICAgICAgIC5mcm9tKCdyZWNvcmRzJylcbiAgICAgICAgICAgIC5pbm5lckpvaW4oJ3ByZWRpY2F0ZXMnLCAncmVjb3Jkcy5wcmVkaWNhdGUnLCAncHJlZGljYXRlcy51aWQnKVxuICAgICAgICAgICAgLmlubmVySm9pbignZW50aXRpZXMnLCAnZW50aXRpZXMudWlkJywgJ3JlY29yZHMuZW50aXR5JylcblxuICAgICAgICAgIF0pLnRoZW4oKFtbYV0sIFtiXSwgW2NdXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChhLnZhbGlkICsgYi52YWxpZCArIGMudmFsaWQpID09PSAwO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL2NvcmUvRGF0YWJhc2UudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 77 */
/***/ function(module, exports) {

	eval("module.exports = require(\"knex\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrbmV4XCI/ZjNhNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtuZXhcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJrbmV4XCJcbi8vIG1vZHVsZSBpZCA9IDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 78 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview <Description Missing>\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.1.0\r\n */\r\n\"use strict\";\r\nclass KeyNotFoundException extends Error {\r\n    constructor(message = 'Could not find the given key') {\r\n        super(message);\r\n        this.data = message;\r\n    }\r\n}\r\nexports.KeyNotFoundException = KeyNotFoundException;\r\nclass CollectionNotFoundException extends Error {\r\n    constructor(message = 'Could not find the given collection') {\r\n        super(message);\r\n        this.data = message;\r\n    }\r\n}\r\nexports.CollectionNotFoundException = CollectionNotFoundException;\r\nclass OperationNotPermittedException extends Error {\r\n    constructor(data) {\r\n        super(data.message);\r\n        this.data = data;\r\n    }\r\n}\r\nexports.OperationNotPermittedException = OperationNotPermittedException;\r\nclass DatabaseIntegrityError extends Error {\r\n    constructor(message = `A database integrity constraint has been broken - your change has not been\n submitted. This is likely due to a change which violates the property types model; please check the types of \n what you are trying to do. Please also contact the Digital Humanities team, this error should not occur.`) {\r\n        super(message);\r\n        this.data = message;\r\n    }\r\n}\r\nexports.DatabaseIntegrityError = DatabaseIntegrityError;\r\nexports.exceptions = {\r\n    KeyNotFoundException,\r\n    CollectionNotFoundException,\r\n    OperationNotPermittedException,\r\n    DatabaseIntegrityError\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvcmUvRXhjZXB0aW9ucy50cz8yOWRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBRUgsbUNBQTBDLEtBQUs7SUFFM0MsWUFBWSxPQUFPLEdBQVcsOEJBQThCO1FBQ3hELE1BQU0sT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0FBQ0wsQ0FBQztBQU5ZLDRCQUFvQix1QkFNaEM7QUFFRCwwQ0FBaUQsS0FBSztJQUVsRCxZQUFZLE9BQU8sR0FBVyxxQ0FBcUM7UUFDL0QsTUFBTSxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO0lBQ3hCLENBQUM7QUFDTCxDQUFDO0FBTlksbUNBQTJCLDhCQU12QztBQUVELDZDQUFvRCxLQUFLO0lBRXJELFlBQVksSUFBbUM7UUFDM0MsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztBQUNMLENBQUM7QUFOWSxzQ0FBOEIsaUNBTTFDO0FBRUQscUNBQTRDLEtBQUs7SUFFN0MsWUFBWSxPQUFPLEdBQVc7OzBHQUV3RTtRQUNsRyxNQUFNLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7SUFDeEIsQ0FBQztBQUNMLENBQUM7QUFSWSw4QkFBc0IseUJBUWxDO0FBR1ksa0JBQVUsR0FBRztJQUN0QixvQkFBb0I7SUFDcEIsMkJBQTJCO0lBQzNCLDhCQUE4QjtJQUM5QixzQkFBc0I7Q0FDekIsQ0FBQyIsImZpbGUiOiI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyA8RGVzY3JpcHRpb24gTWlzc2luZz5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjEuMFxuICovXG5cbmV4cG9ydCBjbGFzcyBLZXlOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBwdWJsaWMgZGF0YTogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICdDb3VsZCBub3QgZmluZCB0aGUgZ2l2ZW4ga2V5Jykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgcHVibGljIGRhdGE6IHN0cmluZztcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcgPSAnQ291bGQgbm90IGZpbmQgdGhlIGdpdmVuIGNvbGxlY3Rpb24nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmRhdGEgPSBtZXNzYWdlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBwdWJsaWMgZGF0YTogeyBtZXNzYWdlOiBzdHJpbmcsIGRhdGE6IGFueX07XG4gICAgY29uc3RydWN0b3IoZGF0YTogeyBtZXNzYWdlOiBzdHJpbmcsIGRhdGE6IGFueX0pIHtcbiAgICAgICAgc3VwZXIoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUludGVncml0eUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHB1YmxpYyBkYXRhOiBzdHJpbmc7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gYEEgZGF0YWJhc2UgaW50ZWdyaXR5IGNvbnN0cmFpbnQgaGFzIGJlZW4gYnJva2VuIC0geW91ciBjaGFuZ2UgaGFzIG5vdCBiZWVuXG4gc3VibWl0dGVkLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYSBjaGFuZ2Ugd2hpY2ggdmlvbGF0ZXMgdGhlIHByb3BlcnR5IHR5cGVzIG1vZGVsOyBwbGVhc2UgY2hlY2sgdGhlIHR5cGVzIG9mIFxuIHdoYXQgeW91IGFyZSB0cnlpbmcgdG8gZG8uIFBsZWFzZSBhbHNvIGNvbnRhY3QgdGhlIERpZ2l0YWwgSHVtYW5pdGllcyB0ZWFtLCB0aGlzIGVycm9yIHNob3VsZCBub3Qgb2NjdXIuYCkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbWVzc2FnZTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNvbnN0IGV4Y2VwdGlvbnMgPSB7XG4gICAgS2V5Tm90Rm91bmRFeGNlcHRpb24sXG4gICAgQ29sbGVjdGlvbk5vdEZvdW5kRXhjZXB0aW9uLFxuICAgIE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbixcbiAgICBEYXRhYmFzZUludGVncml0eUVycm9yXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29yZS9FeGNlcHRpb25zLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 79 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Map of URIs to controllers\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst ServerApiService_1 = __webpack_require__(80);\r\nconst QueryEngine_1 = __webpack_require__(82);\r\nconst koaConditionalGet = __webpack_require__(86);\r\nconst koaEtags = __webpack_require__(87);\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst controllers_1 = __webpack_require__(88);\r\nconst falcon_core_2 = __webpack_require__(29);\r\nexports.wrapDatabase = (db, fakeCreator) => {\r\n    const routes = new Map([\r\n        [ServerApiService_1.AppUrls.element_set, new controllers_1.ElementSetController(db)],\r\n        [ServerApiService_1.AppUrls.record, new controllers_1.RecordController(db)],\r\n        [ServerApiService_1.AppUrls.entity_type, new controllers_1.EntityTypeController(db)],\r\n        [ServerApiService_1.AppUrls.entity, new controllers_1.EntityController(db)],\r\n        [ServerApiService_1.AppUrls.predicate, new controllers_1.PredicateController(db)],\r\n        [ServerApiService_1.AppUrls.source, new controllers_1.SourceController(db)],\r\n        [ServerApiService_1.AppUrls.element, new controllers_1.ElementController(db)],\r\n        [ServerApiService_1.AppUrls.source_element, new controllers_1.SourceElementController(db)]\r\n    ]);\r\n    return new ServerApiService_1.ServerApiService(db, routes, new QueryEngine_1.QueryEngine(db), fakeCreator);\r\n};\r\nconst sourceElementSpecial = (router, serverApiContext, typeMap) => {\r\n    router.use(koaConditionalGet());\r\n    router.use(koaEtags());\r\n    router.get(`/api/v1/${ServerApiService_1.AppUrls.source_element}/:source/:element`, function* (next) {\r\n        yield serverApiContext\r\n            .getItem(typeMap[ServerApiService_1.AppUrls.source_element], ServerApiService_1.AppUrls.source_element, {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.params.source,\r\n                element: this.params.element\r\n            }\r\n        })\r\n            .then((data) => this.body = data.serialize());\r\n    });\r\n    router.put(`/api/v1/${ServerApiService_1.AppUrls.source_element}/:source/:element`, function* (next) {\r\n        yield serverApiContext\r\n            .putItem(typeMap[ServerApiService_1.AppUrls.source_element], ServerApiService_1.AppUrls.source_element, {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.params.source,\r\n                element: this.params.element\r\n            }\r\n        }, this.request.body)\r\n            .then((data) => this.body = data);\r\n    });\r\n    router.patch(`/api/v1/${ServerApiService_1.AppUrls.source_element}/:source/:element`, function* (next) {\r\n        yield serverApiContext\r\n            .patchItem(typeMap[ServerApiService_1.AppUrls.source_element], ServerApiService_1.AppUrls.source_element, {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.params.source,\r\n                element: this.params.element\r\n            }\r\n        }, this.request.body)\r\n            .then((data) => this.body = data);\r\n    });\r\n    router.del(`/api/v1/${ServerApiService_1.AppUrls.source_element}/:source/:element`, function* (next) {\r\n        yield serverApiContext\r\n            .delItem(typeMap[ServerApiService_1.AppUrls.source_element], ServerApiService_1.AppUrls.source_element, {\r\n            order: ['source', 'element'],\r\n            values: {\r\n                source: this.params.source,\r\n                element: this.params.element\r\n            }\r\n        })\r\n            .then((data) => this.body = data);\r\n    });\r\n};\r\n// would be cleaner if it allowed 2nd level REST urls\r\n//  /entity/{entity_id}/predicate/{predicate_id}\r\n// /source/{source_id}/element/{element_id}\r\nexports.api = (router, serverApiContext) => {\r\n    router.use();\r\n    const typeMap = {\r\n        [ServerApiService_1.AppUrls.element_set]: falcon_core_2.ElementSet,\r\n        [ServerApiService_1.AppUrls.record]: falcon_core_2.Record,\r\n        [ServerApiService_1.AppUrls.entity_type]: falcon_core_2.EntityType,\r\n        [ServerApiService_1.AppUrls.entity]: falcon_core_2.Entity,\r\n        [ServerApiService_1.AppUrls.predicate]: falcon_core_2.Predicate,\r\n        [ServerApiService_1.AppUrls.source]: falcon_core_2.Source,\r\n        [ServerApiService_1.AppUrls.element]: falcon_core_2.Element,\r\n        [ServerApiService_1.AppUrls.source_element]: falcon_core_2.SourceElement\r\n    };\r\n    router.use(function* (next) {\r\n        if (this.req.method === 'GET' || this.isAuthenticated()) {\r\n            yield next;\r\n        }\r\n        else {\r\n            this.status = 403;\r\n            this.body = 'You must be authorised to modify this resource';\r\n        }\r\n    });\r\n    router.use(function* (next) {\r\n        try {\r\n            yield next;\r\n        }\r\n        catch (err) {\r\n            switch (err.constructor.name) {\r\n                case 'KeyNotFoundException':\r\n                    this.status = 404;\r\n                    break;\r\n                case 'CollectionNotFoundException':\r\n                    this.status = 404;\r\n                    break;\r\n                case 'OperationNotPermittedException':\r\n                    this.status = 422;\r\n                    break;\r\n                default:\r\n                    this.status = 500;\r\n            }\r\n            this.type = 'application/json';\r\n            if (err.data !== undefined) {\r\n                yield err.data.data.then((data) => {\r\n                    this.body = JSON.stringify(Object.assign({}, err.data, { data: data }));\r\n                });\r\n            }\r\n            else {\r\n                this.body = err.message;\r\n            }\r\n        }\r\n    });\r\n    router.get('/api/v1/query', function* (next) {\r\n        yield serverApiContext.queryEngine.runQuery(this.query.query)\r\n            .then((result) => this.body = result);\r\n    });\r\n    sourceElementSpecial(router, serverApiContext, typeMap);\r\n    router.get('/api/v1/:route/:id', function* (next) {\r\n        yield serverApiContext\r\n            .getItem(typeMap[this.params.route], this.params.route, parseInt(this.params.id))\r\n            .then((data) => this.body = falcon_core_1.Serializer.toJson(data));\r\n    });\r\n    router.get('/api/v1/:route', function* (next) {\r\n        yield serverApiContext\r\n            .getCollection(typeMap[this.params.route], this.params.route, this.query)\r\n            .then((data) => this.body = data.map((datum) => falcon_core_1.Serializer.toJson(datum)));\r\n    });\r\n    router.post('/api/v1/:route', function* (next) {\r\n        yield serverApiContext\r\n            .postItem(typeMap[this.params.route], this.params.route, falcon_core_1.Serializer.fromJson(typeMap[this.params.route], Object.assign(this.request.body, {\r\n            creator: this.req.user.uid\r\n        })))\r\n            .then((data) => this.body = data);\r\n    });\r\n    router.put('/api/v1/:route/:id', function* (next) {\r\n        yield serverApiContext\r\n            .putItem(typeMap[this.params.route], this.params.route, parseInt(this.params.id), falcon_core_1.Serializer.fromJson(typeMap[this.params.route], this.request.body))\r\n            .then((data) => this.body = data);\r\n    });\r\n    router.patch('/api/v1/:route/:id', function* (next) {\r\n        yield serverApiContext\r\n            .patchItem(typeMap[this.params.route], this.params.route, parseInt(this.params.id), this.request.body)\r\n            .then((data) => this.body = data);\r\n    });\r\n    router.del('/api/v1/:route/:id', function* (next) {\r\n        yield serverApiContext\r\n            .delItem(typeMap[this.params.route], this.params.route, parseInt(this.params.id))\r\n            .then((data) => this.body = data);\r\n    });\r\n    return router;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9hcGkudHM/ODdmYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQVVILCtDQUEwQyxFQUEwQixDQUFDO0FBQ3JFLDBDQUE0QixFQUFxQixDQUFDO0FBRWxELE1BQVksaUJBQWlCLHVCQUFNLEVBQXFCLENBQUM7QUFDekQsTUFBWSxRQUFRLHVCQUFNLEVBQVUsQ0FBQztBQUVyQywwQ0FBMkIsRUFBYSxDQUFDO0FBS3pDLDBDQVNPLEVBQTRCLENBQUM7QUFFcEMsMENBRU8sRUFBYSxDQUFDO0FBRVIsb0JBQVksR0FDckIsQ0FBQyxFQUFZLEVBQUUsV0FBb0I7SUFDbkMsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQXNCO1FBQ3hDLENBQUMsMEJBQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxrQ0FBb0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuRCxDQUFDLDBCQUFPLENBQUMsTUFBTSxFQUFFLElBQUksOEJBQWdCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUMsQ0FBQywwQkFBTyxDQUFDLFdBQVcsRUFBRSxJQUFJLGtDQUFvQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELENBQUMsMEJBQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSw4QkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQyxDQUFDLDBCQUFPLENBQUMsU0FBUyxFQUFFLElBQUksaUNBQW1CLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEQsQ0FBQywwQkFBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLDhCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsMEJBQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSwrQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM1QyxDQUFDLDBCQUFPLENBQUMsY0FBYyxFQUFFLElBQUkscUNBQXVCLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDNUQsQ0FBQyxDQUFDO0lBRUgsTUFB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QjthQUNqQixTQUFTLENBQU0sT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7YUFDMUcsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLFdBQVcsSUFBa0I7UUFDMUQsTUFBTSxnQkFBZ0I7YUFDakIsT0FBTyxDQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQ3JGLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUNsQixDQUFDLENBQUMiLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgTWFwIG9mIFVSSXMgdG8gY29udHJvbGxlcnNcbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrXCI+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjAuMVxuICovXG5cbi8vIFZlbmRvclxuaW1wb3J0ICogYXMgS29hIGZyb20gJ2tvYSc7XG5pbXBvcnQgKiBhcyBLb2FSb3V0ZXIgZnJvbSAna29hLXJvdXRlcic7XG5cbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG4vLyBEYXRhYmFzZVxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcbmltcG9ydCB7IFNlcnZlckFwaVNlcnZpY2UsIEFwcFVybHMgfSBmcm9tICcuLi9jb3JlL1NlcnZlckFwaVNlcnZpY2UnO1xuaW1wb3J0IHsgUXVlcnlFbmdpbmUgfSBmcm9tICcuLi9jb3JlL1F1ZXJ5RW5naW5lJztcblxuaW1wb3J0ICogYXMga29hQ29uZGl0aW9uYWxHZXQgZnJvbSAna29hLWNvbmRpdGlvbmFsLWdldCc7XG5pbXBvcnQgKiBhcyBrb2FFdGFncyBmcm9tICdrb2EtZXRhZyc7XG5cbmltcG9ydCB7IFNlcmlhbGl6ZXIgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbi8vIENvbnRyb2xsZXJzXG5pbXBvcnQgeyBJQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0lDb250cm9sbGVyJztcblxuaW1wb3J0IHtcbiAgICBFbnRpdHlDb250cm9sbGVyLFxuICAgIEVudGl0eVR5cGVDb250cm9sbGVyLFxuICAgIEVsZW1lbnRTZXRDb250cm9sbGVyLFxuICAgIFByZWRpY2F0ZUNvbnRyb2xsZXIsXG4gICAgU291cmNlQ29udHJvbGxlcixcbiAgICBSZWNvcmRDb250cm9sbGVyLFxuICAgIEVsZW1lbnRDb250cm9sbGVyLFxuICAgIFNvdXJjZUVsZW1lbnRDb250cm9sbGVyXG59IGZyb20gJy4uL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXJzJztcblxuaW1wb3J0IHtcbiAgRW50aXR5LCBFbnRpdHlUeXBlLCBFbGVtZW50U2V0LCBQcmVkaWNhdGUsIFNvdXJjZSwgUmVjb3JkLCBFbGVtZW50LCBTb3VyY2VFbGVtZW50XG59IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuZXhwb3J0IGNvbnN0IHdyYXBEYXRhYmFzZSA6IChzOiBEYXRhYmFzZSwgZmFrZUNyZWF0b3I6IGJvb2xlYW4pID0+IFNlcnZlckFwaVNlcnZpY2UgPVxuICAgIChkYjogRGF0YWJhc2UsIGZha2VDcmVhdG9yOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3Qgcm91dGVzID0gbmV3IE1hcDxzdHJpbmcsIElDb250cm9sbGVyPihbXG4gICAgICAgIFtBcHBVcmxzLmVsZW1lbnRfc2V0LCBuZXcgRWxlbWVudFNldENvbnRyb2xsZXIoZGIpXSxcbiAgICAgICAgW0FwcFVybHMucmVjb3JkLCBuZXcgUmVjb3JkQ29udHJvbGxlcihkYildLFxuICAgICAgICBbQXBwVXJscy5lbnRpdHlfdHlwZSwgbmV3IEVudGl0eVR5cGVDb250cm9sbGVyKGRiKV0sXG4gICAgICAgIFtBcHBVcmxzLmVudGl0eSwgbmV3IEVudGl0eUNvbnRyb2xsZXIoZGIpXSxcbiAgICAgICAgW0FwcFVybHMucHJlZGljYXRlLCBuZXcgUHJlZGljYXRlQ29udHJvbGxlcihkYildLFxuICAgICAgICBbQXBwVXJscy5zb3VyY2UsIG5ldyBTb3VyY2VDb250cm9sbGVyKGRiKV0sXG4gICAgICAgIFtBcHBVcmxzLmVsZW1lbnQsIG5ldyBFbGVtZW50Q29udHJvbGxlcihkYildLFxuICAgICAgICBbQXBwVXJscy5zb3VyY2VfZWxlbWVudCwgbmV3IFNvdXJjZUVsZW1lbnRDb250cm9sbGVyKGRiKV1cbiAgICBdKTtcblxuICAgIHJldHVybiBuZXcgU2VydmVyQXBpU2VydmljZShkYiwgcm91dGVzLCBuZXcgUXVlcnlFbmdpbmUoZGIpLCBmYWtlQ3JlYXRvcik7XG59O1xuXG5jb25zdCBzb3VyY2VFbGVtZW50U3BlY2lhbCA9IChyb3V0ZXI6IGFueSwgc2VydmVyQXBpQ29udGV4dDogU2VydmVyQXBpU2VydmljZSwgdHlwZU1hcDogYW55KSA9PiB7XG5cbiAgcm91dGVyLnVzZShrb2FDb25kaXRpb25hbEdldCgpKTtcbiAgcm91dGVyLnVzZShrb2FFdGFncygpKTtcblxuICAgIHJvdXRlci5nZXQoYC9hcGkvdjEvJHtBcHBVcmxzLnNvdXJjZV9lbGVtZW50fS86c291cmNlLzplbGVtZW50YCwgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dFxuICAgICAgICAgICAgLmdldEl0ZW08UGVyc2lzdGFibGU+KHR5cGVNYXBbQXBwVXJscy5zb3VyY2VfZWxlbWVudF0sIEFwcFVybHMuc291cmNlX2VsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBvcmRlcjogWydzb3VyY2UnLCAnZWxlbWVudCddLFxuICAgICAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucGFyYW1zLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5wYXJhbXMuZWxlbWVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy5ib2R5ID0gZGF0YS5zZXJpYWxpemUoKSk7XG4gICAgfSk7XG5cbiAgICByb3V0ZXIucHV0KGAvYXBpL3YxLyR7QXBwVXJscy5zb3VyY2VfZWxlbWVudH0vOnNvdXJjZS86ZWxlbWVudGAsIGZ1bmN0aW9uKiAobmV4dCA6IEtvYS5Db250ZXh0KSB7XG4gICAgICAgIHlpZWxkIHNlcnZlckFwaUNvbnRleHRcbiAgICAgICAgICAgIC5wdXRJdGVtPFBlcnNpc3RhYmxlPih0eXBlTWFwW0FwcFVybHMuc291cmNlX2VsZW1lbnRdLCBBcHBVcmxzLnNvdXJjZV9lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgb3JkZXI6IFsnc291cmNlJywgJ2VsZW1lbnQnXSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnBhcmFtcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucGFyYW1zLmVsZW1lbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzLnJlcXVlc3QuYm9keSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmJvZHkgPSBkYXRhKTtcbiAgICB9KTtcblxuICAgIHJvdXRlci5wYXRjaChgL2FwaS92MS8ke0FwcFVybHMuc291cmNlX2VsZW1lbnR9Lzpzb3VyY2UvOmVsZW1lbnRgLCBmdW5jdGlvbiogKG5leHQgOiBLb2EuQ29udGV4dCkge1xuICAgICAgICB5aWVsZCBzZXJ2ZXJBcGlDb250ZXh0XG4gICAgICAgICAgICAucGF0Y2hJdGVtPFBlcnNpc3RhYmxlPih0eXBlTWFwW0FwcFVybHMuc291cmNlX2VsZW1lbnRdLCBBcHBVcmxzLnNvdXJjZV9lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgb3JkZXI6IFsnc291cmNlJywgJ2VsZW1lbnQnXSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnBhcmFtcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucGFyYW1zLmVsZW1lbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzLnJlcXVlc3QuYm9keSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmJvZHkgPSBkYXRhKTtcbiAgICB9KTtcblxuICAgIHJvdXRlci5kZWwoYC9hcGkvdjEvJHtBcHBVcmxzLnNvdXJjZV9lbGVtZW50fS86c291cmNlLzplbGVtZW50YCwgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dFxuICAgICAgICAgICAgLmRlbEl0ZW08UGVyc2lzdGFibGU+KHR5cGVNYXBbQXBwVXJscy5zb3VyY2VfZWxlbWVudF0sIEFwcFVybHMuc291cmNlX2VsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBvcmRlcjogWydzb3VyY2UnLCAnZWxlbWVudCddLFxuICAgICAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucGFyYW1zLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5wYXJhbXMuZWxlbWVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy5ib2R5ID0gZGF0YSk7XG4gICAgfSk7XG59O1xuXG4vLyB3b3VsZCBiZSBjbGVhbmVyIGlmIGl0IGFsbG93ZWQgMm5kIGxldmVsIFJFU1QgdXJsc1xuLy8gIC9lbnRpdHkve2VudGl0eV9pZH0vcHJlZGljYXRlL3twcmVkaWNhdGVfaWR9XG4vLyAvc291cmNlL3tzb3VyY2VfaWR9L2VsZW1lbnQve2VsZW1lbnRfaWR9XG5cbmV4cG9ydCBjb25zdCBhcGkgOiAocm91dGVyOiBLb2FSb3V0ZXIsIHM6IFNlcnZlckFwaVNlcnZpY2UpID0+IEtvYVJvdXRlclxuICAgID0gKHJvdXRlcjogS29hUm91dGVyLCBzZXJ2ZXJBcGlDb250ZXh0OiBTZXJ2ZXJBcGlTZXJ2aWNlKSA9PiB7XG5cbiAgICByb3V0ZXIudXNlKClcblxuICAgIGNvbnN0IHR5cGVNYXAgPSB7XG4gICAgICAgIFtBcHBVcmxzLmVsZW1lbnRfc2V0XTogRWxlbWVudFNldCxcbiAgICAgICAgW0FwcFVybHMucmVjb3JkXTogUmVjb3JkLFxuICAgICAgICBbQXBwVXJscy5lbnRpdHlfdHlwZV06IEVudGl0eVR5cGUsXG4gICAgICAgIFtBcHBVcmxzLmVudGl0eV06IEVudGl0eSxcbiAgICAgICAgW0FwcFVybHMucHJlZGljYXRlXSA6IFByZWRpY2F0ZSxcbiAgICAgICAgW0FwcFVybHMuc291cmNlXSA6IFNvdXJjZSxcbiAgICAgICAgW0FwcFVybHMuZWxlbWVudF0gOiBFbGVtZW50LFxuICAgICAgICBbQXBwVXJscy5zb3VyY2VfZWxlbWVudF06IFNvdXJjZUVsZW1lbnRcbiAgICB9O1xuXG4gICAgcm91dGVyLnVzZShmdW5jdGlvbiogKG5leHQ6IEtvYS5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLnJlcS5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIG5leHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IDQwMztcbiAgICAgICAgICAgIHRoaXMuYm9keSA9ICdZb3UgbXVzdCBiZSBhdXRob3Jpc2VkIHRvIG1vZGlmeSB0aGlzIHJlc291cmNlJztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcm91dGVyLnVzZShmdW5jdGlvbiogKG5leHQ6IEtvYS5Db250ZXh0KXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIG5leHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3dpdGNoIChlcnIuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0tleU5vdEZvdW5kRXhjZXB0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbGxlY3Rpb25Ob3RGb3VuZEV4Y2VwdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IDQyMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSA1MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBpZiAoIGVyci5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBlcnIuZGF0YS5kYXRhLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSwgZXJyLmRhdGEsIHsgZGF0YTogZGF0YSB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keSA9IGVyci5tZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByb3V0ZXIuZ2V0KCcvYXBpL3YxL3F1ZXJ5JywgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dC5xdWVyeUVuZ2luZS5ydW5RdWVyeSh0aGlzLnF1ZXJ5LnF1ZXJ5KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gdGhpcy5ib2R5ID0gcmVzdWx0KTtcbiAgICB9KTtcblxuICAgIHNvdXJjZUVsZW1lbnRTcGVjaWFsKHJvdXRlciwgc2VydmVyQXBpQ29udGV4dCwgdHlwZU1hcCk7XG5cbiAgICByb3V0ZXIuZ2V0KCcvYXBpL3YxLzpyb3V0ZS86aWQnLCBmdW5jdGlvbiogKG5leHQgOiBLb2EuQ29udGV4dCkge1xuICAgICAgICB5aWVsZCBzZXJ2ZXJBcGlDb250ZXh0XG4gICAgICAgICAgICAuZ2V0SXRlbTxhbnk+KHR5cGVNYXBbdGhpcy5wYXJhbXMucm91dGVdLCB0aGlzLnBhcmFtcy5yb3V0ZSwgcGFyc2VJbnQodGhpcy5wYXJhbXMuaWQpKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHRoaXMuYm9keSA9IFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpKTtcbiAgICB9KTtcblxuXG4gICAgcm91dGVyLmdldCgnL2FwaS92MS86cm91dGUnLCBmdW5jdGlvbiogKG5leHQgOiBLb2EuQ29udGV4dCkge1xuICAgICAgICB5aWVsZCBzZXJ2ZXJBcGlDb250ZXh0XG4gICAgICAgICAgICAuZ2V0Q29sbGVjdGlvbjxhbnk+KHR5cGVNYXBbdGhpcy5wYXJhbXMucm91dGVdLCB0aGlzLnBhcmFtcy5yb3V0ZSwgdGhpcy5xdWVyeSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmJvZHkgPSBkYXRhLm1hcCgoZGF0dW0pID0+IFNlcmlhbGl6ZXIudG9Kc29uKGRhdHVtKSkpO1xuICAgIH0pO1xuXG4gICAgcm91dGVyLnBvc3QoJy9hcGkvdjEvOnJvdXRlJywgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dFxuICAgICAgICAgICAgLnBvc3RJdGVtPGFueT4odHlwZU1hcFt0aGlzLnBhcmFtcy5yb3V0ZV0sdGhpcy5wYXJhbXMucm91dGUsXG4gICAgICAgICAgICAgIFNlcmlhbGl6ZXIuZnJvbUpzb24odHlwZU1hcFt0aGlzLnBhcmFtcy5yb3V0ZV0sIE9iamVjdC5hc3NpZ24odGhpcy5yZXF1ZXN0LmJvZHksIHtcbiAgICAgICAgICAgICAgICBjcmVhdG9yOiB0aGlzLnJlcS51c2VyLnVpZFxuICAgICAgICAgICAgfSkpKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHRoaXMuYm9keSA9IGRhdGEpO1xuICAgIH0pO1xuXG4gICAgcm91dGVyLnB1dCgnL2FwaS92MS86cm91dGUvOmlkJywgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dFxuICAgICAgICAgICAgLnB1dEl0ZW08YW55Pih0eXBlTWFwW3RoaXMucGFyYW1zLnJvdXRlXSwgdGhpcy5wYXJhbXMucm91dGUsIHBhcnNlSW50KHRoaXMucGFyYW1zLmlkKSxcbiAgICAgICAgICAgIFNlcmlhbGl6ZXIuZnJvbUpzb24odHlwZU1hcFt0aGlzLnBhcmFtcy5yb3V0ZV0sdGhpcy5yZXF1ZXN0LmJvZHkpKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHRoaXMuYm9keSA9IGRhdGEpO1xuICAgIH0pO1xuXG4gICAgcm91dGVyLnBhdGNoKCcvYXBpL3YxLzpyb3V0ZS86aWQnLCBmdW5jdGlvbiogKG5leHQgOiBLb2EuQ29udGV4dCkge1xuICAgICAgICB5aWVsZCBzZXJ2ZXJBcGlDb250ZXh0XG4gICAgICAgICAgICAucGF0Y2hJdGVtPGFueT4odHlwZU1hcFt0aGlzLnBhcmFtcy5yb3V0ZV0sIHRoaXMucGFyYW1zLnJvdXRlLCBwYXJzZUludCh0aGlzLnBhcmFtcy5pZCksIHRoaXMucmVxdWVzdC5ib2R5KVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHRoaXMuYm9keSA9IGRhdGEpO1xuICAgIH0pO1xuXG4gICAgcm91dGVyLmRlbCgnL2FwaS92MS86cm91dGUvOmlkJywgZnVuY3Rpb24qIChuZXh0IDogS29hLkNvbnRleHQpIHtcbiAgICAgICAgeWllbGQgc2VydmVyQXBpQ29udGV4dFxuICAgICAgICAgICAgLmRlbEl0ZW08YW55Pih0eXBlTWFwW3RoaXMucGFyYW1zLnJvdXRlXSwgdGhpcy5wYXJhbXMucm91dGUsIHBhcnNlSW50KHRoaXMucGFyYW1zLmlkKSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmJvZHkgPSBkYXRhKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByb3V0ZXI7XG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL3JvdXRlcy9hcGkudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 80 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Abstract interface for sources\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst moment = __webpack_require__(43);\r\nconst Signaller_1 = __webpack_require__(21);\r\nvar ApiService_1 = __webpack_require__(6);\r\nexports.AppUrls = ApiService_1.AppUrls;\r\nconst GeneralStatisticsController_1 = __webpack_require__(81);\r\nclass ServerApiService {\r\n    constructor(db, routesMap, queryEngine, fakeCreator) {\r\n        this.controllerMap = routesMap;\r\n        this.queryEngine = queryEngine;\r\n        this.fakeCreator = fakeCreator;\r\n        this.db = db;\r\n    }\r\n    getItem(obj, baseUrl, uid) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.getItemJson(obj, uid);\r\n    }\r\n    getCollection(obj, baseUrl, params) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.getCollectionJson(obj, params);\r\n    }\r\n    postItem(obj, baseUrl, data) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.postItem(obj, Object.assign(data, {\r\n            creationTimestamp: moment().toISOString(),\r\n            lastmodifiedTimestamp: moment().toISOString(),\r\n            creator: this.fakeCreator ? 0 : data.creator\r\n        }))\r\n            .then((result) => {\r\n            Signaller_1.triggerReload.dispatch();\r\n            return Promise.resolve(result);\r\n        });\r\n    }\r\n    putItem(obj, baseUrl, uid, data) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.putItem(obj, uid, Object.assign(data, {\r\n            lastmodifiedTimestamp: moment().toISOString()\r\n        }))\r\n            .then((result) => {\r\n            Signaller_1.triggerReload.dispatch();\r\n            return Promise.resolve(result);\r\n        });\r\n    }\r\n    patchItem(obj, baseUrl, uid, data) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.patchItem(obj, uid, Object.assign(data, {\r\n            lastmodifiedTimestamp: moment().toISOString()\r\n        }))\r\n            .then((result) => {\r\n            Signaller_1.triggerReload.dispatch();\r\n            return Promise.resolve(result);\r\n        });\r\n    }\r\n    delItem(obj, baseUrl, uid) {\r\n        const controller = this.controllerMap.get(baseUrl);\r\n        if (controller === undefined) {\r\n            return Promise.reject(new Exceptions_1.CollectionNotFoundException('Controller not found'));\r\n        }\r\n        return controller.deleteItem(obj, uid)\r\n            .then((result) => {\r\n            Signaller_1.triggerReload.dispatch();\r\n            return Promise.resolve(result);\r\n        });\r\n    }\r\n    query(graphQLQuery) {\r\n        return Promise.resolve({});\r\n    }\r\n    getStats() {\r\n        return GeneralStatisticsController_1.GeneralStatisticsController(this.db.query());\r\n    }\r\n}\r\nexports.ServerApiService = ServerApiService;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvcmUvU2VydmVyQXBpU2VydmljZS50cz9kYmVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBS0gseUNBQTRDLEVBQWMsQ0FBQztBQU0zRCxNQUFZLE1BQU0sdUJBQU0sRUFBUSxDQUFDO0FBRWpDLHdDQUE4QixFQUF3QixDQUFDO0FBRXZELHVDQUF3QixDQUF5QixDQUFDO0FBQXpDLHVDQUF5QztBQUlsRCwwREFBNEMsRUFBc0MsQ0FBQztBQUVuRjtJQVFJLFlBQVksRUFBWSxFQUFFLFNBQW1DLEVBQUUsV0FBd0IsRUFBRSxXQUFvQjtRQUN6RyxJQUFJLENBQUMsYUFBYSxHQUFHLFNBQVMsQ0FBQztRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU0sT0FBTyxDQUF1QixHQUFrQixFQUFFLE9BQWdCLEVBQUUsR0FBMEI7UUFDakcsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSx3Q0FBMkIsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7UUFDbkYsQ0FBQztRQUNELE1BQU0sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sYUFBYSxDQUF1QixHQUFrQixFQUFFLE9BQWdCLEVBQUUsTUFBVztRQUN4RixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuRCxF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QWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSxPQUFPLENBQXVCLEdBQWtCLEVBQUUsT0FBZ0IsRUFBRSxHQUEwQjtRQUNqRyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuRCxFQUFFLENBQUMsQ0FBQyxVQUFVLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLHdDQUEyQixDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQztRQUNuRixDQUFDO1FBQ0QsTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQzthQUN4QyxJQUFJLENBQUMsQ0FBQyxNQUFNO1lBQ1QseUJBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFHTSxLQUFLLENBQUMsWUFBb0I7UUFDN0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLFFBQVE7UUFDYixNQUFNLENBQUMseURBQTJCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELENBQUM7QUFDTCxDQUFDO0FBbkdZLHdCQUFnQixtQkFtRzVCIiwiZmlsZSI6IjgwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IEFic3RyYWN0IGludGVyZmFjZSBmb3Igc291cmNlc1xuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9BcGlTZXJ2aWNlJztcblxuaW1wb3J0IHsgSUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9JQ29udHJvbGxlcic7XG5pbXBvcnQgeyBDb2xsZWN0aW9uTm90Rm91bmRFeGNlcHRpb24gfSBmcm9tICcuL0V4Y2VwdGlvbnMnO1xuXG5pbXBvcnQgeyBRdWVyeUVuZ2luZSB9IGZyb20gJy4vUXVlcnlFbmdpbmUnO1xuXG5pbXBvcnQgeyBDb21wb3NpdGVLZXksIEZhbGNvbkl0ZW0sIFNlcmlhbGl6ZXIgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5pbXBvcnQgeyB0cmlnZ2VyUmVsb2FkIH0gZnJvbSAnLi4vLi4vY29tbW9uL1NpZ25hbGxlcic7XG5cbmV4cG9ydCB7IEFwcFVybHMgfSBmcm9tICcuLi8uLi9jb21tb24vQXBpU2VydmljZSc7XG5cbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi9EYXRhYmFzZSc7XG5cbmltcG9ydCB7IEdlbmVyYWxTdGF0aXN0aWNzQ29udHJvbGxlciB9IGZyb20gJy4uL3N0YXRzL0dlbmVyYWxTdGF0aXN0aWNzQ29udHJvbGxlcic7XG5cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJBcGlTZXJ2aWNlIGltcGxlbWVudHMgQXBpU2VydmljZSB7XG5cbiAgICBwcml2YXRlIGNvbnRyb2xsZXJNYXA6IE1hcDxzdHJpbmcsIElDb250cm9sbGVyPjtcbiAgICBwcml2YXRlIGRiOiBEYXRhYmFzZTtcblxuICAgIHB1YmxpYyBxdWVyeUVuZ2luZTogUXVlcnlFbmdpbmU7XG4gICAgcHVibGljIGZha2VDcmVhdG9yOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZGI6IERhdGFiYXNlLCByb3V0ZXNNYXA6IE1hcDxzdHJpbmcsIElDb250cm9sbGVyPiwgcXVlcnlFbmdpbmU6IFF1ZXJ5RW5naW5lLCBmYWtlQ3JlYXRvcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXJNYXAgPSByb3V0ZXNNYXA7XG4gICAgICAgIHRoaXMucXVlcnlFbmdpbmUgPSBxdWVyeUVuZ2luZTtcbiAgICAgICAgdGhpcy5mYWtlQ3JlYXRvciA9IGZha2VDcmVhdG9yO1xuICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW08VCBleHRlbmRzIEZhbGNvbkl0ZW0+KG9iajogeyBuZXcoKTogVDsgfSwgYmFzZVVybCA6IHN0cmluZywgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXkpIDogUHJvbWlzZUxpa2U8VD4ge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5jb250cm9sbGVyTWFwLmdldChiYXNlVXJsKTtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBDb2xsZWN0aW9uTm90Rm91bmRFeGNlcHRpb24oJ0NvbnRyb2xsZXIgbm90IGZvdW5kJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyLmdldEl0ZW1Kc29uPFQ+KG9iaiwgdWlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q29sbGVjdGlvbjxUIGV4dGVuZHMgRmFsY29uSXRlbT4ob2JqOiB7IG5ldygpOiBUOyB9LCBiYXNlVXJsIDogc3RyaW5nLCBwYXJhbXM6IGFueSkgOiBQcm9taXNlTGlrZTxUW10+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlck1hcC5nZXQoYmFzZVVybCk7XG4gICAgICAgIGlmIChjb250cm9sbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQ29sbGVjdGlvbk5vdEZvdW5kRXhjZXB0aW9uKCdDb250cm9sbGVyIG5vdCBmb3VuZCcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udHJvbGxlci5nZXRDb2xsZWN0aW9uSnNvbjxUPihvYmosIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHBvc3RJdGVtPFQgZXh0ZW5kcyBGYWxjb25JdGVtPihvYmo6IHsgbmV3KCk6IFQ7IH0sIGJhc2VVcmwgOiBzdHJpbmcsIGRhdGE6IFQpICA6IFByb21pc2VMaWtlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlck1hcC5nZXQoYmFzZVVybCk7XG4gICAgICAgIGlmIChjb250cm9sbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQ29sbGVjdGlvbk5vdEZvdW5kRXhjZXB0aW9uKCdDb250cm9sbGVyIG5vdCBmb3VuZCcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udHJvbGxlci5wb3N0SXRlbTxUPihvYmosIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgICAgICAgY3JlYXRpb25UaW1lc3RhbXA6IG1vbWVudCgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBsYXN0bW9kaWZpZWRUaW1lc3RhbXA6IG1vbWVudCgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjcmVhdG9yOiB0aGlzLmZha2VDcmVhdG9yID8gMCA6IGRhdGEuY3JlYXRvclxuICAgICAgICB9KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdHJpZ2dlclJlbG9hZC5kaXNwYXRjaCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHV0SXRlbTxUIGV4dGVuZHMgRmFsY29uSXRlbT4ob2JqOiB7IG5ldygpOiBUOyB9LFxuICAgICAgICAgICAgYmFzZVVybCA6IHN0cmluZywgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXksIGRhdGE6IFQpIDogUHJvbWlzZUxpa2U8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmNvbnRyb2xsZXJNYXAuZ2V0KGJhc2VVcmwpO1xuICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IENvbGxlY3Rpb25Ob3RGb3VuZEV4Y2VwdGlvbignQ29udHJvbGxlciBub3QgZm91bmQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIucHV0SXRlbTxUPihvYmosIHVpZCwgT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICAgICAgICBsYXN0bW9kaWZpZWRUaW1lc3RhbXA6IG1vbWVudCgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSkpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRyaWdnZXJSZWxvYWQuZGlzcGF0Y2goKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHBhdGNoSXRlbTxUIGV4dGVuZHMgRmFsY29uSXRlbT4ob2JqOiB7IG5ldygpOiBUOyB9LFxuICAgICAgICAgICAgYmFzZVVybCA6IHN0cmluZywgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXksIGRhdGEgOiBhbnkpIDogUHJvbWlzZUxpa2U8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmNvbnRyb2xsZXJNYXAuZ2V0KGJhc2VVcmwpO1xuICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IENvbGxlY3Rpb25Ob3RGb3VuZEV4Y2VwdGlvbignQ29udHJvbGxlciBub3QgZm91bmQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIucGF0Y2hJdGVtPFQ+KG9iaiwgdWlkLCBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICAgICAgICAgIGxhc3Rtb2RpZmllZFRpbWVzdGFtcDogbW9tZW50KCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdHJpZ2dlclJlbG9hZC5kaXNwYXRjaCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVsSXRlbTxUIGV4dGVuZHMgRmFsY29uSXRlbT4ob2JqOiB7IG5ldygpOiBUOyB9LCBiYXNlVXJsIDogc3RyaW5nLCB1aWQ6IG51bWJlciB8IENvbXBvc2l0ZUtleSkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5jb250cm9sbGVyTWFwLmdldChiYXNlVXJsKTtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBDb2xsZWN0aW9uTm90Rm91bmRFeGNlcHRpb24oJ0NvbnRyb2xsZXIgbm90IGZvdW5kJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyLmRlbGV0ZUl0ZW08VD4ob2JqLCB1aWQpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRyaWdnZXJSZWxvYWQuZGlzcGF0Y2goKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgcXVlcnkoZ3JhcGhRTFF1ZXJ5OiBzdHJpbmcpIDogUHJvbWlzZUxpa2U8YW55PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdGF0cygpIDogUHJvbWlzZUxpa2U8YW55PiB7XG4gICAgICByZXR1cm4gR2VuZXJhbFN0YXRpc3RpY3NDb250cm9sbGVyKHRoaXMuZGIucXVlcnkoKSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9jb3JlL1NlcnZlckFwaVNlcnZpY2UudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 81 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview Map of URIs to controllers\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nexports.GeneralStatisticsController = (db) => {\r\n    return Promise.all([\r\n        db('entities').count(),\r\n        db('entity_types').count(),\r\n        db('sources').count(),\r\n        db('records').count(),\r\n        db('predicates').count()\r\n    ]).then(([[entityCount], [entityTypeCount], [sourceCount], [recordCount], [predicateCount]]) => {\r\n        const statistics = {\r\n            entity: entityCount['count(*)'],\r\n            entityType: entityTypeCount['count(*)'],\r\n            source: sourceCount['count(*)'],\r\n            record: recordCount['count(*)'],\r\n            predicate: predicateCount['count(*)']\r\n        };\r\n        return statistics;\r\n    });\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3N0YXRzL0dlbmVyYWxTdGF0aXN0aWNzQ29udHJvbGxlci50cz8zNzA4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7O0FBTVUsbUNBQTJCLEdBQUcsQ0FBQyxFQUFTO0lBRWpELE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLEVBQUU7UUFDdEIsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEtBQUssRUFBRTtRQUMxQixFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFO1FBQ3JCLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLEVBQUU7UUFDckIsRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssRUFBRTtLQUN6QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFekYsTUFBTSxVQUFVLEdBQXVCO1lBQ3JDLE1BQU0sRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDO1lBQy9CLFVBQVUsRUFBRSxlQUFlLENBQUMsVUFBVSxDQUFDO1lBQ3ZDLE1BQU0sRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDO1lBQy9CLE1BQU0sRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDO1lBQy9CLFNBQVMsRUFBRSxjQUFjLENBQUMsVUFBVSxDQUFDO1NBQ3RDLENBQUM7UUFFRixNQUFNLENBQUMsVUFBVSxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDIiwiZmlsZSI6IjgxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IE1hcCBvZiBVUklzIHRvIGNvbnRyb2xsZXJzXG4gKiBAYXV0aG9yIDxhIGhyZWY9XCJtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51a1wiPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5pbXBvcnQgKiBhcyBLbmV4IGZyb20gJ2tuZXgnO1xuXG5pbXBvcnQgeyBHZW5lcmFsU3RhdGlzdGljcyB9IGZyb20gJy4uLy4uL2NvbW1vbi9zdGF0cy9HZW5lcmFsU3RhdGlzdGljcyc7XG5cbmV4cG9ydCBjb25zdCBHZW5lcmFsU3RhdGlzdGljc0NvbnRyb2xsZXIgPSAoZGIgOiBLbmV4KSA6IFByb21pc2VMaWtlPEdlbmVyYWxTdGF0aXN0aWNzPiA9PiB7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgZGIoJ2VudGl0aWVzJykuY291bnQoKSxcbiAgICAgIGRiKCdlbnRpdHlfdHlwZXMnKS5jb3VudCgpLFxuICAgICAgZGIoJ3NvdXJjZXMnKS5jb3VudCgpLFxuICAgICAgZGIoJ3JlY29yZHMnKS5jb3VudCgpLFxuICAgICAgZGIoJ3ByZWRpY2F0ZXMnKS5jb3VudCgpXG4gICAgXSkudGhlbigoW1tlbnRpdHlDb3VudF0sIFtlbnRpdHlUeXBlQ291bnRdLCBbc291cmNlQ291bnRdLCBbcmVjb3JkQ291bnRdLCBbcHJlZGljYXRlQ291bnRdXSkgPT4ge1xuXG4gICAgICBjb25zdCBzdGF0aXN0aWNzIDogR2VuZXJhbFN0YXRpc3RpY3MgPSB7XG4gICAgICAgIGVudGl0eTogZW50aXR5Q291bnRbJ2NvdW50KCopJ10sXG4gICAgICAgIGVudGl0eVR5cGU6IGVudGl0eVR5cGVDb3VudFsnY291bnQoKiknXSxcbiAgICAgICAgc291cmNlOiBzb3VyY2VDb3VudFsnY291bnQoKiknXSxcbiAgICAgICAgcmVjb3JkOiByZWNvcmRDb3VudFsnY291bnQoKiknXSxcbiAgICAgICAgcHJlZGljYXRlOiBwcmVkaWNhdGVDb3VudFsnY291bnQoKiknXVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHN0YXRpc3RpY3M7XG4gICAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9zdGF0cy9HZW5lcmFsU3RhdGlzdGljc0NvbnRyb2xsZXIudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 82 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Query processor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst graphql_1 = __webpack_require__(83);\r\nconst entityQLType_1 = __webpack_require__(84);\r\nconst predicateQLType_1 = __webpack_require__(85);\r\nclass QueryEngine {\r\n    constructor(db) {\r\n        const entityType = entityQLType_1.entityQLType(db, predicateQLType_1.predicateQLType(db));\r\n        // Define the Query type\r\n        const queryType = new graphql_1.GraphQLObjectType({\r\n            name: 'Query',\r\n            fields: {\r\n                entity: {\r\n                    type: new graphql_1.GraphQLList(entityType),\r\n                    // `args` describes the arguments that the `user` query accepts\r\n                    args: {\r\n                        uid: { type: graphql_1.GraphQLString }\r\n                    },\r\n                    resolve: (_, { uid }) => {\r\n                        if (uid === undefined) {\r\n                            return db.query()('entities');\r\n                        }\r\n                        return db.query()('entities').where({ uid });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.schema = new graphql_1.GraphQLSchema({\r\n            query: queryType\r\n        });\r\n    }\r\n    runQuery(query) {\r\n        return graphql_1.graphql(this.schema, query);\r\n    }\r\n}\r\nexports.QueryEngine = QueryEngine;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvcmUvUXVlcnlFbmdpbmUudHM/NDE1NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUVILHNDQU1PLEVBQVMsQ0FBQztBQUlqQiwyQ0FBNkIsRUFBeUIsQ0FBQztBQUN2RCw4Q0FBZ0MsRUFBNEIsQ0FBQztBQUU3RDtJQUlJLFlBQVksRUFBWTtRQUVwQixNQUFNLFVBQVUsR0FBRywyQkFBWSxDQUFDLEVBQUUsRUFBRSxpQ0FBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFekQsd0JBQXdCO1FBQ3hCLE1BQU0sU0FBUyxHQUFHLElBQUksMkJBQWlCLENBQUM7WUFDcEMsSUFBSSxFQUFFLE9BQU87WUFDYixNQUFNLEVBQUU7Z0JBQ0osTUFBTSxFQUFFO29CQUNKLElBQUksRUFBRSxJQUFJLHFCQUFXLENBQUMsVUFBVSxDQUFDO29CQUNqQywrREFBK0Q7b0JBQy9ELElBQUksRUFBRTt3QkFDRixHQUFHLEVBQUUsRUFBRSxJQUFJLEVBQUUsdUJBQWEsRUFBRTtxQkFDL0I7b0JBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUMsR0FBRyxFQUFDO3dCQUNkLEVBQUUsQ0FBQyxDQUFDLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDOzRCQUNwQixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUNsQyxDQUFDO3dCQUNELE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDakQsQ0FBQztpQkFDSjthQUNKO1NBQ0osQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHVCQUFhLENBQUM7WUFDNUIsS0FBSyxFQUFFLFNBQVM7U0FDbkIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFFBQVEsQ0FBQyxLQUFVO1FBQ3RCLE1BQU0sQ0FBQyxpQkFBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQztBQUNMLENBQUM7QUFwQ1ksbUJBQVcsY0FvQ3ZCIiwiZmlsZSI6IjgyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFF1ZXJ5IHByb2Nlc3NvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHtcbiAgZ3JhcGhxbCxcbiAgR3JhcGhRTFNjaGVtYSxcbiAgR3JhcGhRTE9iamVjdFR5cGUsXG4gIEdyYXBoUUxTdHJpbmcsXG4gIEdyYXBoUUxMaXN0XG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4vRGF0YWJhc2UnO1xuXG5pbXBvcnQgeyBlbnRpdHlRTFR5cGUgfSBmcm9tICcuLi9ncmFwaHFsL2VudGl0eVFMVHlwZSc7XG5pbXBvcnQgeyBwcmVkaWNhdGVRTFR5cGUgfSBmcm9tICcuLi9ncmFwaHFsL3ByZWRpY2F0ZVFMVHlwZSc7XG5cbmV4cG9ydCBjbGFzcyBRdWVyeUVuZ2luZSB7XG5cbiAgICBwcml2YXRlIHNjaGVtYTogR3JhcGhRTFNjaGVtYTtcblxuICAgIGNvbnN0cnVjdG9yKGRiOiBEYXRhYmFzZSkge1xuXG4gICAgICAgIGNvbnN0IGVudGl0eVR5cGUgPSBlbnRpdHlRTFR5cGUoZGIsIHByZWRpY2F0ZVFMVHlwZShkYikpO1xuXG4gICAgICAgIC8vIERlZmluZSB0aGUgUXVlcnkgdHlwZVxuICAgICAgICBjb25zdCBxdWVyeVR5cGUgPSBuZXcgR3JhcGhRTE9iamVjdFR5cGUoe1xuICAgICAgICAgICAgbmFtZTogJ1F1ZXJ5JyxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIGVudGl0eToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3QoZW50aXR5VHlwZSksXG4gICAgICAgICAgICAgICAgICAgIC8vIGBhcmdzYCBkZXNjcmliZXMgdGhlIGFyZ3VtZW50cyB0aGF0IHRoZSBgdXNlcmAgcXVlcnkgYWNjZXB0c1xuICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHsgdHlwZTogR3JhcGhRTFN0cmluZyB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IChfLCB7dWlkfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLnF1ZXJ5KCkoJ2VudGl0aWVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIucXVlcnkoKSgnZW50aXRpZXMnKS53aGVyZSh7IHVpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zY2hlbWEgPSBuZXcgR3JhcGhRTFNjaGVtYSh7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnlUeXBlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBydW5RdWVyeShxdWVyeTogYW55KSA6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBncmFwaHFsKHRoaXMuc2NoZW1hLCBxdWVyeSk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29yZS9RdWVyeUVuZ2luZS50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 83 */
/***/ function(module, exports) {

	eval("module.exports = require(\"graphql\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJncmFwaHFsXCI/OWEyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4My5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImdyYXBocWxcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJncmFwaHFsXCJcbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 84 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Query processor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst graphql_1 = __webpack_require__(83);\r\nexports.entityQLType = (db, predicateType) => {\r\n    return new graphql_1.GraphQLObjectType({\r\n        name: 'Entity',\r\n        fields: {\r\n            uid: {\r\n                type: graphql_1.GraphQLString,\r\n                resolve: (parent, {  }) => {\r\n                    return parent.uid;\r\n                }\r\n            },\r\n            label: {\r\n                type: graphql_1.GraphQLString,\r\n                resolve: (parent, {  }) => {\r\n                    return parent.label;\r\n                }\r\n            },\r\n            type: {\r\n                type: graphql_1.GraphQLString,\r\n                resolve: (parent, {  }) => {\r\n                    return db.query()('entity_types').where({ uid: parent.type }).first().then((data) => data.label);\r\n                }\r\n            },\r\n            predicate: {\r\n                type: predicateType,\r\n                args: {\r\n                    name: { type: graphql_1.GraphQLString },\r\n                    uid: { type: graphql_1.GraphQLString }\r\n                },\r\n                resolve: (entity, { name, uid }) => {\r\n                    if (name !== undefined) {\r\n                        return db.query()('predicates').where({ name }).first().then((predicate) => ({ predicate, entity }));\r\n                    }\r\n                    if (uid !== undefined) {\r\n                        return db.query()('predicates').where({ uid }).first().then((predicate) => ({ predicate, entity }));\r\n                    }\r\n                }\r\n            },\r\n            predicates: {\r\n                type: new graphql_1.GraphQLList(predicateType),\r\n                args: {\r\n                    names: { type: new graphql_1.GraphQLList(graphql_1.GraphQLString) },\r\n                    uids: { type: new graphql_1.GraphQLList(graphql_1.GraphQLString) }\r\n                },\r\n                resolve: (entity, { names, uids }) => {\r\n                    if (names !== undefined) {\r\n                        return db.query()('predicates')\r\n                            .whereIn('name', names)\r\n                            .then((predicates) => predicates.map((predicate) => ({ predicate, entity })));\r\n                    }\r\n                    if (uids !== undefined) {\r\n                        return db.query()('predicates')\r\n                            .whereIn('uid', uids)\r\n                            .then((predicates) => predicates.map((predicate) => ({ predicate, entity })));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2dyYXBocWwvZW50aXR5UUxUeXBlLnRzP2FiZTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxzQ0FJTyxFQUFTLENBQUM7QUFJSixvQkFBWSxHQUFHLENBQUMsRUFBWSxFQUFFLGFBQWdDO0lBQ3ZFLE1BQU0sQ0FBQyxJQUFJLDJCQUFpQixDQUFDO1FBQ3pCLElBQUksRUFBRSxRQUFRO1FBQ2QsTUFBTSxFQUFFO1lBRUosR0FBRyxFQUFFO2dCQUNELElBQUksRUFBRSx1QkFBYTtnQkFDbkIsT0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUU7b0JBQ2hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO2dCQUN0QixDQUFDO2FBQ0o7WUFFRCxLQUFLLEVBQUU7Z0JBQ0gsSUFBSSxFQUFFLHVCQUFhO2dCQUNuQixPQUFPLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBRTtvQkFDaEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7Z0JBQ3hCLENBQUM7YUFDSjtZQUVELElBQUksRUFBRTtnQkFDRixJQUFJLEVBQUUsdUJBQWE7Z0JBQ25CLE9BQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFFO29CQUNoQixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNyRyxDQUFDO2FBQ0o7WUFFRCxTQUFTLEVBQUU7Z0JBQ1AsSUFBSSxFQUFFLGFBQWE7Z0JBQ25CLElBQUksRUFBRTtvQkFDRixJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsdUJBQWEsRUFBRTtvQkFDN0IsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLHVCQUFhLEVBQUU7aUJBQy9CO2dCQUNELE9BQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUM7b0JBQ3pCLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO3dCQUNyQixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUN6RyxDQUFDO29CQUNELEVBQUUsQ0FBQyxDQUFDLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO3dCQUNwQixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUN4RyxDQUFDO2dCQUNMLENBQUM7YUFDSjtZQUVELFVBQVUsRUFBRTtnQkFDUixJQUFJLEVBQUUsSUFBSSxxQkFBVyxDQUFDLGFBQWEsQ0FBQztnQkFDcEMsSUFBSSxFQUFFO29CQUNGLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLHFCQUFXLENBQUMsdUJBQWEsQ0FBQyxFQUFFO29CQUMvQyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxxQkFBVyxDQUFDLHVCQUFhLENBQUMsRUFBRTtpQkFDakQ7Z0JBQ0QsT0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBQztvQkFDM0IsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7d0JBQ3RCLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDOzZCQUMxQixPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQzs2QkFDdEIsSUFBSSxDQUFDLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdEYsQ0FBQztvQkFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQzt3QkFDckIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7NkJBQzFCLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDOzZCQUNwQixJQUFJLENBQUMsQ0FBQyxVQUFVLEtBQUssVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsS0FBSyxDQUFDLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0RixDQUFDO2dCQUNMLENBQUM7YUFDSjtTQUNKO0tBQ0osQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDIiwiZmlsZSI6Ijg0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFF1ZXJ5IHByb2Nlc3NvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHtcbiAgR3JhcGhRTE9iamVjdFR5cGUsXG4gIEdyYXBoUUxTdHJpbmcsXG4gIEdyYXBoUUxMaXN0XG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL2NvcmUvRGF0YWJhc2UnO1xuXG5leHBvcnQgY29uc3QgZW50aXR5UUxUeXBlID0gKGRiOiBEYXRhYmFzZSwgcHJlZGljYXRlVHlwZTogR3JhcGhRTE9iamVjdFR5cGUpIDogR3JhcGhRTE9iamVjdFR5cGUgPT4ge1xuICAgIHJldHVybiBuZXcgR3JhcGhRTE9iamVjdFR5cGUoe1xuICAgICAgICBuYW1lOiAnRW50aXR5JyxcbiAgICAgICAgZmllbGRzOiB7XG5cbiAgICAgICAgICAgIHVpZDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdyYXBoUUxTdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKHBhcmVudCwge30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC51aWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHcmFwaFFMU3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IChwYXJlbnQsIHt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQubGFiZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdyYXBoUUxTdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKHBhcmVudCwge30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLnF1ZXJ5KCkoJ2VudGl0eV90eXBlcycpLndoZXJlKHsgdWlkOiBwYXJlbnQudHlwZSB9KS5maXJzdCgpLnRoZW4oKGRhdGEpID0+IGRhdGEubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHByZWRpY2F0ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHByZWRpY2F0ZVR5cGUsXG4gICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB7IHR5cGU6IEdyYXBoUUxTdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiB7IHR5cGU6IEdyYXBoUUxTdHJpbmcgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKGVudGl0eSwge25hbWUsIHVpZH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLnF1ZXJ5KCkoJ3ByZWRpY2F0ZXMnKS53aGVyZSh7IG5hbWUgfSkuZmlyc3QoKS50aGVuKChwcmVkaWNhdGUpID0+ICh7IHByZWRpY2F0ZSwgZW50aXR5IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5xdWVyeSgpKCdwcmVkaWNhdGVzJykud2hlcmUoeyB1aWQgfSkuZmlyc3QoKS50aGVuKChwcmVkaWNhdGUpID0+ICh7IHByZWRpY2F0ZSwgZW50aXR5IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHByZWRpY2F0ZXM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3QocHJlZGljYXRlVHlwZSksXG4gICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lczogeyB0eXBlOiBuZXcgR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykgfSxcbiAgICAgICAgICAgICAgICAgICAgdWlkczogeyB0eXBlOiBuZXcgR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKGVudGl0eSwge25hbWVzLCB1aWRzfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLnF1ZXJ5KCkoJ3ByZWRpY2F0ZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53aGVyZUluKCduYW1lJywgbmFtZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHByZWRpY2F0ZXMpID0+IHByZWRpY2F0ZXMubWFwKChwcmVkaWNhdGUpID0+ICh7IHByZWRpY2F0ZSwgZW50aXR5IH0pKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVpZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLnF1ZXJ5KCkoJ3ByZWRpY2F0ZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53aGVyZUluKCd1aWQnLCB1aWRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcmVkaWNhdGVzKSA9PiBwcmVkaWNhdGVzLm1hcCgocHJlZGljYXRlKSA9PiAoeyBwcmVkaWNhdGUsIGVudGl0eSB9KSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvZ3JhcGhxbC9lbnRpdHlRTFR5cGUudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 85 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Query processor\r\n * @author <a href=\"mailto:tim.hollies@warwick.ac.uk\">Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst graphql_1 = __webpack_require__(83);\r\nexports.predicateQLType = (db) => {\r\n    return new graphql_1.GraphQLObjectType({\r\n        name: 'Predicate',\r\n        fields: {\r\n            uid: {\r\n                type: graphql_1.GraphQLString,\r\n                resolve: ({ predicate }, {  }) => {\r\n                    return predicate.uid;\r\n                }\r\n            },\r\n            name: {\r\n                type: graphql_1.GraphQLString,\r\n                resolve: ({ predicate }, {  }) => {\r\n                    return predicate.label;\r\n                }\r\n            },\r\n            values: {\r\n                type: new graphql_1.GraphQLList(graphql_1.GraphQLString),\r\n                resolve: ({ entity, predicate }, {  }) => {\r\n                    return db.query()('records')\r\n                        .select('value_string')\r\n                        .where({ entity: entity.uid, predicate: predicate.uid })\r\n                        .then((results) => results.map((result) => result.value_string));\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2dyYXBocWwvcHJlZGljYXRlUUxUeXBlLnRzPzIzOTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxzQ0FJTyxFQUFTLENBQUM7QUFJSix1QkFBZSxHQUFHLENBQUMsRUFBWTtJQUNwQyxNQUFNLENBQUMsSUFBSSwyQkFBaUIsQ0FBQztRQUM3QixJQUFJLEVBQUUsV0FBVztRQUNqQixNQUFNLEVBQUU7WUFFSixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxFQUFFLHVCQUFhO2dCQUNuQixPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLElBQUU7b0JBQ3ZCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO2dCQUN6QixDQUFDO2FBQ0o7WUFFRCxJQUFJLEVBQUU7Z0JBQ0YsSUFBSSxFQUFFLHVCQUFhO2dCQUNuQixPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLElBQUU7b0JBQ3ZCLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO2dCQUMzQixDQUFDO2FBQ0o7WUFFRCxNQUFNLEVBQUU7Z0JBQ0osSUFBSSxFQUFFLElBQUkscUJBQVcsQ0FBQyx1QkFBYSxDQUFDO2dCQUNwQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsRUFBRSxJQUFFO29CQUMvQixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLFNBQVMsQ0FBQzt5QkFDM0IsTUFBTSxDQUFDLGNBQWMsQ0FBQzt5QkFDdEIsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQzt5QkFDdkQsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ3JFLENBQUM7YUFDSjtTQUNKO0tBQ0osQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDIiwiZmlsZSI6Ijg1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IFF1ZXJ5IHByb2Nlc3NvclxuICogQGF1dGhvciA8YSBocmVmPVwibWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWtcIj5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHtcbiAgR3JhcGhRTE9iamVjdFR5cGUsXG4gIEdyYXBoUUxTdHJpbmcsXG4gIEdyYXBoUUxMaXN0XG59IGZyb20gJ2dyYXBocWwnO1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL2NvcmUvRGF0YWJhc2UnO1xuXG5leHBvcnQgY29uc3QgcHJlZGljYXRlUUxUeXBlID0gKGRiOiBEYXRhYmFzZSkgOiBHcmFwaFFMT2JqZWN0VHlwZSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhRTE9iamVjdFR5cGUoe1xuICAgICAgICBuYW1lOiAnUHJlZGljYXRlJyxcbiAgICAgICAgZmllbGRzOiB7XG5cbiAgICAgICAgICAgIHVpZDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IEdyYXBoUUxTdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKHsgcHJlZGljYXRlIH0sIHt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUudWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBHcmFwaFFMU3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6ICh7IHByZWRpY2F0ZSB9LCB7fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IG5ldyBHcmFwaFFMTGlzdChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiAoeyBlbnRpdHksIHByZWRpY2F0ZSB9LCB7fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIucXVlcnkoKSgncmVjb3JkcycpXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoJ3ZhbHVlX3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIC53aGVyZSh7IGVudGl0eTogZW50aXR5LnVpZCwgcHJlZGljYXRlOiBwcmVkaWNhdGUudWlkIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQudmFsdWVfc3RyaW5nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9ncmFwaHFsL3ByZWRpY2F0ZVFMVHlwZS50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 86 */
/***/ function(module, exports) {

	eval("module.exports = require(\"koa-conditional-get\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29uZGl0aW9uYWwtZ2V0XCI/YjE1MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb25kaXRpb25hbC1nZXRcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJrb2EtY29uZGl0aW9uYWwtZ2V0XCJcbi8vIG1vZHVsZSBpZCA9IDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 87 */
/***/ function(module, exports) {

	eval("module.exports = require(\"koa-etag\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtZXRhZ1wiP2YyOWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiODcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtZXRhZ1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImtvYS1ldGFnXCJcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 88 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Collated list of controllers\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nvar ElementSetController_1 = __webpack_require__(89);\r\nexports.ElementSetController = ElementSetController_1.ElementSetController;\r\nvar EntityController_1 = __webpack_require__(91);\r\nexports.EntityController = EntityController_1.EntityController;\r\nvar EntityTypeController_1 = __webpack_require__(92);\r\nexports.EntityTypeController = EntityTypeController_1.EntityTypeController;\r\nvar PredicateController_1 = __webpack_require__(93);\r\nexports.PredicateController = PredicateController_1.PredicateController;\r\nvar RecordController_1 = __webpack_require__(94);\r\nexports.RecordController = RecordController_1.RecordController;\r\nvar SourceController_1 = __webpack_require__(95);\r\nexports.SourceController = SourceController_1.SourceController;\r\nvar ElementController_1 = __webpack_require__(96);\r\nexports.ElementController = ElementController_1.ElementController;\r\nvar SourceElementController_1 = __webpack_require__(97);\r\nexports.SourceElementController = SourceElementController_1.SourceElementController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXJzLnRzP2U1NmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFFSCxpREFBcUMsRUFBd0IsQ0FBQztBQUFyRCwyRUFBcUQ7QUFDOUQsNkNBQWlDLEVBQW9CLENBQUM7QUFBN0MsK0RBQTZDO0FBQ3RELGlEQUFxQyxFQUF3QixDQUFDO0FBQXJELDJFQUFxRDtBQUM5RCxnREFBb0MsRUFBdUIsQ0FBQztBQUFuRCx3RUFBbUQ7QUFDNUQsNkNBQWlDLEVBQW9CLENBQUM7QUFBN0MsK0RBQTZDO0FBQ3RELDZDQUFpQyxFQUFvQixDQUFDO0FBQTdDLCtEQUE2QztBQUN0RCw4Q0FBa0MsRUFBcUIsQ0FBQztBQUEvQyxrRUFBK0M7QUFDeEQsb0RBQXdDLEVBQTJCLENBQUM7QUFBM0Qsb0ZBQTJEIiwiZmlsZSI6Ijg4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IENvbGxhdGVkIGxpc3Qgb2YgY29udHJvbGxlcnNcbiAqIEBhdXRob3IgPGEgaHJlZj0nbWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWsnPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5leHBvcnQgeyBFbGVtZW50U2V0Q29udHJvbGxlciB9IGZyb20gJy4vRWxlbWVudFNldENvbnRyb2xsZXInO1xuZXhwb3J0IHsgRW50aXR5Q29udHJvbGxlciB9IGZyb20gJy4vRW50aXR5Q29udHJvbGxlcic7XG5leHBvcnQgeyBFbnRpdHlUeXBlQ29udHJvbGxlciB9IGZyb20gJy4vRW50aXR5VHlwZUNvbnRyb2xsZXInO1xuZXhwb3J0IHsgUHJlZGljYXRlQ29udHJvbGxlciB9IGZyb20gJy4vUHJlZGljYXRlQ29udHJvbGxlcic7XG5leHBvcnQgeyBSZWNvcmRDb250cm9sbGVyIH0gZnJvbSAnLi9SZWNvcmRDb250cm9sbGVyJztcbmV4cG9ydCB7IFNvdXJjZUNvbnRyb2xsZXIgfSBmcm9tICcuL1NvdXJjZUNvbnRyb2xsZXInO1xuZXhwb3J0IHsgRWxlbWVudENvbnRyb2xsZXIgfSBmcm9tICcuL0VsZW1lbnRDb250cm9sbGVyJztcbmV4cG9ydCB7IFNvdXJjZUVsZW1lbnRDb250cm9sbGVyIH0gZnJvbSAnLi9Tb3VyY2VFbGVtZW50Q29udHJvbGxlcic7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXJzLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 89 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass ElementSetController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'element_sets');\r\n    }\r\n    static toSchema(data) {\r\n        return lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'elements');\r\n    }\r\n    static fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.ElementSet.prototype), data);\r\n    }\r\n    toSchema(data) {\r\n        return ElementSetController.toSchema(data);\r\n    }\r\n    fromSchema(data) {\r\n        return ElementSetController.fromSchema(data);\r\n    }\r\n    getItemJson(obj, uid) {\r\n        return super.getItemJson(obj, uid)\r\n            .then((elementSet) => {\r\n            if (elementSet.uid === null) {\r\n                throw new Error('could not find source');\r\n            }\r\n            return this.db.select('elements')\r\n                .where({ 'element_set': elementSet.uid })\r\n                .then((elements) => {\r\n                elementSet.elements = elements;\r\n                return elementSet;\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.ElementSetController = ElementSetController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL0VsZW1lbnRTZXRDb250cm9sbGVyLnRzP2YxZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFJSCwwQ0FBdUMsRUFBYSxDQUFDO0FBQ3JELGdEQUFrQyxFQUFxQixDQUFDO0FBRXhELHFDQUFxQixFQUFRLENBQUM7QUFFOUIsbUNBQTBDLHFDQUFpQjtJQUV2RCxZQUFZLEVBQWE7UUFDckIsTUFBTSxFQUFFLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELE9BQWMsUUFBUSxDQUFDLElBQWdCO1FBQ25DLE1BQU0sQ0FBQyxhQUFJLENBQUMsd0JBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE9BQWMsVUFBVSxDQUFDLElBQVM7UUFDOUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyx3QkFBVSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFUyxRQUFRLENBQUMsSUFBZ0I7UUFDL0IsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRVMsVUFBVSxDQUFDLElBQVM7UUFDMUIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU0sV0FBVyxDQUFDLEdBQTBCLEVBQUUsR0FBVztRQUN0RCxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO2FBQ2pDLElBQUksQ0FBQyxDQUFDLFVBQVU7WUFFYixFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUM3QyxDQUFDO1lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztpQkFDNUIsS0FBSyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztpQkFDeEMsSUFBSSxDQUFDLENBQUMsUUFBUTtnQkFDWCxVQUFVLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztnQkFDL0IsTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUN0QixDQUFDLENBQUMsQ0FBQztRQUNYLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztBQUNMLENBQUM7QUF0Q1ksNEJBQW9CLHVCQXNDaEMiLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcblxuaW1wb3J0IHsgRWxlbWVudFNldCwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEdlbmVyaWNDb250cm9sbGVyIH0gZnJvbSAnLi9HZW5lcmljQ29udHJvbGxlcic7XG5cbmltcG9ydCB7IG9taXQgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudFNldENvbnRyb2xsZXIgZXh0ZW5kcyBHZW5lcmljQ29udHJvbGxlcjxFbGVtZW50U2V0PiB7XG5cbiAgICBjb25zdHJ1Y3RvcihkYiA6IERhdGFiYXNlKSB7XG4gICAgICAgIHN1cGVyKGRiLCAnZWxlbWVudF9zZXRzJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0b1NjaGVtYShkYXRhOiBFbGVtZW50U2V0KSA6IGFueSB7XG4gICAgICAgIHJldHVybiBvbWl0KFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpLCAnZWxlbWVudHMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21TY2hlbWEoZGF0YTogYW55KSA6IEVsZW1lbnRTZXQge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEVsZW1lbnRTZXQucHJvdG90eXBlKSwgZGF0YSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHRvU2NoZW1hKGRhdGE6IEVsZW1lbnRTZXQpIDogYW55IHtcbiAgICAgICAgcmV0dXJuIEVsZW1lbnRTZXRDb250cm9sbGVyLnRvU2NoZW1hKGRhdGEpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBFbGVtZW50U2V0IHtcbiAgICAgICAgcmV0dXJuIEVsZW1lbnRTZXRDb250cm9sbGVyLmZyb21TY2hlbWEoZGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW1Kc29uKG9iajogeyBuZXcoKTogRWxlbWVudFNldCB9LCB1aWQ6IG51bWJlcikgOiBQcm9taXNlTGlrZTxFbGVtZW50U2V0PiB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXRJdGVtSnNvbihvYmosIHVpZClcbiAgICAgICAgLnRoZW4oKGVsZW1lbnRTZXQpID0+IHtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRTZXQudWlkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBzb3VyY2UnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIuc2VsZWN0KCdlbGVtZW50cycpXG4gICAgICAgICAgICAgICAgLndoZXJlKHsgJ2VsZW1lbnRfc2V0JzogZWxlbWVudFNldC51aWQgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZWxlbWVudHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFNldC5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFNldDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9jb250cm9sbGVycy9FbGVtZW50U2V0Q29udHJvbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 90 */
/***/ function(module, exports) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nclass GenericController {\r\n    constructor(db, table) {\r\n        this.db = db;\r\n        this.tableName = table;\r\n    }\r\n    getItemJson(obj, uid) {\r\n        if (typeof (uid) !== 'number') {\r\n            throw new Error('Expected single column identifier');\r\n        }\r\n        return this.db.loadItem(this.tableName, uid)\r\n            .then((data) => this.fromSchema(data));\r\n    }\r\n    getCollectionJson(obj, params = {}) {\r\n        return this.db.loadCollection(this.tableName, params)\r\n            .then((data) => data.map((datum) => this.fromSchema(datum)));\r\n    }\r\n    postItem(obj, data) {\r\n        return this.db.createItem(this.tableName, this.toSchema(data));\r\n    }\r\n    putItem(obj, uid, data) {\r\n        if (typeof (uid) !== 'number') {\r\n            throw new Error('Expected single column identifier');\r\n        }\r\n        return this.db.updateItem(this.tableName, this.toSchema(data));\r\n    }\r\n    patchItem(obj, uid, data) {\r\n        if (typeof (uid) !== 'number') {\r\n            throw new Error('Expected single column identifier');\r\n        }\r\n        return this.db.loadItem(this.tableName, uid)\r\n            .then((originalData) => {\r\n            return this.db.updateItem(this.tableName, this.toSchema(Object.assign(this.fromSchema(originalData), data)));\r\n        });\r\n    }\r\n    deleteItem(obj, uid) {\r\n        if (typeof (uid) !== 'number') {\r\n            throw new Error('Expected single column identifier');\r\n        }\r\n        return this.db.deleteItem(this.tableName, uid);\r\n    }\r\n}\r\nexports.GenericController = GenericController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL0dlbmVyaWNDb250cm9sbGVyLnRzPzBjMGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFPSDtJQUtJLFlBQ0ksRUFBWSxFQUNaLEtBQWE7UUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFNTSxXQUFXLENBQUMsR0FBa0IsRUFBRSxHQUEwQjtRQUU3RCxFQUFFLENBQUMsQ0FBQyxPQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7UUFDekQsQ0FBQztRQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQzthQUMzQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxHQUFrQixFQUFFLE1BQU0sR0FBUSxFQUFFO1FBQ3pELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQzthQUNuRCxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssS0FBTSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sUUFBUSxDQUFDLEdBQWtCLEVBQUUsSUFBTztRQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVNLE9BQU8sQ0FBQyxHQUFrQixFQUFFLEdBQTBCLEVBQUUsSUFBTztRQUVsRSxFQUFFLENBQUMsQ0FBQyxPQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7UUFDekQsQ0FBQztRQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQWtCLEVBQUUsR0FBMEIsRUFBRSxJQUFPO1FBRXBFLEVBQUUsQ0FBQyxDQUFDLE9BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUN6RCxDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDO2FBQzNDLElBQUksQ0FBQyxDQUFDLFlBQVk7WUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakgsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sVUFBVSxDQUFDLEdBQWtCLEVBQUUsR0FBMEI7UUFFNUQsRUFBRSxDQUFDLENBQUMsT0FBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ3pELENBQUM7UUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuRCxDQUFDO0FBQ0wsQ0FBQztBQWhFcUIseUJBQWlCLG9CQWdFdEMiLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgSUNvbnRyb2xsZXIgfSBmcm9tICcuL0lDb250cm9sbGVyJztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi4vY29yZS9EYXRhYmFzZSc7XG5cbmltcG9ydCB7IENvbXBvc2l0ZUtleSwgRmFsY29uSXRlbSB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdlbmVyaWNDb250cm9sbGVyPFQgZXh0ZW5kcyBGYWxjb25JdGVtPiBpbXBsZW1lbnRzIElDb250cm9sbGVyIHtcblxuICAgIHByb3RlY3RlZCB0YWJsZU5hbWU6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgZGIgOiBEYXRhYmFzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBkYjogRGF0YWJhc2UsXG4gICAgICAgIHRhYmxlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICB0aGlzLnRhYmxlTmFtZSA9IHRhYmxlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBUO1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCB0b1NjaGVtYShkYXRhOiBUKSA6IGFueTtcblxuXG4gICAgcHVibGljIGdldEl0ZW1Kc29uKG9iajogeyBuZXcoKTogVDsgfSwgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXkpIDogUHJvbWlzZUxpa2U8VD4ge1xuXG4gICAgICAgIGlmICh0eXBlb2YodWlkKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgc2luZ2xlIGNvbHVtbiBpZGVudGlmaWVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYi5sb2FkSXRlbSh0aGlzLnRhYmxlTmFtZSwgdWlkKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy5mcm9tU2NoZW1hKGRhdGEpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q29sbGVjdGlvbkpzb24ob2JqOiB7IG5ldygpOiBUOyB9LCBwYXJhbXM6IGFueSA9IHt9KSA6IFByb21pc2VMaWtlPFRbXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5sb2FkQ29sbGVjdGlvbih0aGlzLnRhYmxlTmFtZSwgcGFyYW1zKVxuICAgICAgICAgLnRoZW4oKGRhdGEpID0+IGRhdGEubWFwKChkYXR1bSkgPT4gIHRoaXMuZnJvbVNjaGVtYShkYXR1bSkpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcG9zdEl0ZW0ob2JqOiB7IG5ldygpOiBUOyB9LCBkYXRhOiBUKSA6IFByb21pc2VMaWtlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5jcmVhdGVJdGVtKHRoaXMudGFibGVOYW1lLCB0aGlzLnRvU2NoZW1hKGRhdGEpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHV0SXRlbShvYmo6IHsgbmV3KCk6IFQ7IH0sIHVpZDogbnVtYmVyIHwgQ29tcG9zaXRlS2V5LCBkYXRhOiBUKSA6IFByb21pc2VMaWtlPHN0cmluZz4ge1xuXG4gICAgICAgIGlmICh0eXBlb2YodWlkKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgc2luZ2xlIGNvbHVtbiBpZGVudGlmaWVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYi51cGRhdGVJdGVtKHRoaXMudGFibGVOYW1lLCB0aGlzLnRvU2NoZW1hKGRhdGEpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGF0Y2hJdGVtKG9iajogeyBuZXcoKTogVDsgfSwgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXksIGRhdGE6IFQpIDogUHJvbWlzZUxpa2U8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGlmICh0eXBlb2YodWlkKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgc2luZ2xlIGNvbHVtbiBpZGVudGlmaWVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYi5sb2FkSXRlbSh0aGlzLnRhYmxlTmFtZSwgdWlkKVxuICAgICAgICAudGhlbigob3JpZ2luYWxEYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYi51cGRhdGVJdGVtKHRoaXMudGFibGVOYW1lLCB0aGlzLnRvU2NoZW1hKE9iamVjdC5hc3NpZ24odGhpcy5mcm9tU2NoZW1hKG9yaWdpbmFsRGF0YSksIGRhdGEpKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVJdGVtKG9iajogeyBuZXcoKTogVDsgfSwgdWlkOiBudW1iZXIgfCBDb21wb3NpdGVLZXkpIDogUHJvbWlzZUxpa2U8c3RyaW5nPiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZih1aWQpICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBzaW5nbGUgY29sdW1uIGlkZW50aWZpZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRiLmRlbGV0ZUl0ZW0odGhpcy50YWJsZU5hbWUsIHVpZCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9jb250cm9sbGVycy9HZW5lcmljQ29udHJvbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 91 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass EntityController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'entities');\r\n    }\r\n    static fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.Entity.prototype), {\r\n            entityType: data.type,\r\n            uid: data.uid,\r\n            label: data.label,\r\n            parent: data.parent\r\n        });\r\n    }\r\n    static toSchema(data) {\r\n        return Object.assign(lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'entityType', 'creationTimestamp', 'lastmodifiedTimestamp'), {\r\n            type: data.entityType,\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\r\n        });\r\n    }\r\n    fromSchema(data) {\r\n        return EntityController.fromSchema(data);\r\n    }\r\n    toSchema(data) {\r\n        return EntityController.toSchema(data);\r\n    }\r\n    getCollectionJson(obj, params = {}) {\r\n        if (params.type !== undefined) {\r\n            return this.db.getChildrenOf(lodash_1.isArray(params.type) ? params.type[0] : params.type, 'entity_types')\r\n                .then((ancestors) => {\r\n                return this.db.select('entities').whereIn('type', ancestors)\r\n                    .then((results) => results.map((result) => this.fromSchema(result)));\r\n            });\r\n        }\r\n        else {\r\n            return super.getCollectionJson(obj, params);\r\n        }\r\n    }\r\n    deleteItem(obj, uid) {\r\n        // check if this entity is the parent of another entity or if it has any relationships\r\n        // pointing towards it.\r\n        return Promise.all([\r\n            this.db.select(this.tableName).where('parent', '=', uid),\r\n            this.db.select('records').where('value_entity', '=', uid)\r\n        ]).then(([entities, records]) => {\r\n            if (entities.length + records.length === 0) {\r\n                return this.db.deleteItem(this.tableName, uid);\r\n            }\r\n            else {\r\n                throw new Exceptions_1.OperationNotPermittedException({\r\n                    message: 'The operation could not be completed as the entity is referenced in other sources',\r\n                    data: Promise.resolve({\r\n                        entity: entities,\r\n                        record: records\r\n                    })\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.EntityController = EntityController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL0VudGl0eUNvbnRyb2xsZXIudHM/ZTA0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUlILDBDQUFtQyxFQUFhLENBQUM7QUFDakQsZ0RBQWtDLEVBQXFCLENBQUM7QUFFeEQseUNBQStDLEVBQW9CLENBQUM7QUFFcEUscUNBQThCLEVBQVEsQ0FBQztBQUV2QywrQkFBc0MscUNBQWlCO0lBRW5ELFlBQVksRUFBYTtRQUNyQixNQUFNLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsT0FBYyxVQUFVLENBQUMsSUFBUztRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLG9CQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDbEQsVUFBVSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ3JCLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztZQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07U0FDdEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELE9BQWMsUUFBUSxDQUFDLElBQVk7UUFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBSSxDQUFDLHdCQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUM1QyxZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLHVCQUF1QixDQUFDLEVBQUU7WUFDMUIsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVO1lBQ3JCLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUI7WUFDMUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjtTQUNyRCxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRVMsVUFBVSxDQUFDLElBQVM7UUFDMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRVMsUUFBUSxDQUFDLElBQVk7UUFDNUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0saUJBQWlCLENBQUMsR0FBdUIsRUFBRSxNQUFNLEdBQVEsRUFBRTtRQUM5RCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLGdCQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxjQUFjLENBQUM7aUJBQ2hHLElBQUksQ0FBQyxDQUFDLFNBQVM7Z0JBQ1osTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO3FCQUMzRCxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RSxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hELENBQUM7SUFDTCxDQUFDO0lBRU0sVUFBVSxDQUFDLEdBQXVCLEVBQUUsR0FBVztRQUNsRCxzRkFBc0Y7UUFDdEYsdUJBQXVCO1FBQ3ZCLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztZQUN4RCxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7U0FDNUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQztZQUN4QixFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDbkQsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLE1BQU0sSUFBSSwyQ0FBOEIsQ0FBQztvQkFDckMsT0FBTyxFQUFFLG1GQUFtRjtvQkFDNUYsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUM7d0JBQ2xCLE1BQU0sRUFBRSxRQUFRO3dCQUNoQixNQUFNLEVBQUUsT0FBTztxQkFDbEIsQ0FBQztpQkFDTCxDQUFDLENBQUM7WUFDUCxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0FBQ0wsQ0FBQztBQWxFWSx3QkFBZ0IsbUJBa0U1QiIsImZpbGUiOiI5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVPdmVydmlldyBDb250cm9sbGVyIGZvciBlbGVtZW50IHNldHNcbiAqIEBhdXRob3IgPGEgaHJlZj0nbWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWsnPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL2NvcmUvRGF0YWJhc2UnO1xuXG5pbXBvcnQgeyBFbnRpdHksIFNlcmlhbGl6ZXIgfSBmcm9tICdmYWxjb24tY29yZSc7XG5pbXBvcnQgeyBHZW5lcmljQ29udHJvbGxlciB9IGZyb20gJy4vR2VuZXJpY0NvbnRyb2xsZXInO1xuXG5pbXBvcnQgeyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24gfSBmcm9tICcuLi9jb3JlL0V4Y2VwdGlvbnMnO1xuXG5pbXBvcnQgeyBvbWl0LCBpc0FycmF5IH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGNsYXNzIEVudGl0eUNvbnRyb2xsZXIgZXh0ZW5kcyBHZW5lcmljQ29udHJvbGxlcjxFbnRpdHk+IHtcblxuICAgIGNvbnN0cnVjdG9yKGRiIDogRGF0YWJhc2UpIHtcbiAgICAgICAgc3VwZXIoZGIsICdlbnRpdGllcycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbVNjaGVtYShkYXRhOiBhbnkpIDogRW50aXR5IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShFbnRpdHkucHJvdG90eXBlKSwge1xuICAgICAgICAgICAgZW50aXR5VHlwZTogZGF0YS50eXBlLFxuICAgICAgICAgICAgdWlkOiBkYXRhLnVpZCxcbiAgICAgICAgICAgIGxhYmVsOiBkYXRhLmxhYmVsLFxuICAgICAgICAgICAgcGFyZW50OiBkYXRhLnBhcmVudFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRvU2NoZW1hKGRhdGE6IEVudGl0eSkgOiBhbnkge1xuICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9taXQoU2VyaWFsaXplci50b0pzb24oZGF0YSksXG4gICAgICAgICAgICAnZW50aXR5VHlwZScsXG4gICAgICAgICAgICAnY3JlYXRpb25UaW1lc3RhbXAnLFxuICAgICAgICAgICAgJ2xhc3Rtb2RpZmllZFRpbWVzdGFtcCcpLCB7XG4gICAgICAgICAgICB0eXBlOiBkYXRhLmVudGl0eVR5cGUsXG4gICAgICAgICAgICBjcmVhdGlvbl90aW1lc3RhbXA6IGRhdGEuY3JlYXRpb25UaW1lc3RhbXAsXG4gICAgICAgICAgICBsYXN0bW9kaWZpZWRfdGltZVN0YW1wOiBkYXRhLmxhc3Rtb2RpZmllZFRpbWVzdGFtcFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZnJvbVNjaGVtYShkYXRhOiBhbnkpIDogRW50aXR5IHtcbiAgICAgICAgcmV0dXJuIEVudGl0eUNvbnRyb2xsZXIuZnJvbVNjaGVtYShkYXRhKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdG9TY2hlbWEoZGF0YTogRW50aXR5KSA6IGFueSB7XG4gICAgICAgcmV0dXJuIEVudGl0eUNvbnRyb2xsZXIudG9TY2hlbWEoZGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbGxlY3Rpb25Kc29uKG9iajogeyBuZXcoKTogRW50aXR5OyB9LCBwYXJhbXM6IGFueSA9IHt9KSA6IFByb21pc2VMaWtlPEVudGl0eVtdPiAge1xuICAgICAgICBpZiAocGFyYW1zLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0Q2hpbGRyZW5PZihpc0FycmF5KHBhcmFtcy50eXBlKSA/IHBhcmFtcy50eXBlWzBdIDogcGFyYW1zLnR5cGUsICdlbnRpdHlfdHlwZXMnKVxuICAgICAgICAgICAgLnRoZW4oKGFuY2VzdG9ycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLnNlbGVjdCgnZW50aXRpZXMnKS53aGVyZUluKCd0eXBlJywgYW5jZXN0b3JzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB0aGlzLmZyb21TY2hlbWEocmVzdWx0KSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29sbGVjdGlvbkpzb24ob2JqLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlbGV0ZUl0ZW0ob2JqOiB7IG5ldygpOiBFbnRpdHk7IH0sIHVpZDogbnVtYmVyKSA6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgZW50aXR5IGlzIHRoZSBwYXJlbnQgb2YgYW5vdGhlciBlbnRpdHkgb3IgaWYgaXQgaGFzIGFueSByZWxhdGlvbnNoaXBzXG4gICAgICAgIC8vIHBvaW50aW5nIHRvd2FyZHMgaXQuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0aGlzLmRiLnNlbGVjdCh0aGlzLnRhYmxlTmFtZSkud2hlcmUoJ3BhcmVudCcsICc9JywgdWlkKSxcbiAgICAgICAgICAgIHRoaXMuZGIuc2VsZWN0KCdyZWNvcmRzJykud2hlcmUoJ3ZhbHVlX2VudGl0eScsICc9JywgdWlkKVxuICAgICAgICBdKS50aGVuKChbZW50aXRpZXMsIHJlY29yZHNdKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50aXRpZXMubGVuZ3RoICsgcmVjb3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5kZWxldGVJdGVtKHRoaXMudGFibGVOYW1lLCB1aWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBhcyB0aGUgZW50aXR5IGlzIHJlZmVyZW5jZWQgaW4gb3RoZXIgc291cmNlcycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmRzXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvRW50aXR5Q29udHJvbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 92 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst PredicateController_1 = __webpack_require__(93);\r\nconst EntityController_1 = __webpack_require__(91);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass EntityTypeController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'entity_types');\r\n    }\r\n    toSchema(data) {\r\n        return Object.assign(lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'sameAs', 'parents', 'children', 'creationTimestamp', 'lastmodifiedTimestamp'), {\r\n            same_as: data.sameAs,\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\r\n        });\r\n    }\r\n    fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.EntityType.prototype), Object.assign(data, {\r\n            'sameAs': data.same_as\r\n        }));\r\n    }\r\n    getItemJson(obj, uid) {\r\n        return super.getItemJson(obj, uid)\r\n            .then((result) => {\r\n            return Promise.all([\r\n                this.db.getAncestorsOf(uid, 'entity_types')\r\n                    .then((ancestors) => {\r\n                    return this.db.select('entity_types').whereIn('uid', ancestors)\r\n                        .then((results) => results.map((result) => this.fromSchema(result)));\r\n                }),\r\n                this.db.select('entity_types', ['uid']).where({ parent: uid })\r\n            ])\r\n                .then(([parents, children]) => {\r\n                result.parents = parents;\r\n                result.children = children.map((child) => child.uid);\r\n                return result;\r\n            });\r\n        });\r\n    }\r\n    deleteItem(obj, uid) {\r\n        // check if this entity is the parent of another entity or if it has any relationships\r\n        // pointing towards it.\r\n        return Promise.all([\r\n            this.db.select(this.tableName).where('parent', '=', uid),\r\n            this.db.select('entities').where('type', '=', uid),\r\n            this.db.select('predicates').where('domain', '=', uid).orWhere('range_ref', '=', uid)\r\n        ]).then(([entityTypes, entities, predicates]) => {\r\n            if (entities.length + entityTypes.length + predicates.length === 0) {\r\n                return this.db.deleteItem(this.tableName, uid);\r\n            }\r\n            else {\r\n                throw new Exceptions_1.OperationNotPermittedException({\r\n                    message: 'The operation could not be completed as the entity is referenced in other sources',\r\n                    data: Promise.resolve({\r\n                        entityType: entityTypes.map((entityType) => EntityController_1.EntityController.fromSchema(entityType)),\r\n                        entity: entities.map((entity) => EntityController_1.EntityController.fromSchema(entity)),\r\n                        predicate: predicates.map((predicate) => PredicateController_1.PredicateController.fromSchema(predicate))\r\n                    })\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.EntityTypeController = EntityTypeController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL0VudGl0eVR5cGVDb250cm9sbGVyLnRzPzA5NGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFJSCwwQ0FBdUMsRUFBYSxDQUFDO0FBQ3JELGdEQUFrQyxFQUFxQixDQUFDO0FBRXhELGtEQUFvQyxFQUF1QixDQUFDO0FBRTVELCtDQUFpQyxFQUFvQixDQUFDO0FBRXRELHlDQUErQyxFQUFvQixDQUFDO0FBRXBFLHFDQUFxQixFQUFRLENBQUM7QUFFOUIsbUNBQTBDLHFDQUFpQjtJQUV2RCxZQUFZLEVBQWE7UUFDckIsTUFBTSxFQUFFLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLFFBQVEsQ0FBQyxJQUFnQjtRQUM1QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFJLENBQUMsd0JBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQ3pDLFFBQVEsRUFDUixTQUFTLEVBQ1QsVUFBVSxFQUNWLG1CQUFtQixFQUNuQix1QkFBdUIsQ0FBQyxFQUFFO1lBQzlCLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNwQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1lBQzFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7U0FDckQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFVBQVUsQ0FBQyxJQUFTO1FBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsd0JBQVUsQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtZQUMxRSxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDekIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0lBRU0sV0FBVyxDQUFDLEdBQTJCLEVBQUUsR0FBVztRQUN2RCxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcs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U0FBUyxDQUFDLENBQUM7cUJBQ3RGLENBQUM7aUJBQ0wsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztBQUNMLENBQUM7QUFwRVksNEJBQW9CLHVCQW9FaEMiLCJmaWxlIjoiOTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcblxuaW1wb3J0IHsgRW50aXR5VHlwZSwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcbmltcG9ydCB7IEdlbmVyaWNDb250cm9sbGVyIH0gZnJvbSAnLi9HZW5lcmljQ29udHJvbGxlcic7XG5cbmltcG9ydCB7IFByZWRpY2F0ZUNvbnRyb2xsZXIgfSBmcm9tICcuL1ByZWRpY2F0ZUNvbnRyb2xsZXInO1xuXG5pbXBvcnQgeyBFbnRpdHlDb250cm9sbGVyIH0gZnJvbSAnLi9FbnRpdHlDb250cm9sbGVyJztcblxuaW1wb3J0IHsgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIH0gZnJvbSAnLi4vY29yZS9FeGNlcHRpb25zJztcblxuaW1wb3J0IHsgb21pdCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHlUeXBlQ29udHJvbGxlciBleHRlbmRzIEdlbmVyaWNDb250cm9sbGVyPEVudGl0eVR5cGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKGRiIDogRGF0YWJhc2UpIHtcbiAgICAgICAgc3VwZXIoZGIsICdlbnRpdHlfdHlwZXMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TY2hlbWEoZGF0YTogRW50aXR5VHlwZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvbWl0KFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpLFxuICAgICAgICAgICAgICAgICdzYW1lQXMnLFxuICAgICAgICAgICAgICAgICdwYXJlbnRzJyxcbiAgICAgICAgICAgICAgICAnY2hpbGRyZW4nLFxuICAgICAgICAgICAgICAgICdjcmVhdGlvblRpbWVzdGFtcCcsXG4gICAgICAgICAgICAgICAgJ2xhc3Rtb2RpZmllZFRpbWVzdGFtcCcpLCB7XG4gICAgICAgICAgICBzYW1lX2FzOiBkYXRhLnNhbWVBcyxcbiAgICAgICAgICAgIGNyZWF0aW9uX3RpbWVzdGFtcDogZGF0YS5jcmVhdGlvblRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3Rtb2RpZmllZF90aW1lU3RhbXA6IGRhdGEubGFzdG1vZGlmaWVkVGltZXN0YW1wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBFbnRpdHlUeXBlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShFbnRpdHlUeXBlLnByb3RvdHlwZSksIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgICAgICAgJ3NhbWVBcyc6IGRhdGEuc2FtZV9hc1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW1Kc29uKG9iajogeyBuZXcoKTogRW50aXR5VHlwZTsgfSwgdWlkOiBudW1iZXIpIDogUHJvbWlzZUxpa2U8RW50aXR5VHlwZT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0SXRlbUpzb24ob2JqLCB1aWQpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG5cbiAgICAgICAgICAgICAgICB0aGlzLmRiLmdldEFuY2VzdG9yc09mKHVpZCwgJ2VudGl0eV90eXBlcycpXG4gICAgICAgICAgICAgICAgLnRoZW4oKGFuY2VzdG9ycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5zZWxlY3QoJ2VudGl0eV90eXBlcycpLndoZXJlSW4oJ3VpZCcsIGFuY2VzdG9ycylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IHRoaXMuZnJvbVNjaGVtYShyZXN1bHQpKSk7XG4gICAgICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgICAgICB0aGlzLmRiLnNlbGVjdCgnZW50aXR5X3R5cGVzJywgWyd1aWQnXSkud2hlcmUoeyBwYXJlbnQ6IHVpZCB9KVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC50aGVuKChbcGFyZW50cywgY2hpbGRyZW5dKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnBhcmVudHMgPSBwYXJlbnRzO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5jaGlsZHJlbiA9IGNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnVpZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVsZXRlSXRlbShvYmo6IHsgbmV3KCk6IEVudGl0eVR5cGU7IH0sIHVpZDogbnVtYmVyKSA6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgZW50aXR5IGlzIHRoZSBwYXJlbnQgb2YgYW5vdGhlciBlbnRpdHkgb3IgaWYgaXQgaGFzIGFueSByZWxhdGlvbnNoaXBzXG4gICAgICAgIC8vIHBvaW50aW5nIHRvd2FyZHMgaXQuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0aGlzLmRiLnNlbGVjdCh0aGlzLnRhYmxlTmFtZSkud2hlcmUoJ3BhcmVudCcsICc9JywgdWlkKSxcbiAgICAgICAgICAgIHRoaXMuZGIuc2VsZWN0KCdlbnRpdGllcycpLndoZXJlKCd0eXBlJywgJz0nLCB1aWQpLFxuICAgICAgICAgICAgdGhpcy5kYi5zZWxlY3QoJ3ByZWRpY2F0ZXMnKS53aGVyZSgnZG9tYWluJywgJz0nLCB1aWQpLm9yV2hlcmUoJ3JhbmdlX3JlZicsICc9JywgdWlkKVxuICAgICAgICBdKS50aGVuKChbZW50aXR5VHlwZXMsIGVudGl0aWVzLCBwcmVkaWNhdGVzXSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCArIGVudGl0eVR5cGVzLmxlbmd0aCArIHByZWRpY2F0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIuZGVsZXRlSXRlbSh0aGlzLnRhYmxlTmFtZSwgdWlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgYXMgdGhlIGVudGl0eSBpcyByZWZlcmVuY2VkIGluIG90aGVyIHNvdXJjZXMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5VHlwZTogZW50aXR5VHlwZXMubWFwKChlbnRpdHlUeXBlKSA9PiBFbnRpdHlDb250cm9sbGVyLmZyb21TY2hlbWEoZW50aXR5VHlwZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdGllcy5tYXAoKGVudGl0eSkgPT4gRW50aXR5Q29udHJvbGxlci5mcm9tU2NoZW1hKGVudGl0eSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljYXRlOiBwcmVkaWNhdGVzLm1hcCgocHJlZGljYXRlKSA9PiBQcmVkaWNhdGVDb250cm9sbGVyLmZyb21TY2hlbWEocHJlZGljYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9jb250cm9sbGVycy9FbnRpdHlUeXBlQ29udHJvbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 93 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst RecordController_1 = __webpack_require__(94);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass PredicateController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'predicates');\r\n    }\r\n    static toSchema(data) {\r\n        const out = Object.assign(lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'range', 'rangeIsReference', 'sameAs', 'creationTimestamp', 'lastmodifiedTimestamp'), {\r\n            same_as: data.sameAs,\r\n            range_type: data.rangeIsReference ? 'entity' : data.range,\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\r\n        });\r\n        if (data.rangeIsReference) {\r\n            out['range_ref'] = data.range;\r\n        }\r\n        else {\r\n            out['range_ref'] = null;\r\n        }\r\n        return out;\r\n    }\r\n    static fromSchema(data) {\r\n        if (data.range_type === 'entity') {\r\n            data.range = data.range_ref;\r\n            data.rangeIsReference = true;\r\n        }\r\n        else {\r\n            data.range = data.range_type;\r\n            data.rangeIsReference = false;\r\n        }\r\n        return Object.assign(Object.create(falcon_core_1.Predicate.prototype), Object.assign(data, {\r\n            'sameAs': data.same_as\r\n        }));\r\n    }\r\n    toSchema(data) {\r\n        return PredicateController.toSchema(data);\r\n    }\r\n    fromSchema(data) {\r\n        return PredicateController.fromSchema(data);\r\n    }\r\n    getCollectionJson(obj, params = {}) {\r\n        if (params.domain !== undefined) {\r\n            //TODO: this check should be unecessery\r\n            return this.db.getAncestorsOf(lodash_1.isArray(params.domain) ? params.domain[0] : params.domain, 'entity_types')\r\n                .then((ancestors) => {\r\n                return this.db.select('predicates').whereIn('domain', ancestors.concat([params.domain[0]]))\r\n                    .then((results) => results.map((result) => this.fromSchema(result)));\r\n            });\r\n        }\r\n        else {\r\n            return super.getCollectionJson(obj, params);\r\n        }\r\n    }\r\n    putItem(obj, uid, data) {\r\n        if (typeof (uid) !== 'number') {\r\n            throw new Error('Expected single column identifier');\r\n        }\r\n        return this.db.updateItem(this.tableName, falcon_core_1.Serializer.toJson(data));\r\n    }\r\n    patchItem(obj, uid, data) {\r\n        if (data.domain !== undefined) {\r\n            return this.db.select('records', ['entities.type as entityType'])\r\n                .distinct()\r\n                .where({ predicate: uid })\r\n                .innerJoin('entities', 'records.entity', 'entities.uid')\r\n                .then((records) => {\r\n                if (records.length > 0) {\r\n                    return this.db.getChildrenOf(data.domain, 'entity_types')\r\n                        .then((res) => {\r\n                        records.map((e) => e.entityType)\r\n                            .forEach((e) => {\r\n                            if (res.indexOf(e) === -1) {\r\n                                throw new Exceptions_1.OperationNotPermittedException({\r\n                                    message: 'The operation could not be completed as it would invalidate predicate relationships',\r\n                                    data: Promise.resolve({})\r\n                                });\r\n                            }\r\n                        });\r\n                    }).then(() => super.patchItem(obj, uid, data));\r\n                }\r\n                return super.patchItem(obj, uid, data);\r\n            });\r\n        }\r\n        //TODO: fix range enforcement\r\n        if (data.range !== undefined) {\r\n            return this.db.select('records')\r\n                .where({ predicate: uid })\r\n                .then((records) => {\r\n                if (records.length > 0) {\r\n                    if (data.rangeIsReference === false) {\r\n                        throw new Exceptions_1.OperationNotPermittedException({\r\n                            message: 'The operation could not be completed as it would invalidate predicate relationships',\r\n                            data: Promise.resolve({})\r\n                        });\r\n                    }\r\n                    return this.db.getChildrenOf(data.range, 'entity_types')\r\n                        .then((res) => {\r\n                        records.map((e) => e.value_entity)\r\n                            .forEach((e) => {\r\n                            if (res.indexOf(e) === -1) {\r\n                                throw new Exceptions_1.OperationNotPermittedException({\r\n                                    message: 'The operation could not be completed as it would invalidate predicate relationships',\r\n                                    data: Promise.resolve({})\r\n                                });\r\n                            }\r\n                        });\r\n                    }).then(() => super.patchItem(obj, uid, data));\r\n                }\r\n                return super.patchItem(obj, uid, data);\r\n            });\r\n        }\r\n        return super.patchItem(obj, uid, data);\r\n    }\r\n    deleteItem(obj, uid) {\r\n        // check if this entity is the parent of another entity or if it has any relationships\r\n        // pointing towards it.\r\n        return Promise.all([\r\n            this.db.loadCollection('records', { predicate: uid })\r\n        ]).then(([records]) => {\r\n            if (records.length === 0) {\r\n                return this.db.deleteItem(this.tableName, uid);\r\n            }\r\n            else {\r\n                throw new Exceptions_1.OperationNotPermittedException({\r\n                    message: 'The operation could not be completed as the predicate is used by other records',\r\n                    data: Promise.resolve({\r\n                        record: records.map((record) => RecordController_1.RecordController.fromSchema(record))\r\n                    })\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.PredicateController = PredicateController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1ByZWRpY2F0ZUNvbnRyb2xsZXIudHM/MmUyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUlILDBDQUFzQyxFQUFhLENBQUM7QUFFcEQsZ0RBQWtDLEVBQXFCLENBQUM7QUFFeEQseUNBQStDLEVBQW9CLENBQUM7QUFFcEUsK0NBQWlDLEVBQW9CLENBQUM7QUFFdEQscUNBQThCLEVBQVEsQ0FBQztBQUV2QyxrQ0FBeUMscUNBQWlCO0lBRXRELFlBQVksRUFBYTtRQUNyQixNQUFNLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsT0FBYyxRQUFRLENBQUMsSUFBZTtRQUNsQyxNQUFNLEdBQUcsR0FBMkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFJLENBQUMsd0JBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQzFFLE9BQU8sRUFDUCxrQkFBa0IsRUFDbEIsUUFBUSxFQUNSLG1CQUFtQixFQUNuQix1QkFBdUIsQ0FDMUIsRUFBRTtZQUNDLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNwQixVQUFVLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSztZQUN6RCxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1lBQzFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7U0FDckQsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUN4QixHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNsQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzVCLENBQUM7UUFFRCxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ2Ys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dmVydmlldyBDb250cm9sbGVyIGZvciBlbGVtZW50IHNldHNcbiAqIEBhdXRob3IgPGEgaHJlZj0nbWFpbHRvOnRpbS5ob2xsaWVzQHdhcndpY2suYWMudWsnPlRpbSBIb2xsaWVzPC9hPlxuICogQHZlcnNpb24gMC4wLjFcbiAqL1xuXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL2NvcmUvRGF0YWJhc2UnO1xuXG5pbXBvcnQgeyBQcmVkaWNhdGUsIFNlcmlhbGl6ZXIgfSBmcm9tICdmYWxjb24tY29yZSc7XG5cbmltcG9ydCB7IEdlbmVyaWNDb250cm9sbGVyIH0gZnJvbSAnLi9HZW5lcmljQ29udHJvbGxlcic7XG5cbmltcG9ydCB7IE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbiB9IGZyb20gJy4uL2NvcmUvRXhjZXB0aW9ucyc7XG5cbmltcG9ydCB7IFJlY29yZENvbnRyb2xsZXIgfSBmcm9tICcuL1JlY29yZENvbnRyb2xsZXInO1xuXG5pbXBvcnQgeyBvbWl0LCBpc0FycmF5IH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGNsYXNzIFByZWRpY2F0ZUNvbnRyb2xsZXIgZXh0ZW5kcyBHZW5lcmljQ29udHJvbGxlcjxQcmVkaWNhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKGRiIDogRGF0YWJhc2UpIHtcbiAgICAgICAgc3VwZXIoZGIsICdwcmVkaWNhdGVzJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0b1NjaGVtYShkYXRhOiBQcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3Qgb3V0IDogeyBbczogc3RyaW5nXSA6IGFueSB9ID0gT2JqZWN0LmFzc2lnbihvbWl0KFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpLFxuICAgICAgICAgICAgJ3JhbmdlJyxcbiAgICAgICAgICAgICdyYW5nZUlzUmVmZXJlbmNlJyxcbiAgICAgICAgICAgICdzYW1lQXMnLFxuICAgICAgICAgICAgJ2NyZWF0aW9uVGltZXN0YW1wJyxcbiAgICAgICAgICAgICdsYXN0bW9kaWZpZWRUaW1lc3RhbXAnXG4gICAgICAgICksIHtcbiAgICAgICAgICAgIHNhbWVfYXM6IGRhdGEuc2FtZUFzLFxuICAgICAgICAgICAgcmFuZ2VfdHlwZTogZGF0YS5yYW5nZUlzUmVmZXJlbmNlID8gJ2VudGl0eScgOiBkYXRhLnJhbmdlLFxuICAgICAgICAgICAgY3JlYXRpb25fdGltZXN0YW1wOiBkYXRhLmNyZWF0aW9uVGltZXN0YW1wLFxuICAgICAgICAgICAgbGFzdG1vZGlmaWVkX3RpbWVTdGFtcDogZGF0YS5sYXN0bW9kaWZpZWRUaW1lc3RhbXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRhdGEucmFuZ2VJc1JlZmVyZW5jZSkge1xuICAgICAgICAgICAgb3V0WydyYW5nZV9yZWYnXSA9IGRhdGEucmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRbJ3JhbmdlX3JlZiddID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBQcmVkaWNhdGUge1xuICAgICAgICBpZiAoZGF0YS5yYW5nZV90eXBlID09PSAnZW50aXR5Jykge1xuICAgICAgICAgICAgZGF0YS5yYW5nZSA9IGRhdGEucmFuZ2VfcmVmO1xuICAgICAgICAgICAgZGF0YS5yYW5nZUlzUmVmZXJlbmNlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEucmFuZ2UgPSBkYXRhLnJhbmdlX3R5cGU7XG4gICAgICAgICAgICBkYXRhLnJhbmdlSXNSZWZlcmVuY2UgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoUHJlZGljYXRlLnByb3RvdHlwZSksIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgICAgICAgJ3NhbWVBcyc6IGRhdGEuc2FtZV9hc1xuICAgICAgICB9KSk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgdG9TY2hlbWEoZGF0YTogUHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiBQcmVkaWNhdGVDb250cm9sbGVyLnRvU2NoZW1hKGRhdGEpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBQcmVkaWNhdGUge1xuICAgICAgICByZXR1cm4gUHJlZGljYXRlQ29udHJvbGxlci5mcm9tU2NoZW1hKGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDb2xsZWN0aW9uSnNvbihvYmo6IHsgbmV3KCk6IFByZWRpY2F0ZTsgfSwgcGFyYW1zOiBhbnkgPSB7fSkgOiBQcm9taXNlTGlrZTxQcmVkaWNhdGVbXT4gIHtcbiAgICAgICAgaWYgKHBhcmFtcy5kb21haW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy9UT0RPOiB0aGlzIGNoZWNrIHNob3VsZCBiZSB1bmVjZXNzZXJ5XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRBbmNlc3RvcnNPZihpc0FycmF5KHBhcmFtcy5kb21haW4pID8gcGFyYW1zLmRvbWFpblswXSA6IHBhcmFtcy5kb21haW4sICdlbnRpdHlfdHlwZXMnKVxuICAgICAgICAgICAgLnRoZW4oKGFuY2VzdG9ycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLnNlbGVjdCgncHJlZGljYXRlcycpLndoZXJlSW4oJ2RvbWFpbicsIGFuY2VzdG9ycy5jb25jYXQoW3BhcmFtcy5kb21haW5bMF1dKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0cykgPT4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gdGhpcy5mcm9tU2NoZW1hKHJlc3VsdCkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldENvbGxlY3Rpb25Kc29uKG9iaiwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBwdXRJdGVtKG9iajogeyBuZXcoKTogUHJlZGljYXRlOyB9LCB1aWQ6IG51bWJlciwgZGF0YTogUHJlZGljYXRlKSA6IFByb21pc2VMaWtlPHN0cmluZz4ge1xuXG4gICAgICAgIGlmICh0eXBlb2YodWlkKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgc2luZ2xlIGNvbHVtbiBpZGVudGlmaWVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYi51cGRhdGVJdGVtKHRoaXMudGFibGVOYW1lLCBTZXJpYWxpemVyLnRvSnNvbihkYXRhKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHBhdGNoSXRlbShvYmo6IHsgbmV3KCk6IFByZWRpY2F0ZTsgfSwgdWlkOiBudW1iZXIsIGRhdGE6IFByZWRpY2F0ZSkgOiBQcm9taXNlTGlrZTxib29sZWFuPiB7XG5cbiAgICAgICAgaWYgKGRhdGEuZG9tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLnNlbGVjdCgncmVjb3JkcycsIFsnZW50aXRpZXMudHlwZSBhcyBlbnRpdHlUeXBlJ10pXG4gICAgICAgICAgICAgICAgLmRpc3RpbmN0KClcbiAgICAgICAgICAgICAgICAud2hlcmUoeyBwcmVkaWNhdGU6IHVpZCB9KVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4oJ2VudGl0aWVzJywgJ3JlY29yZHMuZW50aXR5JywgJ2VudGl0aWVzLnVpZCcpXG4gICAgICAgICAgICAudGhlbigocmVjb3JkcykgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLmdldENoaWxkcmVuT2YoZGF0YS5kb21haW4sICdlbnRpdHlfdHlwZXMnKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzLm1hcCgoZSkgPT4gZS5lbnRpdHlUeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBhcyBpdCB3b3VsZCBpbnZhbGlkYXRlIHByZWRpY2F0ZSByZWxhdGlvbnNoaXBzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFByb21pc2UucmVzb2x2ZSh7fSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gc3VwZXIucGF0Y2hJdGVtKG9iaiwgdWlkLCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnBhdGNoSXRlbShvYmosIHVpZCwgZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVE9ETzogZml4IHJhbmdlIGVuZm9yY2VtZW50XG4gICAgICAgIGlmIChkYXRhLnJhbmdlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIuc2VsZWN0KCdyZWNvcmRzJylcbiAgICAgICAgICAgICAgICAud2hlcmUoeyBwcmVkaWNhdGU6IHVpZCB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlY29yZHMpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yYW5nZUlzUmVmZXJlbmNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZCBhcyBpdCB3b3VsZCBpbnZhbGlkYXRlIHByZWRpY2F0ZSByZWxhdGlvbnNoaXBzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBQcm9taXNlLnJlc29sdmUoe30pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLmdldENoaWxkcmVuT2YoZGF0YS5yYW5nZSwgJ2VudGl0eV90eXBlcycpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHMubWFwKChlKSA9PiBlLnZhbHVlX2VudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5pbmRleE9mKGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgYXMgaXQgd291bGQgaW52YWxpZGF0ZSBwcmVkaWNhdGUgcmVsYXRpb25zaGlwcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBQcm9taXNlLnJlc29sdmUoe30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHN1cGVyLnBhdGNoSXRlbShvYmosIHVpZCwgZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5wYXRjaEl0ZW0ob2JqLCB1aWQsIGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIucGF0Y2hJdGVtKG9iaiwgdWlkLCBkYXRhKTtcbiAgICB9XG5cbiAgICAgcHVibGljIGRlbGV0ZUl0ZW0ob2JqOiB7IG5ldygpOiBQcmVkaWNhdGU7IH0sIHVpZDogbnVtYmVyKSA6IFByb21pc2VMaWtlPHN0cmluZz4ge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGVudGl0eSBpcyB0aGUgcGFyZW50IG9mIGFub3RoZXIgZW50aXR5IG9yIGlmIGl0IGhhcyBhbnkgcmVsYXRpb25zaGlwc1xuICAgICAgICAvLyBwb2ludGluZyB0b3dhcmRzIGl0LlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGhpcy5kYi5sb2FkQ29sbGVjdGlvbigncmVjb3JkcycsIHsgcHJlZGljYXRlOiB1aWR9KVxuICAgICAgICBdKS50aGVuKChbcmVjb3Jkc10pID0+IHtcbiAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLmRlbGV0ZUl0ZW0odGhpcy50YWJsZU5hbWUsIHVpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkIGFzIHRoZSBwcmVkaWNhdGUgaXMgdXNlZCBieSBvdGhlciByZWNvcmRzJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3Jkcy5tYXAoKHJlY29yZCkgPT4gUmVjb3JkQ29udHJvbGxlci5mcm9tU2NoZW1hKHJlY29yZCkpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvUHJlZGljYXRlQ29udHJvbGxlci50cyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 94 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass RecordController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'records');\r\n    }\r\n    static toSchema(data) {\r\n        const schemaOutput = lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'value', 'valueType', 'creationTimestamp', 'label', 'lastmodifiedTimestamp');\r\n        schemaOutput.value_type = data.valueType;\r\n        if (data.valueType !== undefined && data.valueType !== 'source') {\r\n            schemaOutput['value_' + data.valueType] = data.value;\r\n        }\r\n        return Object.assign({}, schemaOutput, {\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\r\n        });\r\n    }\r\n    static fromSchema(data) {\r\n        data.valueType = data.value_type;\r\n        switch (data.value_type) {\r\n            case 'entity':\r\n                data.value = data.value_entity;\r\n                break;\r\n            case 'string':\r\n                data.value = data.value_string;\r\n                break;\r\n            case 'date':\r\n                data.value = data.value_date;\r\n                break;\r\n            case 'integer':\r\n                data.value = data.value_integer;\r\n                break;\r\n            case 'point':\r\n                data.value = data.value_point;\r\n                break;\r\n            case 'region':\r\n                data.value = data.value_region;\r\n                break;\r\n            case 'source':\r\n                data.value = data.source;\r\n                break;\r\n            default:\r\n                data.value = null;\r\n        }\r\n        return Object.assign(Object.create(falcon_core_1.Record.prototype), data);\r\n    }\r\n    toSchema(data) {\r\n        return RecordController.toSchema(data);\r\n    }\r\n    fromSchema(data) {\r\n        return RecordController.fromSchema(data);\r\n    }\r\n    postItem(obj, data) {\r\n        // predicate domain must equal value_type\r\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\r\n            .then(([predicate]) => {\r\n            if (data.valueType === predicate.range_type) {\r\n                //TODO: still need to check entity type constraints\r\n                return super.postItem(obj, data);\r\n            }\r\n            throw new Exceptions_1.OperationNotPermittedException({\r\n                message: 'Attempted to add a record with an incorrect type!',\r\n                data: Promise.resolve({})\r\n            });\r\n        });\r\n    }\r\n    putItem(obj, uid, data) {\r\n        //TODO: what happens if we only update the value - and do not send the valueType again?\r\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\r\n            .then(([predicate]) => {\r\n            if (data.valueType === predicate.range_type) {\r\n                //TODO: still need to check entity type constraints\r\n                return super.putItem(obj, uid, data);\r\n            }\r\n            throw new Exceptions_1.OperationNotPermittedException({\r\n                message: 'Attempted to add a record with an incorrect type!',\r\n                data: Promise.resolve({})\r\n            });\r\n        });\r\n    }\r\n    patchItem(obj, uid, data) {\r\n        return this.db.select('predicates', ['range_type']).where({ uid: data.predicate })\r\n            .then(([predicate]) => {\r\n            if (data.valueType === predicate.range_type) {\r\n                //TODO: still need to check entity type constraints\r\n                return super.patchItem(obj, uid, data);\r\n            }\r\n            throw new Exceptions_1.OperationNotPermittedException({\r\n                message: 'Attempted to add a record with an incorrect type!',\r\n                data: Promise.resolve({})\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.RecordController = RecordController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1JlY29yZENvbnRyb2xsZXIudHM/MDE3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUlILDBDQUFtQyxFQUFhLENBQUM7QUFDakQsZ0RBQWtDLEVBQXFCLENBQUM7QUFFeEQseUNBQStDLEVBQW9CLENBQUM7QUFFcEUscUNBQXFCLEVBQVEsQ0FBQztBQUU5QiwrQkFBc0MscUNBQWlCO0lBRW5ELFlBQVksRUFBYTtRQUNyQixNQUFNLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQsT0FBYyxRQUFRLENBQUMsSUFBWTtRQUMvQixNQUFNLFlBQVksR0FBRyxhQUFJLENBQUMsd0JBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQzdDLE9BQU8sRUFDUCxXQUFXLEVBQ1gsbUJBQW1CLEVBQ25CLE9BQU8sRUFDUCx1QkFBdUIsQ0FBQyxDQUFDO1FBRTdCLFlBQVksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUV6QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDOUQsWUFBWSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN6RCxDQUFDO1FBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRTtZQUNuQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1lBQzFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7U0FDckQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELE9BQWMsVUFBVSxDQUFDLElBQVM7UUFFOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBRWpD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QUFDLENBQUM7WUFDekMsQ0FBQztZQUNELE1BQU0sSUFBSSwyQ0FBOEIsQ0FBQztnQkFDckMsT0FBTyxFQUFFLG1EQUFtRDtnQkFDNUQsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO2FBQzVCLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFNBQVMsQ0FBQyxHQUF1QixFQUFFLEdBQVcsRUFBRSxJQUFZO1FBQy9ELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7YUFDakYsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7WUFDZCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUMxQyxtREFBbUQ7Z0JBQ25ELE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDM0MsQ0FBQztZQUNELE1BQU0sSUFBSSwyQ0FBOEIsQ0FBQztnQkFDckMsT0FBTyxFQUFFLG1EQUFtRDtnQkFDNUQsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO2FBQzVCLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztBQUNMLENBQUM7QUFqSFksd0JBQWdCLG1CQWlINUIiLCJmaWxlIjoiOTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcblxuaW1wb3J0IHsgUmVjb3JkLCBTZXJpYWxpemVyIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgR2VuZXJpY0NvbnRyb2xsZXIgfSBmcm9tICcuL0dlbmVyaWNDb250cm9sbGVyJztcblxuaW1wb3J0IHsgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIH0gZnJvbSAnLi4vY29yZS9FeGNlcHRpb25zJztcblxuaW1wb3J0IHsgb21pdCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBjbGFzcyBSZWNvcmRDb250cm9sbGVyIGV4dGVuZHMgR2VuZXJpY0NvbnRyb2xsZXI8UmVjb3JkPiB7XG5cbiAgICBjb25zdHJ1Y3RvcihkYiA6IERhdGFiYXNlKSB7XG4gICAgICAgIHN1cGVyKGRiLCAncmVjb3JkcycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9TY2hlbWEoZGF0YTogUmVjb3JkKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYU91dHB1dCA9IG9taXQoU2VyaWFsaXplci50b0pzb24oZGF0YSksXG4gICAgICAgICAgICAndmFsdWUnLFxuICAgICAgICAgICAgJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICAnY3JlYXRpb25UaW1lc3RhbXAnLFxuICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICdsYXN0bW9kaWZpZWRUaW1lc3RhbXAnKTtcblxuICAgICAgICBzY2hlbWFPdXRwdXQudmFsdWVfdHlwZSA9IGRhdGEudmFsdWVUeXBlO1xuXG4gICAgICAgIGlmIChkYXRhLnZhbHVlVHlwZSAhPT0gdW5kZWZpbmVkICYmIGRhdGEudmFsdWVUeXBlICE9PSAnc291cmNlJykge1xuICAgICAgICAgICAgc2NoZW1hT3V0cHV0Wyd2YWx1ZV8nICsgZGF0YS52YWx1ZVR5cGVdID0gZGF0YS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzY2hlbWFPdXRwdXQsIHtcbiAgICAgICAgICAgIGNyZWF0aW9uX3RpbWVzdGFtcDogZGF0YS5jcmVhdGlvblRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3Rtb2RpZmllZF90aW1lU3RhbXA6IGRhdGEubGFzdG1vZGlmaWVkVGltZXN0YW1wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbVNjaGVtYShkYXRhOiBhbnkpIDogUmVjb3JkIHtcblxuICAgICAgICBkYXRhLnZhbHVlVHlwZSA9IGRhdGEudmFsdWVfdHlwZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudmFsdWVfdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZW50aXR5JzpcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gZGF0YS52YWx1ZV9lbnRpdHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBkYXRhLnZhbHVlX3N0cmluZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBkYXRhLnZhbHVlX2RhdGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gZGF0YS52YWx1ZV9pbnRlZ2VyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncG9pbnQnOlxuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBkYXRhLnZhbHVlX3BvaW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVnaW9uJzpcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gZGF0YS52YWx1ZV9yZWdpb247XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBkYXRhLnNvdXJjZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFJlY29yZC5wcm90b3R5cGUpLCBkYXRhKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdG9TY2hlbWEoZGF0YTogUmVjb3JkKSB7XG4gICAgICByZXR1cm4gUmVjb3JkQ29udHJvbGxlci50b1NjaGVtYShkYXRhKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZnJvbVNjaGVtYShkYXRhOiBhbnkpIHtcbiAgICAgIHJldHVybiBSZWNvcmRDb250cm9sbGVyLmZyb21TY2hlbWEoZGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIHBvc3RJdGVtKG9iajogeyBuZXcoKTogUmVjb3JkOyB9LCBkYXRhOiBSZWNvcmQpIDogUHJvbWlzZUxpa2U8c3RyaW5nPiB7XG5cbiAgICAgICAgLy8gcHJlZGljYXRlIGRvbWFpbiBtdXN0IGVxdWFsIHZhbHVlX3R5cGVcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuc2VsZWN0KCdwcmVkaWNhdGVzJywgWydyYW5nZV90eXBlJ10pLndoZXJlKHsgdWlkOiBkYXRhLnByZWRpY2F0ZSB9KVxuICAgICAgICAudGhlbigoW3ByZWRpY2F0ZV0pID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnZhbHVlVHlwZSA9PT0gcHJlZGljYXRlLnJhbmdlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IHN0aWxsIG5lZWQgdG8gY2hlY2sgZW50aXR5IHR5cGUgY29uc3RyYWludHNcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucG9zdEl0ZW0ob2JqLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBdHRlbXB0ZWQgdG8gYWRkIGEgcmVjb3JkIHdpdGggYW4gaW5jb3JyZWN0IHR5cGUhJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBQcm9taXNlLnJlc29sdmUoe30pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHB1dEl0ZW0ob2JqOiB7IG5ldygpOiBSZWNvcmQ7IH0sIHVpZDogbnVtYmVyLCBkYXRhOiBSZWNvcmQpIDogUHJvbWlzZUxpa2U8c3RyaW5nPiB7XG5cbiAgICAgICAgLy9UT0RPOiB3aGF0IGhhcHBlbnMgaWYgd2Ugb25seSB1cGRhdGUgdGhlIHZhbHVlIC0gYW5kIGRvIG5vdCBzZW5kIHRoZSB2YWx1ZVR5cGUgYWdhaW4/XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuc2VsZWN0KCdwcmVkaWNhdGVzJywgWydyYW5nZV90eXBlJ10pLndoZXJlKHsgdWlkOiBkYXRhLnByZWRpY2F0ZSB9KVxuICAgICAgICAudGhlbigoW3ByZWRpY2F0ZV0pID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnZhbHVlVHlwZSA9PT0gcHJlZGljYXRlLnJhbmdlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IHN0aWxsIG5lZWQgdG8gY2hlY2sgZW50aXR5IHR5cGUgY29uc3RyYWludHNcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucHV0SXRlbShvYmosIHVpZCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQXR0ZW1wdGVkIHRvIGFkZCBhIHJlY29yZCB3aXRoIGFuIGluY29ycmVjdCB0eXBlIScsXG4gICAgICAgICAgICAgICAgZGF0YTogUHJvbWlzZS5yZXNvbHZlKHt9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXRjaEl0ZW0ob2JqOiB7IG5ldygpOiBSZWNvcmQ7IH0sIHVpZDogbnVtYmVyLCBkYXRhOiBSZWNvcmQpIDogUHJvbWlzZUxpa2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5zZWxlY3QoJ3ByZWRpY2F0ZXMnLCBbJ3JhbmdlX3R5cGUnXSkud2hlcmUoeyB1aWQ6IGRhdGEucHJlZGljYXRlIH0pXG4gICAgICAgIC50aGVuKChbcHJlZGljYXRlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEudmFsdWVUeXBlID09PSBwcmVkaWNhdGUucmFuZ2VfdHlwZSkge1xuICAgICAgICAgICAgICAgIC8vVE9ETzogc3RpbGwgbmVlZCB0byBjaGVjayBlbnRpdHkgdHlwZSBjb25zdHJhaW50c1xuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5wYXRjaEl0ZW0ob2JqLCB1aWQsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0F0dGVtcHRlZCB0byBhZGQgYSByZWNvcmQgd2l0aCBhbiBpbmNvcnJlY3QgdHlwZSEnLFxuICAgICAgICAgICAgICAgIGRhdGE6IFByb21pc2UucmVzb2x2ZSh7fSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1JlY29yZENvbnRyb2xsZXIudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 95 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst RecordController_1 = __webpack_require__(94);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass SourceController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'sources');\r\n    }\r\n    toSchema(data) {\r\n        return Object.assign({}, lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'metaData', 'sameAs', 'parents', 'children', 'creationTimestamp', 'lastmodifiedTimestamp'), {\r\n            same_as: data.sameAs,\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp\r\n        });\r\n    }\r\n    fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.Source.prototype), Object.assign(data, {\r\n            'sameAs': data.same_as\r\n        }));\r\n    }\r\n    // override the getItemJson and getCollectionJson functions to also get information about the\r\n    // metadata associated with the retrieved source\r\n    getMetadata(fields, sourceId) {\r\n        return this.db.query().raw(`\n            WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM sources),\n                ancestor(uid) AS (\n                SELECT parent FROM parent_of WHERE uid=?\n                UNION ALL\n                SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\n            SELECT *\n                FROM ancestor;\n        `, sourceId).then((parents) => {\r\n            parents = lodash_1.map(parents, 'uid');\r\n            parents.pop();\r\n            parents = [sourceId].concat(parents);\r\n            return Promise.all(parents.map((parent) => this.db.query().select(fields)\r\n                .from('source_elements')\r\n                .innerJoin('elements', function () { this.on('source_elements.element', '=', 'elements.uid'); })\r\n                .innerJoin('element_sets', function () { this.on('element_sets.uid', '=', 'elements.element_set'); })\r\n                .where({ 'source_elements.source': parent }))).then((results) => {\r\n                const a = lodash_1.groupBy(lodash_1.flatten(results), 'label');\r\n                return Object.keys(a).reduce((prev, cur) => {\r\n                    const meta = lodash_1.omit(a[cur][0], 'source', 'value');\r\n                    meta['values'] = a[cur]\r\n                        .map((val) => ({ source: val.source, value: val.value, uid: val.uid }))\r\n                        .sort((a, b) => parents.indexOf(a.source) - parents.indexOf(b.source));\r\n                    return Object.assign(prev, { [cur]: meta });\r\n                }, {});\r\n            });\r\n        });\r\n    }\r\n    getItemJson(obj, uid) {\r\n        return super.getItemJson(obj, uid)\r\n            .then((source) => {\r\n            if (source.uid === null) {\r\n                throw new Error('could not find source');\r\n            }\r\n            return Promise.all([\r\n                this.getMetadata([\r\n                    'source_elements.source as source',\r\n                    'elements.label',\r\n                    'source_elements.value',\r\n                    'elements.description',\r\n                    'element_sets.label as element_set',\r\n                    'elements.comment',\r\n                    'elements.uri',\r\n                    'elements.uid as element_uid'], source.uid),\r\n                this.db.query().select('uid').from('sources').where({ parent: uid }),\r\n                this.db.query().raw(`\n                    WITH RECURSIVE parent_of(uid, parent) AS  (SELECT uid, parent FROM sources),\n                    ancestor(uid) AS (\n                    SELECT parent FROM parent_of WHERE uid=?\n                    UNION ALL\n                    SELECT parent FROM parent_of JOIN ancestor USING(uid) )\n\n                    SELECT uid\n                    FROM ancestor;\n                `, uid)\r\n            ])\r\n                .then(([sourceElements, children, parents]) => {\r\n                source.metaData = sourceElements;\r\n                source.children = children.map((child) => child.uid).filter((child) => child !== null);\r\n                source.parents = parents.map((parent) => parent.uid).filter((parent) => parent !== null);\r\n                return source;\r\n            });\r\n        });\r\n    }\r\n    getCollectionJson(obj, params = {}) {\r\n        return super.getCollectionJson(obj, params)\r\n            .then((sources) => {\r\n            return Promise.all(sources.map((source) => {\r\n                if (source.uid === null) {\r\n                    throw new Error('could not find source');\r\n                }\r\n                return this.getMetadata([\r\n                    'elements.label',\r\n                    'source_elements.value'\r\n                ], source.uid)\r\n                    .then((sourceElements) => {\r\n                    source.metaData = sourceElements;\r\n                    return source;\r\n                });\r\n            }));\r\n        });\r\n    }\r\n    //TODO should find every child source, not just the direct children\r\n    deleteItem(obj, uid) {\r\n        // check if this entity is the parent of another entity or if it has any relationships\r\n        // pointing towards it.\r\n        return Promise.all([\r\n            this.db.loadCollection('records', { source: uid }),\r\n            this.db.loadCollection('sources', { parent: uid })\r\n        ]).then(([records, sources]) => {\r\n            if (records.length + sources.length === 0) {\r\n                return this.db.deleteItem(this.tableName, uid);\r\n            }\r\n            else {\r\n                throw new Exceptions_1.OperationNotPermittedException({\r\n                    message: 'The operation could not be completed as the source is used by other records',\r\n                    data: Promise.resolve({\r\n                        record: records.map((record) => RecordController_1.RecordController.fromSchema(record)),\r\n                        source: sources.map((source) => this.fromSchema(source))\r\n                    })\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.SourceController = SourceController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1NvdXJjZUNvbnRyb2xsZXIudHM/NDgxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHOztBQUlILDBDQUFtQyxFQUFhLENBQUM7QUFDakQsZ0RBQWtDLEVBQXFCLENBQUM7QUFFeEQseUNBQStDLEVBQW9CLENBQUM7QUFFcEUsK0NBQWlDLEVBQW9CLENBQUM7QUFFdEQscUNBQXFELEVBQVEsQ0FBQztBQUU5RCwrQkFBc0MscUNBQWlCO0lBRW5ELFlBQVksRUFBYTtRQUNyQixNQUFNLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRU0sUUFBUSxDQUFDLElBQVk7UUFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLGFBQUksQ0FBQyx3QkFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFDakQsVUFBVSxFQUNWLFFBQVEsRUFDUixTQUFTLEVBQ1QsVUFBVSxFQUNWLG1CQUFtQixFQUNuQix1QkFBdUIsQ0FDMUIsRUFBRTtZQUNDLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNwQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1lBQzFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7U0FDckQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFVBQVUsQ0FBQyxJQUFTO1FBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsb0JBQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtZQUN0RSxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDekIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0lBRUQsNkZBQTZGO0lBQzdGLGdEQUFnRDtJQUV4QyxXQUFXLENBQUMsTUFBaUIsRUFBRSxRQUFnQjtRQUVuRCxNQUFNLENB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Q25ELENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixNQUFNLElBQUksMkNBQThCLENBQUM7b0JBQ3JDLE9BQU8sRUFBRSw2RUFBNkU7b0JBQ3RGLElBQUksRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDO3dCQUNsQixNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sS0FBSyxtQ0FBZ0IsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7d0JBQ3BFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7cUJBQzNELENBQUM7aUJBQ0wsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztBQUNMLENBQUM7QUFySlksd0JBQWdCLG1CQXFKNUIiLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcblxuaW1wb3J0IHsgU291cmNlLCBTZXJpYWxpemVyIH0gZnJvbSAnZmFsY29uLWNvcmUnO1xuaW1wb3J0IHsgR2VuZXJpY0NvbnRyb2xsZXIgfSBmcm9tICcuL0dlbmVyaWNDb250cm9sbGVyJztcblxuaW1wb3J0IHsgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIH0gZnJvbSAnLi4vY29yZS9FeGNlcHRpb25zJztcblxuaW1wb3J0IHsgUmVjb3JkQ29udHJvbGxlciB9IGZyb20gJy4vUmVjb3JkQ29udHJvbGxlcic7XG5cbmltcG9ydCB7IG9taXQsIGdyb3VwQnksIGZsYXR0ZW4sIG1hcCBhcyBwbHVjayB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VDb250cm9sbGVyIGV4dGVuZHMgR2VuZXJpY0NvbnRyb2xsZXI8U291cmNlPiB7XG5cbiAgICBjb25zdHJ1Y3RvcihkYiA6IERhdGFiYXNlKSB7XG4gICAgICAgIHN1cGVyKGRiLCAnc291cmNlcycpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1NjaGVtYShkYXRhOiBTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG9taXQoU2VyaWFsaXplci50b0pzb24oZGF0YSksXG4gICAgICAgICAgICAnbWV0YURhdGEnLFxuICAgICAgICAgICAgJ3NhbWVBcycsXG4gICAgICAgICAgICAncGFyZW50cycsXG4gICAgICAgICAgICAnY2hpbGRyZW4nLFxuICAgICAgICAgICAgJ2NyZWF0aW9uVGltZXN0YW1wJyxcbiAgICAgICAgICAgICdsYXN0bW9kaWZpZWRUaW1lc3RhbXAnXG4gICAgICAgICksIHtcbiAgICAgICAgICAgIHNhbWVfYXM6IGRhdGEuc2FtZUFzLFxuICAgICAgICAgICAgY3JlYXRpb25fdGltZXN0YW1wOiBkYXRhLmNyZWF0aW9uVGltZXN0YW1wLFxuICAgICAgICAgICAgbGFzdG1vZGlmaWVkX3RpbWVTdGFtcDogZGF0YS5sYXN0bW9kaWZpZWRUaW1lc3RhbXBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZyb21TY2hlbWEoZGF0YTogYW55KSA6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoU291cmNlLnByb3RvdHlwZSksIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgICAgICAgJ3NhbWVBcyc6IGRhdGEuc2FtZV9hc1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGdldEl0ZW1Kc29uIGFuZCBnZXRDb2xsZWN0aW9uSnNvbiBmdW5jdGlvbnMgdG8gYWxzbyBnZXQgaW5mb3JtYXRpb24gYWJvdXQgdGhlXG4gICAgLy8gbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXRyaWV2ZWQgc291cmNlXG5cbiAgICBwcml2YXRlIGdldE1ldGFkYXRhKGZpZWxkcyA6IHN0cmluZ1tdLCBzb3VyY2VJZDogbnVtYmVyKSA6IFByb21pc2VMaWtlPGFueT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRiLnF1ZXJ5KCkucmF3KGBcbiAgICAgICAgICAgIFdJVEggUkVDVVJTSVZFIHBhcmVudF9vZih1aWQsIHBhcmVudCkgQVMgIChTRUxFQ1QgdWlkLCBwYXJlbnQgRlJPTSBzb3VyY2VzKSxcbiAgICAgICAgICAgICAgICBhbmNlc3Rvcih1aWQpIEFTIChcbiAgICAgICAgICAgICAgICBTRUxFQ1QgcGFyZW50IEZST00gcGFyZW50X29mIFdIRVJFIHVpZD0/XG4gICAgICAgICAgICAgICAgVU5JT04gQUxMXG4gICAgICAgICAgICAgICAgU0VMRUNUIHBhcmVudCBGUk9NIHBhcmVudF9vZiBKT0lOIGFuY2VzdG9yIFVTSU5HKHVpZCkgKVxuXG4gICAgICAgICAgICBTRUxFQ1QgKlxuICAgICAgICAgICAgICAgIEZST00gYW5jZXN0b3I7XG4gICAgICAgIGAsIHNvdXJjZUlkKS50aGVuKChwYXJlbnRzKSA9PiB7XG4gICAgICAgICAgICBwYXJlbnRzID0gcGx1Y2socGFyZW50cywgJ3VpZCcpO1xuICAgICAgICAgICAgcGFyZW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBhcmVudHMgPSBbc291cmNlSWRdLmNvbmNhdChwYXJlbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwYXJlbnRzLm1hcCgocGFyZW50KSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuZGIucXVlcnkoKS5zZWxlY3QoZmllbGRzKVxuICAgICAgICAgICAgICAgIC5mcm9tKCdzb3VyY2VfZWxlbWVudHMnKVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4oJ2VsZW1lbnRzJywgZnVuY3Rpb24oKSB7IHRoaXMub24oJ3NvdXJjZV9lbGVtZW50cy5lbGVtZW50JywgJz0nLCAnZWxlbWVudHMudWlkJyk7IH0pXG4gICAgICAgICAgICAgICAgLmlubmVySm9pbignZWxlbWVudF9zZXRzJywgZnVuY3Rpb24oKSB7IHRoaXMub24oJ2VsZW1lbnRfc2V0cy51aWQnLCAnPScsICdlbGVtZW50cy5lbGVtZW50X3NldCcpOyB9KVxuICAgICAgICAgICAgICAgIC53aGVyZSh7ICdzb3VyY2VfZWxlbWVudHMuc291cmNlJzogcGFyZW50IH0pXG5cbiAgICAgICAgICAgICkpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gZ3JvdXBCeShmbGF0dGVuKHJlc3VsdHMpLCAnbGFiZWwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYSkucmVkdWNlKChwcmV2LCBjdXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IG9taXQoYVtjdXJdWzBdLCAnc291cmNlJywgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFbJ3ZhbHVlcyddID0gYVtjdXJdXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh2YWwpID0+ICh7IHNvdXJjZTogdmFsLnNvdXJjZSwgdmFsdWU6IHZhbC52YWx1ZSwgdWlkOiB2YWwudWlkIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHBhcmVudHMuaW5kZXhPZihhLnNvdXJjZSkgLSBwYXJlbnRzLmluZGV4T2YoYi5zb3VyY2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJldiwgeyBbY3VyXTogbWV0YSB9KTtcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW1Kc29uKG9iajogeyBuZXcoKTogU291cmNlOyB9LCB1aWQ6IG51bWJlcikgOiBQcm9taXNlTGlrZTxTb3VyY2U+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldEl0ZW1Kc29uKG9iaiwgdWlkKVxuICAgICAgICAudGhlbigoc291cmNlKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UudWlkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBzb3VyY2UnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE1ldGFkYXRhKFtcbiAgICAgICAgICAgICAgICAnc291cmNlX2VsZW1lbnRzLnNvdXJjZSBhcyBzb3VyY2UnLFxuICAgICAgICAgICAgICAgICdlbGVtZW50cy5sYWJlbCcsXG4gICAgICAgICAgICAgICAgJ3NvdXJjZV9lbGVtZW50cy52YWx1ZScsXG4gICAgICAgICAgICAgICAgJ2VsZW1lbnRzLmRlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICAnZWxlbWVudF9zZXRzLmxhYmVsIGFzIGVsZW1lbnRfc2V0JyxcbiAgICAgICAgICAgICAgICAnZWxlbWVudHMuY29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ2VsZW1lbnRzLnVyaScsXG4gICAgICAgICAgICAgICAgJ2VsZW1lbnRzLnVpZCBhcyBlbGVtZW50X3VpZCddLCBzb3VyY2UudWlkKSxcblxuICAgICAgICAgICAgICAgIHRoaXMuZGIucXVlcnkoKS5zZWxlY3QoJ3VpZCcpLmZyb20oJ3NvdXJjZXMnKS53aGVyZSh7IHBhcmVudDogdWlkIH0pLFxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYi5xdWVyeSgpLnJhdyhgXG4gICAgICAgICAgICAgICAgICAgIFdJVEggUkVDVVJTSVZFIHBhcmVudF9vZih1aWQsIHBhcmVudCkgQVMgIChTRUxFQ1QgdWlkLCBwYXJlbnQgRlJPTSBzb3VyY2VzKSxcbiAgICAgICAgICAgICAgICAgICAgYW5jZXN0b3IodWlkKSBBUyAoXG4gICAgICAgICAgICAgICAgICAgIFNFTEVDVCBwYXJlbnQgRlJPTSBwYXJlbnRfb2YgV0hFUkUgdWlkPT9cbiAgICAgICAgICAgICAgICAgICAgVU5JT04gQUxMXG4gICAgICAgICAgICAgICAgICAgIFNFTEVDVCBwYXJlbnQgRlJPTSBwYXJlbnRfb2YgSk9JTiBhbmNlc3RvciBVU0lORyh1aWQpIClcblxuICAgICAgICAgICAgICAgICAgICBTRUxFQ1QgdWlkXG4gICAgICAgICAgICAgICAgICAgIEZST00gYW5jZXN0b3I7XG4gICAgICAgICAgICAgICAgYCwgdWlkKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC50aGVuKChbc291cmNlRWxlbWVudHMsIGNoaWxkcmVuLCBwYXJlbnRzXSkgPT4ge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5tZXRhRGF0YSA9IHNvdXJjZUVsZW1lbnRzO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5jaGlsZHJlbiA9IGNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnVpZCkuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IG51bGwpO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5wYXJlbnRzID0gcGFyZW50cy5tYXAoKHBhcmVudCkgPT4gcGFyZW50LnVpZCkuZmlsdGVyKChwYXJlbnQpID0+IHBhcmVudCAhPT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q29sbGVjdGlvbkpzb24ob2JqOiB7IG5ldygpOiBTb3VyY2U7IH0sIHBhcmFtczogYW55ID0ge30pIDogUHJvbWlzZTxTb3VyY2VbXT4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29sbGVjdGlvbkpzb24ob2JqLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKChzb3VyY2VzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoc291cmNlcy5tYXAoKHNvdXJjZSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS51aWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhZGF0YShbXG4gICAgICAgICAgICAgICAgICAgICdlbGVtZW50cy5sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICdzb3VyY2VfZWxlbWVudHMudmFsdWUnXG4gICAgICAgICAgICAgICAgXSwgc291cmNlLnVpZClcbiAgICAgICAgICAgICAgICAudGhlbigoc291cmNlRWxlbWVudHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLm1ldGFEYXRhID0gc291cmNlRWxlbWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9UT0RPIHNob3VsZCBmaW5kIGV2ZXJ5IGNoaWxkIHNvdXJjZSwgbm90IGp1c3QgdGhlIGRpcmVjdCBjaGlsZHJlblxuICAgIHB1YmxpYyBkZWxldGVJdGVtKG9iajogeyBuZXcoKTogU291cmNlOyB9LCB1aWQ6IG51bWJlcikgOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGVudGl0eSBpcyB0aGUgcGFyZW50IG9mIGFub3RoZXIgZW50aXR5IG9yIGlmIGl0IGhhcyBhbnkgcmVsYXRpb25zaGlwc1xuICAgICAgICAvLyBwb2ludGluZyB0b3dhcmRzIGl0LlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGhpcy5kYi5sb2FkQ29sbGVjdGlvbigncmVjb3JkcycsIHsgc291cmNlOiB1aWR9KSxcbiAgICAgICAgICAgIHRoaXMuZGIubG9hZENvbGxlY3Rpb24oJ3NvdXJjZXMnLCB7IHBhcmVudDogdWlkfSlcbiAgICAgICAgXSkudGhlbigoW3JlY29yZHMsIHNvdXJjZXNdKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggKyBzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLmRlbGV0ZUl0ZW0odGhpcy50YWJsZU5hbWUsIHVpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkIGFzIHRoZSBzb3VyY2UgaXMgdXNlZCBieSBvdGhlciByZWNvcmRzJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3Jkcy5tYXAoKHJlY29yZCkgPT4gUmVjb3JkQ29udHJvbGxlci5mcm9tU2NoZW1hKHJlY29yZCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2VzLm1hcCgoc291cmNlKSA9PiB0aGlzLmZyb21TY2hlbWEoc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NlcnZlci9jb250cm9sbGVycy9Tb3VyY2VDb250cm9sbGVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 96 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nclass ElementController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'elements');\r\n    }\r\n    toSchema(data) {\r\n        return falcon_core_1.Serializer.toJson(data);\r\n    }\r\n    fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.Element.prototype), data);\r\n    }\r\n}\r\nexports.ElementController = ElementController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL0VsZW1lbnRDb250cm9sbGVyLnRzP2VlYmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFJSCwwQ0FBb0MsRUFBYSxDQUFDO0FBRWxELGdEQUFrQyxFQUFxQixDQUFDO0FBRXhELGdDQUF1QyxxQ0FBaUI7SUFFcEQsWUFBWSxFQUFhO1FBQ3JCLE1BQU0sRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFTSxRQUFRLENBQUMsSUFBYTtRQUN6QixNQUFNLENBQUMsd0JBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVNLFVBQVUsQ0FBQyxJQUFTO1FBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMscUJBQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRSxDQUFDO0FBQ0wsQ0FBQztBQWJZLHlCQUFpQixvQkFhN0IiLCJmaWxlIjoiOTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgZWxlbWVudCBzZXRzXG4gKiBAYXV0aG9yIDxhIGhyZWY9J21haWx0bzp0aW0uaG9sbGllc0B3YXJ3aWNrLmFjLnVrJz5UaW0gSG9sbGllczwvYT5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKi9cblxuaW1wb3J0IHsgRGF0YWJhc2UgfSBmcm9tICcuLi9jb3JlL0RhdGFiYXNlJztcblxuaW1wb3J0IHsgRWxlbWVudCwgU2VyaWFsaXplciB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuaW1wb3J0IHsgR2VuZXJpY0NvbnRyb2xsZXIgfSBmcm9tICcuL0dlbmVyaWNDb250cm9sbGVyJztcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRDb250cm9sbGVyIGV4dGVuZHMgR2VuZXJpY0NvbnRyb2xsZXI8RWxlbWVudD4ge1xuXG4gICAgY29uc3RydWN0b3IoZGIgOiBEYXRhYmFzZSkge1xuICAgICAgICBzdXBlcihkYiwgJ2VsZW1lbnRzJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU2NoZW1hKGRhdGE6IEVsZW1lbnQpIDogYW55IHtcbiAgICAgICAgcmV0dXJuIFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmcm9tU2NoZW1hKGRhdGE6IGFueSkgOiBFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShFbGVtZW50LnByb3RvdHlwZSksIGRhdGEpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvRWxlbWVudENvbnRyb2xsZXIudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 97 */
/***/ function(module, exports, __webpack_require__) {

	eval("/**\r\n * @fileOverview Controller for element sets\r\n * @author <a href='mailto:tim.hollies@warwick.ac.uk'>Tim Hollies</a>\r\n * @version 0.0.1\r\n */\r\n\"use strict\";\r\nconst falcon_core_1 = __webpack_require__(29);\r\nconst GenericController_1 = __webpack_require__(90);\r\nconst Exceptions_1 = __webpack_require__(78);\r\nconst lodash_1 = __webpack_require__(20);\r\nclass SourceElementController extends GenericController_1.GenericController {\r\n    constructor(db) {\r\n        super(db, 'source_elements');\r\n    }\r\n    toSchema(data) {\r\n        return Object.assign(lodash_1.omit(falcon_core_1.Serializer.toJson(data), 'creationTimestamp', 'lastmodifiedTimestamp', 'uid', 'label'), {\r\n            creation_timestamp: data.creationTimestamp,\r\n            lastmodified_timeStamp: data.lastmodifiedTimestamp,\r\n            source: data.uid.values.source,\r\n            element: data.uid.values.element\r\n        });\r\n    }\r\n    fromSchema(data) {\r\n        return Object.assign(Object.create(falcon_core_1.SourceElement.prototype), Object.assign(data, {\r\n            uid: {\r\n                order: ['source', 'element'],\r\n                values: {\r\n                    source: data.source,\r\n                    element: data.element\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    getItemJson(obj, uid) {\r\n        return this.db.query().select()\r\n            .from(this.tableName)\r\n            .where(uid.values)\r\n            .first()\r\n            .then((result) => result === undefined ? Promise.reject(new Exceptions_1.KeyNotFoundException()) : result)\r\n            .then((data) => this.fromSchema(data));\r\n    }\r\n    putItem(obj, uid, data) {\r\n        return this.db.query()(this.tableName)\r\n            .where(uid.values)\r\n            .update(this.toSchema(data));\r\n    }\r\n    patchItem(obj, uid, data) {\r\n        const schemaData = this.toSchema(data);\r\n        const keys = Object.keys(schemaData);\r\n        const updateObject = {};\r\n        for (let i = 0; i < keys.length; i += 1) {\r\n            if (schemaData[keys[i]] !== undefined) {\r\n                updateObject[keys[i]] = schemaData[keys[i]];\r\n            }\r\n        }\r\n        return this.db.query()(this.tableName)\r\n            .where(uid.values)\r\n            .update(updateObject)\r\n            .then(() => true)\r\n            .catch((err) => { throw new Error(err); });\r\n    }\r\n    deleteItem(obj, uid) {\r\n        return this.db.query()(this.tableName)\r\n            .where(uid.values)\r\n            .del();\r\n    }\r\n}\r\nexports.SourceElementController = SourceElementController;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1NvdXJjZUVsZW1lbnRDb250cm9sbGVyLnRzP2Y5NWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRzs7QUFJSCwwQ0FBd0QsRUFBYSxDQUFDO0FBRXRFLGdEQUFrQyxFQUFxQixDQUFDO0FBRXhELHlDQUFxQyxFQUFvQixDQUFDO0FBRTFELHFDQUFxQixFQUFRLENBQUM7QUFFOUIsc0NBQTZDLHFDQUFpQjtJQUUxRCxZQUFZLEVBQWE7UUFDckIsTUFBTSxFQUFFLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU8sUUFBUSxDQUFDLElBQW1CO1FBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQUksQ0FBQyx3QkFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFDN0MsbUJBQW1CLEVBQ25CLHVCQUF1QixFQUN2QixLQUFLLEVBQ0wsT0FBTyxDQUNWLEVBQUU7WUFDQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1lBQzFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxxQkFBcUI7WUFDbEQsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU07WUFDOUIsT0FBTyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU87U0FDbkMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLFVBQVUsQ0FBQyxJQUFTO1FBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsMkJBQWEsQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtZQUN6RSxHQUFHLEVBQUU7Z0JBQ0wsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQztnQkFDNUIsTUFBTSxFQUFFO29CQUNKLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtvQkFDbkIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO2lCQUN4QjthQUNKO1NBQ0osQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0lBRU0sV0FBVyxDQUFDLEdBQThCLEVBQUUsR0FBaUI7UUFDaEUsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFO2FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ3BCLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO2FBQ2pCLEtBQUssRUFBRTthQUNQLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNLEtBQUssU0FBUyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxpQ0FBb0IsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDO2FBQzVGLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVNLE9BQU8sQ0FBQyxHQUE4QixFQUFFLEdBQWlCLEVBQUUsSUFBbUI7UUFDakYsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNqQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQzthQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTSxTQUFTLENBQUMsR0FBOEIsRUFBRSxHQUFpQixFQUFFLElBQW1CO1FBQ25GLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdkMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUVyQyxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUM7UUFFeEIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUN0QyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDcEMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoRCxDQUFDO1FBQ0wsQ0FBQztRQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDakMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7YUFDakIsTUFBTSxDQUFDLFlBQVksQ0FBQzthQUNwQixJQUFJLENBQUMsTUFBTSxJQUFJLENBQUM7YUFDaEIsS0FBSyxDQUFDLENBQUMsR0FBRyxPQUFPLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU0sVUFBVSxDQUFDLEdBQThCLEVBQUUsR0FBaUI7UUFDL0QsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNqQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQzthQUNqQixHQUFHLEVBQUUsQ0FBQztJQUNmLENBQUM7QUFDTCxDQUFDO0FBeEVZLCtCQUF1QiwwQkF3RW5DIiwiZmlsZSI6Ijk3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IENvbnRyb2xsZXIgZm9yIGVsZW1lbnQgc2V0c1xuICogQGF1dGhvciA8YSBocmVmPSdtYWlsdG86dGltLmhvbGxpZXNAd2Fyd2ljay5hYy51ayc+VGltIEhvbGxpZXM8L2E+XG4gKiBAdmVyc2lvbiAwLjAuMVxuICovXG5cbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi4vY29yZS9EYXRhYmFzZSc7XG5cbmltcG9ydCB7IFNvdXJjZUVsZW1lbnQsIFNlcmlhbGl6ZXIsIENvbXBvc2l0ZUtleSB9IGZyb20gJ2ZhbGNvbi1jb3JlJztcblxuaW1wb3J0IHsgR2VuZXJpY0NvbnRyb2xsZXIgfSBmcm9tICcuL0dlbmVyaWNDb250cm9sbGVyJztcblxuaW1wb3J0IHsgS2V5Tm90Rm91bmRFeGNlcHRpb24gfSBmcm9tICcuLi9jb3JlL0V4Y2VwdGlvbnMnO1xuXG5pbXBvcnQgeyBvbWl0IH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGNsYXNzIFNvdXJjZUVsZW1lbnRDb250cm9sbGVyIGV4dGVuZHMgR2VuZXJpY0NvbnRyb2xsZXI8U291cmNlRWxlbWVudD4ge1xuXG4gICAgY29uc3RydWN0b3IoZGIgOiBEYXRhYmFzZSkge1xuICAgICAgICBzdXBlcihkYiwgJ3NvdXJjZV9lbGVtZW50cycpO1xuICAgIH1cblxuICAgICBwdWJsaWMgdG9TY2hlbWEoZGF0YTogU291cmNlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvbWl0KFNlcmlhbGl6ZXIudG9Kc29uKGRhdGEpLFxuICAgICAgICAgICAgJ2NyZWF0aW9uVGltZXN0YW1wJyxcbiAgICAgICAgICAgICdsYXN0bW9kaWZpZWRUaW1lc3RhbXAnLFxuICAgICAgICAgICAgJ3VpZCcsXG4gICAgICAgICAgICAnbGFiZWwnXG4gICAgICAgICksIHtcbiAgICAgICAgICAgIGNyZWF0aW9uX3RpbWVzdGFtcDogZGF0YS5jcmVhdGlvblRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3Rtb2RpZmllZF90aW1lU3RhbXA6IGRhdGEubGFzdG1vZGlmaWVkVGltZXN0YW1wLFxuICAgICAgICAgICAgc291cmNlOiBkYXRhLnVpZC52YWx1ZXMuc291cmNlLFxuICAgICAgICAgICAgZWxlbWVudDogZGF0YS51aWQudmFsdWVzLmVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZyb21TY2hlbWEoZGF0YTogYW55KSA6IFNvdXJjZUVsZW1lbnQge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFNvdXJjZUVsZW1lbnQucHJvdG90eXBlKSwgT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICAgICAgICAgICAgdWlkOiB7XG4gICAgICAgICAgICAgICAgb3JkZXI6IFsnc291cmNlJywgJ2VsZW1lbnQnXSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBkYXRhLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZGF0YS5lbGVtZW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW1Kc29uKG9iajogeyBuZXcoKTogU291cmNlRWxlbWVudDsgfSwgdWlkOiBDb21wb3NpdGVLZXkpIDogUHJvbWlzZUxpa2U8U291cmNlRWxlbWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgpLnNlbGVjdCgpXG4gICAgICAgIC5mcm9tKHRoaXMudGFibGVOYW1lKVxuICAgICAgICAud2hlcmUodWlkLnZhbHVlcylcbiAgICAgICAgLmZpcnN0KClcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBQcm9taXNlLnJlamVjdChuZXcgS2V5Tm90Rm91bmRFeGNlcHRpb24oKSkgOiByZXN1bHQpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmZyb21TY2hlbWEoZGF0YSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwdXRJdGVtKG9iajogeyBuZXcoKTogU291cmNlRWxlbWVudDsgfSwgdWlkOiBDb21wb3NpdGVLZXksIGRhdGE6IFNvdXJjZUVsZW1lbnQpIDogUHJvbWlzZUxpa2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLnF1ZXJ5KCkodGhpcy50YWJsZU5hbWUpXG4gICAgICAgICAgICAud2hlcmUodWlkLnZhbHVlcylcbiAgICAgICAgICAgIC51cGRhdGUodGhpcy50b1NjaGVtYShkYXRhKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHBhdGNoSXRlbShvYmo6IHsgbmV3KCk6IFNvdXJjZUVsZW1lbnQ7IH0sIHVpZDogQ29tcG9zaXRlS2V5LCBkYXRhOiBTb3VyY2VFbGVtZW50KSA6IFByb21pc2VMaWtlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgc2NoZW1hRGF0YSA9IHRoaXMudG9TY2hlbWEoZGF0YSk7XG5cbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNjaGVtYURhdGEpO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZU9iamVjdCA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYURhdGFba2V5c1tpXV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZU9iamVjdFtrZXlzW2ldXSA9IHNjaGVtYURhdGFba2V5c1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgpKHRoaXMudGFibGVOYW1lKVxuICAgICAgICAgICAgLndoZXJlKHVpZC52YWx1ZXMpXG4gICAgICAgICAgICAudXBkYXRlKHVwZGF0ZU9iamVjdClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRydWUpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4geyB0aHJvdyBuZXcgRXJyb3IoZXJyKTsgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlbGV0ZUl0ZW0ob2JqOiB7IG5ldygpOiBTb3VyY2VFbGVtZW50OyB9LCB1aWQ6IENvbXBvc2l0ZUtleSkgOiBQcm9taXNlTGlrZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIucXVlcnkoKSh0aGlzLnRhYmxlTmFtZSlcbiAgICAgICAgICAgIC53aGVyZSh1aWQudmFsdWVzKVxuICAgICAgICAgICAgLmRlbCgpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvU291cmNlRWxlbWVudENvbnRyb2xsZXIudHMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 98 */
/***/ function(module, exports) {

	eval("module.exports = require(\"electron\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlbGVjdHJvblwiPzY5MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVjdHJvblwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImVsZWN0cm9uXCJcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ]);